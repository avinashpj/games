import{a as cv,b as Hi}from"./chunk-M7W3W4HF.js";import{c as yi,d as xi,e as $l,f as Wm,g as Go,h as pA,i as Ym,j as gA,k as Xm,l as vi,m as vA,r as _A,s as Hl,t as bA,v as uv,w as wA,x as ff}from"./chunk-UAAYCBFL.js";import"./chunk-TQETTR35.js";import"./chunk-74OH2DRK.js";import"./chunk-OMRM5QOU.js";import{a as qm,c as Zm,f as Qm,g as EA}from"./chunk-5TEBAXYE.js";import{D as gi,J as Gl,K as fA,L as df,M as Lt,R as rn,T as mA,U as $o,a as W,b as ve,c as Gi,d as Ze,da as yA,e as Hm,f as Ul,fa as xA,g as B,h as ye,i as $i,j as lv,k as lA,l as cA,m as uA,q as hA,qa as zm,s as jl,u as qr,wa as vu,y as dA}from"./chunk-P7QR4T6U.js";var FD=Ze((_Q,Hw)=>{"use strict";var ph=typeof Reflect=="object"?Reflect:null,CD=ph&&typeof ph.apply=="function"?ph.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)},zy;ph&&typeof ph.ownKeys=="function"?zy=ph.ownKeys:Object.getOwnPropertySymbols?zy=function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:zy=function(e){return Object.getOwnPropertyNames(e)};function I4(n){console&&console.warn&&console.warn(n)}var TD=Number.isNaN||function(e){return e!==e};function ut(){ut.init.call(this)}Hw.exports=ut;Hw.exports.once=O4;ut.EventEmitter=ut;ut.prototype._events=void 0;ut.prototype._eventsCount=0;ut.prototype._maxListeners=void 0;var AD=10;function qy(n){if(typeof n!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n)}Object.defineProperty(ut,"defaultMaxListeners",{enumerable:!0,get:function(){return AD},set:function(n){if(typeof n!="number"||n<0||TD(n))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+n+".");AD=n}});ut.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0};ut.prototype.setMaxListeners=function(e){if(typeof e!="number"||e<0||TD(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this};function MD(n){return n._maxListeners===void 0?ut.defaultMaxListeners:n._maxListeners}ut.prototype.getMaxListeners=function(){return MD(this)};ut.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i=e==="error",s=this._events;if(s!==void 0)i=i&&s.error===void 0;else if(!i)return!1;if(i){var a;if(t.length>0&&(a=t[0]),a instanceof Error)throw a;var l=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw l.context=a,l}var o=s[e];if(o===void 0)return!1;if(typeof o=="function")CD(o,this,t);else for(var c=o.length,u=OD(o,c),r=0;r<c;++r)CD(u[r],this,t);return!0};function ID(n,e,t,r){var i,s,a;if(qy(t),s=n._events,s===void 0?(s=n._events=Object.create(null),n._eventsCount=0):(s.newListener!==void 0&&(n.emit("newListener",e,t.listener?t.listener:t),s=n._events),a=s[e]),a===void 0)a=s[e]=t,++n._eventsCount;else if(typeof a=="function"?a=s[e]=r?[t,a]:[a,t]:r?a.unshift(t):a.push(t),i=MD(n),i>0&&a.length>i&&!a.warned){a.warned=!0;var l=new Error("Possible EventEmitter memory leak detected. "+a.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");l.name="MaxListenersExceededWarning",l.emitter=n,l.type=e,l.count=a.length,I4(l)}return n}ut.prototype.addListener=function(e,t){return ID(this,e,t,!1)};ut.prototype.on=ut.prototype.addListener;ut.prototype.prependListener=function(e,t){return ID(this,e,t,!0)};function D4(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function DD(n,e,t){var r={fired:!1,wrapFn:void 0,target:n,type:e,listener:t},i=D4.bind(r);return i.listener=t,r.wrapFn=i,i}ut.prototype.once=function(e,t){return qy(t),this.on(e,DD(this,e,t)),this};ut.prototype.prependOnceListener=function(e,t){return qy(t),this.prependListener(e,DD(this,e,t)),this};ut.prototype.removeListener=function(e,t){var r,i,s,a,l;if(qy(t),i=this._events,i===void 0)return this;if(r=i[e],r===void 0)return this;if(r===t||r.listener===t)--this._eventsCount===0?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,r.listener||t));else if(typeof r!="function"){for(s=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){l=r[a].listener,s=a;break}if(s<0)return this;s===0?r.shift():R4(r,s),r.length===1&&(i[e]=r[0]),i.removeListener!==void 0&&this.emit("removeListener",e,l||t)}return this};ut.prototype.off=ut.prototype.removeListener;ut.prototype.removeAllListeners=function(e){var t,r,i;if(r=this._events,r===void 0)return this;if(r.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):r[e]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete r[e]),this;if(arguments.length===0){var s=Object.keys(r),a;for(i=0;i<s.length;++i)a=s[i],a!=="removeListener"&&this.removeAllListeners(a);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(t=r[e],typeof t=="function")this.removeListener(e,t);else if(t!==void 0)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this};function RD(n,e,t){var r=n._events;if(r===void 0)return[];var i=r[e];return i===void 0?[]:typeof i=="function"?t?[i.listener||i]:[i]:t?P4(i):OD(i,i.length)}ut.prototype.listeners=function(e){return RD(this,e,!0)};ut.prototype.rawListeners=function(e){return RD(this,e,!1)};ut.listenerCount=function(n,e){return typeof n.listenerCount=="function"?n.listenerCount(e):PD.call(n,e)};ut.prototype.listenerCount=PD;function PD(n){var e=this._events;if(e!==void 0){var t=e[n];if(typeof t=="function")return 1;if(t!==void 0)return t.length}return 0}ut.prototype.eventNames=function(){return this._eventsCount>0?zy(this._events):[]};function OD(n,e){for(var t=new Array(e),r=0;r<e;++r)t[r]=n[r];return t}function R4(n,e){for(;e+1<n.length;e++)n[e]=n[e+1];n.pop()}function P4(n){for(var e=new Array(n.length),t=0;t<e.length;++t)e[t]=n[t].listener||n[t];return e}function O4(n,e){return new Promise(function(t,r){function i(a){n.removeListener(e,s),r(a)}function s(){typeof n.removeListener=="function"&&n.removeListener("error",i),t([].slice.call(arguments))}ND(n,e,s,{once:!0}),e!=="error"&&N4(n,i,{once:!0})})}function N4(n,e,t){typeof n.on=="function"&&ND(n,"error",e,t)}function ND(n,e,t,r){if(typeof n.on=="function")r.once?n.once(e,t):n.on(e,t);else if(typeof n.addEventListener=="function")n.addEventListener(e,function i(s){r.once&&n.removeEventListener(e,i),t(s)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof n)}});var Yw=Ze(Zy=>{"use strict";(function(){"use strict";var n=function(){this.init()};n.prototype={init:function(){var u=this||e;return u._counter=1e3,u._html5AudioPool=[],u.html5PoolSize=10,u._codecs={},u._howls=[],u._muted=!1,u._volume=1,u._canPlayEvent="canplaythrough",u._navigator=typeof window<"u"&&window.navigator?window.navigator:null,u.masterGain=null,u.noAudio=!1,u.usingWebAudio=!0,u.autoSuspend=!0,u.ctx=null,u.autoUnlock=!0,u._setup(),u},volume:function(u){var h=this||e;if(u=parseFloat(u),h.ctx||c(),typeof u<"u"&&u>=0&&u<=1){if(h._volume=u,h._muted)return h;h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u,e.ctx.currentTime);for(var d=0;d<h._howls.length;d++)if(!h._howls[d]._webAudio)for(var f=h._howls[d]._getSoundIds(),p=0;p<f.length;p++){var m=h._howls[d]._soundById(f[p]);m&&m._node&&(m._node.volume=m._volume*u)}return h}return h._volume},mute:function(u){var h=this||e;h.ctx||c(),h._muted=u,h.usingWebAudio&&h.masterGain.gain.setValueAtTime(u?0:h._volume,e.ctx.currentTime);for(var d=0;d<h._howls.length;d++)if(!h._howls[d]._webAudio)for(var f=h._howls[d]._getSoundIds(),p=0;p<f.length;p++){var m=h._howls[d]._soundById(f[p]);m&&m._node&&(m._node.muted=u?!0:m._muted)}return h},stop:function(){for(var u=this||e,h=0;h<u._howls.length;h++)u._howls[h].stop();return u},unload:function(){for(var u=this||e,h=u._howls.length-1;h>=0;h--)u._howls[h].unload();return u.usingWebAudio&&u.ctx&&typeof u.ctx.close<"u"&&(u.ctx.close(),u.ctx=null,c()),u},codecs:function(u){return(this||e)._codecs[u.replace(/^x-/,"")]},_setup:function(){var u=this||e;if(u.state=u.ctx&&u.ctx.state||"suspended",u._autoSuspend(),!u.usingWebAudio)if(typeof Audio<"u")try{var h=new Audio;typeof h.oncanplaythrough>"u"&&(u._canPlayEvent="canplay")}catch{u.noAudio=!0}else u.noAudio=!0;try{var h=new Audio;h.muted&&(u.noAudio=!0)}catch{}return u.noAudio||u._setupCodecs(),u},_setupCodecs:function(){var u=this||e,h=null;try{h=typeof Audio<"u"?new Audio:null}catch{return u}if(!h||typeof h.canPlayType!="function")return u;var d=h.canPlayType("audio/mpeg;").replace(/^no$/,""),f=u._navigator?u._navigator.userAgent:"",p=f.match(/OPR\/(\d+)/g),m=p&&parseInt(p[0].split("/")[1],10)<33,g=f.indexOf("Safari")!==-1&&f.indexOf("Chrome")===-1,v=f.match(/Version\/(.*?) /),x=g&&v&&parseInt(v[1],10)<15;return u._codecs={mp3:!!(!m&&(d||h.canPlayType("audio/mp3;").replace(/^no$/,""))),mpeg:!!d,opus:!!h.canPlayType('audio/ogg; codecs="opus"').replace(/^no$/,""),ogg:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),oga:!!h.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),wav:!!(h.canPlayType('audio/wav; codecs="1"')||h.canPlayType("audio/wav")).replace(/^no$/,""),aac:!!h.canPlayType("audio/aac;").replace(/^no$/,""),caf:!!h.canPlayType("audio/x-caf;").replace(/^no$/,""),m4a:!!(h.canPlayType("audio/x-m4a;")||h.canPlayType("audio/m4a;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),m4b:!!(h.canPlayType("audio/x-m4b;")||h.canPlayType("audio/m4b;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),mp4:!!(h.canPlayType("audio/x-mp4;")||h.canPlayType("audio/mp4;")||h.canPlayType("audio/aac;")).replace(/^no$/,""),weba:!!(!x&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),webm:!!(!x&&h.canPlayType('audio/webm; codecs="vorbis"').replace(/^no$/,"")),dolby:!!h.canPlayType('audio/mp4; codecs="ec-3"').replace(/^no$/,""),flac:!!(h.canPlayType("audio/x-flac;")||h.canPlayType("audio/flac;")).replace(/^no$/,"")},u},_unlockAudio:function(){var u=this||e;if(!(u._audioUnlocked||!u.ctx)){u._audioUnlocked=!1,u.autoUnlock=!1,!u._mobileUnloaded&&u.ctx.sampleRate!==44100&&(u._mobileUnloaded=!0,u.unload()),u._scratchBuffer=u.ctx.createBuffer(1,1,22050);var h=function(d){for(;u._html5AudioPool.length<u.html5PoolSize;)try{var f=new Audio;f._unlocked=!0,u._releaseHtml5Audio(f)}catch{u.noAudio=!0;break}for(var p=0;p<u._howls.length;p++)if(!u._howls[p]._webAudio)for(var m=u._howls[p]._getSoundIds(),g=0;g<m.length;g++){var v=u._howls[p]._soundById(m[g]);v&&v._node&&!v._node._unlocked&&(v._node._unlocked=!0,v._node.load())}u._autoResume();var x=u.ctx.createBufferSource();x.buffer=u._scratchBuffer,x.connect(u.ctx.destination),typeof x.start>"u"?x.noteOn(0):x.start(0),typeof u.ctx.resume=="function"&&u.ctx.resume(),x.onended=function(){x.disconnect(0),u._audioUnlocked=!0,document.removeEventListener("touchstart",h,!0),document.removeEventListener("touchend",h,!0),document.removeEventListener("click",h,!0),document.removeEventListener("keydown",h,!0);for(var y=0;y<u._howls.length;y++)u._howls[y]._emit("unlock")}};return document.addEventListener("touchstart",h,!0),document.addEventListener("touchend",h,!0),document.addEventListener("click",h,!0),document.addEventListener("keydown",h,!0),u}},_obtainHtml5Audio:function(){var u=this||e;if(u._html5AudioPool.length)return u._html5AudioPool.pop();var h=new Audio().play();return h&&typeof Promise<"u"&&(h instanceof Promise||typeof h.then=="function")&&h.catch(function(){console.warn("HTML5 Audio pool exhausted, returning potentially locked audio object.")}),new Audio},_releaseHtml5Audio:function(u){var h=this||e;return u._unlocked&&h._html5AudioPool.push(u),h},_autoSuspend:function(){var u=this;if(!(!u.autoSuspend||!u.ctx||typeof u.ctx.suspend>"u"||!e.usingWebAudio)){for(var h=0;h<u._howls.length;h++)if(u._howls[h]._webAudio){for(var d=0;d<u._howls[h]._sounds.length;d++)if(!u._howls[h]._sounds[d]._paused)return u}return u._suspendTimer&&clearTimeout(u._suspendTimer),u._suspendTimer=setTimeout(function(){if(u.autoSuspend){u._suspendTimer=null,u.state="suspending";var f=function(){u.state="suspended",u._resumeAfterSuspend&&(delete u._resumeAfterSuspend,u._autoResume())};u.ctx.suspend().then(f,f)}},3e4),u}},_autoResume:function(){var u=this;if(!(!u.ctx||typeof u.ctx.resume>"u"||!e.usingWebAudio))return u.state==="running"&&u.ctx.state!=="interrupted"&&u._suspendTimer?(clearTimeout(u._suspendTimer),u._suspendTimer=null):u.state==="suspended"||u.state==="running"&&u.ctx.state==="interrupted"?(u.ctx.resume().then(function(){u.state="running";for(var h=0;h<u._howls.length;h++)u._howls[h]._emit("resume")}),u._suspendTimer&&(clearTimeout(u._suspendTimer),u._suspendTimer=null)):u.state==="suspending"&&(u._resumeAfterSuspend=!0),u}};var e=new n,t=function(u){var h=this;if(!u.src||u.src.length===0){console.error("An array of source files must be passed with any new Howl.");return}h.init(u)};t.prototype={init:function(u){var h=this;return e.ctx||c(),h._autoplay=u.autoplay||!1,h._format=typeof u.format!="string"?u.format:[u.format],h._html5=u.html5||!1,h._muted=u.mute||!1,h._loop=u.loop||!1,h._pool=u.pool||5,h._preload=typeof u.preload=="boolean"||u.preload==="metadata"?u.preload:!0,h._rate=u.rate||1,h._sprite=u.sprite||{},h._src=typeof u.src!="string"?u.src:[u.src],h._volume=u.volume!==void 0?u.volume:1,h._xhr={method:u.xhr&&u.xhr.method?u.xhr.method:"GET",headers:u.xhr&&u.xhr.headers?u.xhr.headers:null,withCredentials:u.xhr&&u.xhr.withCredentials?u.xhr.withCredentials:!1},h._duration=0,h._state="unloaded",h._sounds=[],h._endTimers={},h._queue=[],h._playLock=!1,h._onend=u.onend?[{fn:u.onend}]:[],h._onfade=u.onfade?[{fn:u.onfade}]:[],h._onload=u.onload?[{fn:u.onload}]:[],h._onloaderror=u.onloaderror?[{fn:u.onloaderror}]:[],h._onplayerror=u.onplayerror?[{fn:u.onplayerror}]:[],h._onpause=u.onpause?[{fn:u.onpause}]:[],h._onplay=u.onplay?[{fn:u.onplay}]:[],h._onstop=u.onstop?[{fn:u.onstop}]:[],h._onmute=u.onmute?[{fn:u.onmute}]:[],h._onvolume=u.onvolume?[{fn:u.onvolume}]:[],h._onrate=u.onrate?[{fn:u.onrate}]:[],h._onseek=u.onseek?[{fn:u.onseek}]:[],h._onunlock=u.onunlock?[{fn:u.onunlock}]:[],h._onresume=[],h._webAudio=e.usingWebAudio&&!h._html5,typeof e.ctx<"u"&&e.ctx&&e.autoUnlock&&e._unlockAudio(),e._howls.push(h),h._autoplay&&h._queue.push({event:"play",action:function(){h.play()}}),h._preload&&h._preload!=="none"&&h.load(),h},load:function(){var u=this,h=null;if(e.noAudio){u._emit("loaderror",null,"No audio support.");return}typeof u._src=="string"&&(u._src=[u._src]);for(var d=0;d<u._src.length;d++){var f,p;if(u._format&&u._format[d])f=u._format[d];else{if(p=u._src[d],typeof p!="string"){u._emit("loaderror",null,"Non-string found in selected audio sources - ignoring.");continue}f=/^data:audio\/([^;,]+);/i.exec(p),f||(f=/\.([^.]+)$/.exec(p.split("?",1)[0])),f&&(f=f[1].toLowerCase())}if(f||console.warn('No file extension was found. Consider using the "format" property or specify an extension.'),f&&e.codecs(f)){h=u._src[d];break}}if(!h){u._emit("loaderror",null,"No codec support for selected audio sources.");return}return u._src=h,u._state="loading",window.location.protocol==="https:"&&h.slice(0,5)==="http:"&&(u._html5=!0,u._webAudio=!1),new r(u),u._webAudio&&s(u),u},play:function(u,h){var d=this,f=null;if(typeof u=="number")f=u,u=null;else{if(typeof u=="string"&&d._state==="loaded"&&!d._sprite[u])return null;if(typeof u>"u"&&(u="__default",!d._playLock)){for(var p=0,m=0;m<d._sounds.length;m++)d._sounds[m]._paused&&!d._sounds[m]._ended&&(p++,f=d._sounds[m]._id);p===1?u=null:f=null}}var g=f?d._soundById(f):d._inactiveSound();if(!g)return null;if(f&&!u&&(u=g._sprite||"__default"),d._state!=="loaded"){g._sprite=u,g._ended=!1;var v=g._id;return d._queue.push({event:"play",action:function(){d.play(v)}}),v}if(f&&!g._paused)return h||d._loadQueue("play"),g._id;d._webAudio&&e._autoResume();var x=Math.max(0,g._seek>0?g._seek:d._sprite[u][0]/1e3),y=Math.max(0,(d._sprite[u][0]+d._sprite[u][1])/1e3-x),_=y*1e3/Math.abs(g._rate),b=d._sprite[u][0]/1e3,w=(d._sprite[u][0]+d._sprite[u][1])/1e3;g._sprite=u,g._ended=!1;var E=function(){g._paused=!1,g._seek=x,g._start=b,g._stop=w,g._loop=!!(g._loop||d._sprite[u][2])};if(x>=w){d._ended(g);return}var S=g._node;if(d._webAudio){var C=function(){d._playLock=!1,E(),d._refreshBuffer(g);var N=g._muted||d._muted?0:g._volume;S.gain.setValueAtTime(N,e.ctx.currentTime),g._playStart=e.ctx.currentTime,typeof S.bufferSource.start>"u"?g._loop?S.bufferSource.noteGrainOn(0,x,86400):S.bufferSource.noteGrainOn(0,x,y):g._loop?S.bufferSource.start(0,x,86400):S.bufferSource.start(0,x,y),_!==1/0&&(d._endTimers[g._id]=setTimeout(d._ended.bind(d,g),_)),h||setTimeout(function(){d._emit("play",g._id),d._loadQueue()},0)};e.state==="running"&&e.ctx.state!=="interrupted"?C():(d._playLock=!0,d.once("resume",C),d._clearTimer(g._id))}else{var R=function(){S.currentTime=x,S.muted=g._muted||d._muted||e._muted||S.muted,S.volume=g._volume*e.volume(),S.playbackRate=g._rate;try{var N=S.play();if(N&&typeof Promise<"u"&&(N instanceof Promise||typeof N.then=="function")?(d._playLock=!0,E(),N.then(function(){d._playLock=!1,S._unlocked=!0,h?d._loadQueue():d._emit("play",g._id)}).catch(function(){d._playLock=!1,d._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction."),g._ended=!0,g._paused=!0})):h||(d._playLock=!1,E(),d._emit("play",g._id)),S.playbackRate=g._rate,S.paused){d._emit("playerror",g._id,"Playback was unable to start. This is most commonly an issue on mobile devices and Chrome where playback was not within a user interaction.");return}u!=="__default"||g._loop?d._endTimers[g._id]=setTimeout(d._ended.bind(d,g),_):(d._endTimers[g._id]=function(){d._ended(g),S.removeEventListener("ended",d._endTimers[g._id],!1)},S.addEventListener("ended",d._endTimers[g._id],!1))}catch(O){d._emit("playerror",g._id,O)}};S.src==="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA"&&(S.src=d._src,S.load());var P=window&&window.ejecta||!S.readyState&&e._navigator.isCocoonJS;if(S.readyState>=3||P)R();else{d._playLock=!0,d._state="loading";var k=function(){d._state="loaded",R(),S.removeEventListener(e._canPlayEvent,k,!1)};S.addEventListener(e._canPlayEvent,k,!1),d._clearTimer(g._id)}}return g._id},pause:function(u){var h=this;if(h._state!=="loaded"||h._playLock)return h._queue.push({event:"pause",action:function(){h.pause(u)}}),h;for(var d=h._getSoundIds(u),f=0;f<d.length;f++){h._clearTimer(d[f]);var p=h._soundById(d[f]);if(p&&!p._paused&&(p._seek=h.seek(d[f]),p._rateSeek=0,p._paused=!0,h._stopFade(d[f]),p._node))if(h._webAudio){if(!p._node.bufferSource)continue;typeof p._node.bufferSource.stop>"u"?p._node.bufferSource.noteOff(0):p._node.bufferSource.stop(0),h._cleanBuffer(p._node)}else(!isNaN(p._node.duration)||p._node.duration===1/0)&&p._node.pause();arguments[1]||h._emit("pause",p?p._id:null)}return h},stop:function(u,h){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"stop",action:function(){d.stop(u)}}),d;for(var f=d._getSoundIds(u),p=0;p<f.length;p++){d._clearTimer(f[p]);var m=d._soundById(f[p]);m&&(m._seek=m._start||0,m._rateSeek=0,m._paused=!0,m._ended=!0,d._stopFade(f[p]),m._node&&(d._webAudio?m._node.bufferSource&&(typeof m._node.bufferSource.stop>"u"?m._node.bufferSource.noteOff(0):m._node.bufferSource.stop(0),d._cleanBuffer(m._node)):(!isNaN(m._node.duration)||m._node.duration===1/0)&&(m._node.currentTime=m._start||0,m._node.pause(),m._node.duration===1/0&&d._clearSound(m._node))),h||d._emit("stop",m._id))}return d},mute:function(u,h){var d=this;if(d._state!=="loaded"||d._playLock)return d._queue.push({event:"mute",action:function(){d.mute(u,h)}}),d;if(typeof h>"u")if(typeof u=="boolean")d._muted=u;else return d._muted;for(var f=d._getSoundIds(h),p=0;p<f.length;p++){var m=d._soundById(f[p]);m&&(m._muted=u,m._interval&&d._stopFade(m._id),d._webAudio&&m._node?m._node.gain.setValueAtTime(u?0:m._volume,e.ctx.currentTime):m._node&&(m._node.muted=e._muted?!0:u),d._emit("mute",m._id))}return d},volume:function(){var u=this,h=arguments,d,f;if(h.length===0)return u._volume;if(h.length===1||h.length===2&&typeof h[1]>"u"){var p=u._getSoundIds(),m=p.indexOf(h[0]);m>=0?f=parseInt(h[0],10):d=parseFloat(h[0])}else h.length>=2&&(d=parseFloat(h[0]),f=parseInt(h[1],10));var g;if(typeof d<"u"&&d>=0&&d<=1){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"volume",action:function(){u.volume.apply(u,h)}}),u;typeof f>"u"&&(u._volume=d),f=u._getSoundIds(f);for(var v=0;v<f.length;v++)g=u._soundById(f[v]),g&&(g._volume=d,h[2]||u._stopFade(f[v]),u._webAudio&&g._node&&!g._muted?g._node.gain.setValueAtTime(d,e.ctx.currentTime):g._node&&!g._muted&&(g._node.volume=d*e.volume()),u._emit("volume",g._id))}else return g=f?u._soundById(f):u._sounds[0],g?g._volume:0;return u},fade:function(u,h,d,f){var p=this;if(p._state!=="loaded"||p._playLock)return p._queue.push({event:"fade",action:function(){p.fade(u,h,d,f)}}),p;u=Math.min(Math.max(0,parseFloat(u)),1),h=Math.min(Math.max(0,parseFloat(h)),1),d=parseFloat(d),p.volume(u,f);for(var m=p._getSoundIds(f),g=0;g<m.length;g++){var v=p._soundById(m[g]);if(v){if(f||p._stopFade(m[g]),p._webAudio&&!v._muted){var x=e.ctx.currentTime,y=x+d/1e3;v._volume=u,v._node.gain.setValueAtTime(u,x),v._node.gain.linearRampToValueAtTime(h,y)}p._startFadeInterval(v,u,h,d,m[g],typeof f>"u")}}return p},_startFadeInterval:function(u,h,d,f,p,m){var g=this,v=h,x=d-h,y=Math.abs(x/.01),_=Math.max(4,y>0?f/y:f),b=Date.now();u._fadeTo=d,u._interval=setInterval(function(){var w=(Date.now()-b)/f;b=Date.now(),v+=x*w,v=Math.round(v*100)/100,x<0?v=Math.max(d,v):v=Math.min(d,v),g._webAudio?u._volume=v:g.volume(v,u._id,!0),m&&(g._volume=v),(d<h&&v<=d||d>h&&v>=d)&&(clearInterval(u._interval),u._interval=null,u._fadeTo=null,g.volume(d,u._id),g._emit("fade",u._id))},_)},_stopFade:function(u){var h=this,d=h._soundById(u);return d&&d._interval&&(h._webAudio&&d._node.gain.cancelScheduledValues(e.ctx.currentTime),clearInterval(d._interval),d._interval=null,h.volume(d._fadeTo,u),d._fadeTo=null,h._emit("fade",u)),h},loop:function(){var u=this,h=arguments,d,f,p;if(h.length===0)return u._loop;if(h.length===1)if(typeof h[0]=="boolean")d=h[0],u._loop=d;else return p=u._soundById(parseInt(h[0],10)),p?p._loop:!1;else h.length===2&&(d=h[0],f=parseInt(h[1],10));for(var m=u._getSoundIds(f),g=0;g<m.length;g++)p=u._soundById(m[g]),p&&(p._loop=d,u._webAudio&&p._node&&p._node.bufferSource&&(p._node.bufferSource.loop=d,d&&(p._node.bufferSource.loopStart=p._start||0,p._node.bufferSource.loopEnd=p._stop,u.playing(m[g])&&(u.pause(m[g],!0),u.play(m[g],!0)))));return u},rate:function(){var u=this,h=arguments,d,f;if(h.length===0)f=u._sounds[0]._id;else if(h.length===1){var p=u._getSoundIds(),m=p.indexOf(h[0]);m>=0?f=parseInt(h[0],10):d=parseFloat(h[0])}else h.length===2&&(d=parseFloat(h[0]),f=parseInt(h[1],10));var g;if(typeof d=="number"){if(u._state!=="loaded"||u._playLock)return u._queue.push({event:"rate",action:function(){u.rate.apply(u,h)}}),u;typeof f>"u"&&(u._rate=d),f=u._getSoundIds(f);for(var v=0;v<f.length;v++)if(g=u._soundById(f[v]),g){u.playing(f[v])&&(g._rateSeek=u.seek(f[v]),g._playStart=u._webAudio?e.ctx.currentTime:g._playStart),g._rate=d,u._webAudio&&g._node&&g._node.bufferSource?g._node.bufferSource.playbackRate.setValueAtTime(d,e.ctx.currentTime):g._node&&(g._node.playbackRate=d);var x=u.seek(f[v]),y=(u._sprite[g._sprite][0]+u._sprite[g._sprite][1])/1e3-x,_=y*1e3/Math.abs(g._rate);(u._endTimers[f[v]]||!g._paused)&&(u._clearTimer(f[v]),u._endTimers[f[v]]=setTimeout(u._ended.bind(u,g),_)),u._emit("rate",g._id)}}else return g=u._soundById(f),g?g._rate:u._rate;return u},seek:function(){var u=this,h=arguments,d,f;if(h.length===0)u._sounds.length&&(f=u._sounds[0]._id);else if(h.length===1){var p=u._getSoundIds(),m=p.indexOf(h[0]);m>=0?f=parseInt(h[0],10):u._sounds.length&&(f=u._sounds[0]._id,d=parseFloat(h[0]))}else h.length===2&&(d=parseFloat(h[0]),f=parseInt(h[1],10));if(typeof f>"u")return 0;if(typeof d=="number"&&(u._state!=="loaded"||u._playLock))return u._queue.push({event:"seek",action:function(){u.seek.apply(u,h)}}),u;var g=u._soundById(f);if(g)if(typeof d=="number"&&d>=0){var v=u.playing(f);v&&u.pause(f,!0),g._seek=d,g._ended=!1,u._clearTimer(f),!u._webAudio&&g._node&&!isNaN(g._node.duration)&&(g._node.currentTime=d);var x=function(){v&&u.play(f,!0),u._emit("seek",f)};if(v&&!u._webAudio){var y=function(){u._playLock?setTimeout(y,0):x()};setTimeout(y,0)}else x()}else if(u._webAudio){var _=u.playing(f)?e.ctx.currentTime-g._playStart:0,b=g._rateSeek?g._rateSeek-g._seek:0;return g._seek+(b+_*Math.abs(g._rate))}else return g._node.currentTime;return u},playing:function(u){var h=this;if(typeof u=="number"){var d=h._soundById(u);return d?!d._paused:!1}for(var f=0;f<h._sounds.length;f++)if(!h._sounds[f]._paused)return!0;return!1},duration:function(u){var h=this,d=h._duration,f=h._soundById(u);return f&&(d=h._sprite[f._sprite][1]/1e3),d},state:function(){return this._state},unload:function(){for(var u=this,h=u._sounds,d=0;d<h.length;d++)h[d]._paused||u.stop(h[d]._id),u._webAudio||(u._clearSound(h[d]._node),h[d]._node.removeEventListener("error",h[d]._errorFn,!1),h[d]._node.removeEventListener(e._canPlayEvent,h[d]._loadFn,!1),h[d]._node.removeEventListener("ended",h[d]._endFn,!1),e._releaseHtml5Audio(h[d]._node)),delete h[d]._node,u._clearTimer(h[d]._id);var f=e._howls.indexOf(u);f>=0&&e._howls.splice(f,1);var p=!0;for(d=0;d<e._howls.length;d++)if(e._howls[d]._src===u._src||u._src.indexOf(e._howls[d]._src)>=0){p=!1;break}return i&&p&&delete i[u._src],e.noAudio=!1,u._state="unloaded",u._sounds=[],u=null,null},on:function(u,h,d,f){var p=this,m=p["_on"+u];return typeof h=="function"&&m.push(f?{id:d,fn:h,once:f}:{id:d,fn:h}),p},off:function(u,h,d){var f=this,p=f["_on"+u],m=0;if(typeof h=="number"&&(d=h,h=null),h||d)for(m=0;m<p.length;m++){var g=d===p[m].id;if(h===p[m].fn&&g||!h&&g){p.splice(m,1);break}}else if(u)f["_on"+u]=[];else{var v=Object.keys(f);for(m=0;m<v.length;m++)v[m].indexOf("_on")===0&&Array.isArray(f[v[m]])&&(f[v[m]]=[])}return f},once:function(u,h,d){var f=this;return f.on(u,h,d,1),f},_emit:function(u,h,d){for(var f=this,p=f["_on"+u],m=p.length-1;m>=0;m--)(!p[m].id||p[m].id===h||u==="load")&&(setTimeout(function(g){g.call(this,h,d)}.bind(f,p[m].fn),0),p[m].once&&f.off(u,p[m].fn,p[m].id));return f._loadQueue(u),f},_loadQueue:function(u){var h=this;if(h._queue.length>0){var d=h._queue[0];d.event===u&&(h._queue.shift(),h._loadQueue()),u||d.action()}return h},_ended:function(u){var h=this,d=u._sprite;if(!h._webAudio&&u._node&&!u._node.paused&&!u._node.ended&&u._node.currentTime<u._stop)return setTimeout(h._ended.bind(h,u),100),h;var f=!!(u._loop||h._sprite[d][2]);if(h._emit("end",u._id),!h._webAudio&&f&&h.stop(u._id,!0).play(u._id),h._webAudio&&f){h._emit("play",u._id),u._seek=u._start||0,u._rateSeek=0,u._playStart=e.ctx.currentTime;var p=(u._stop-u._start)*1e3/Math.abs(u._rate);h._endTimers[u._id]=setTimeout(h._ended.bind(h,u),p)}return h._webAudio&&!f&&(u._paused=!0,u._ended=!0,u._seek=u._start||0,u._rateSeek=0,h._clearTimer(u._id),h._cleanBuffer(u._node),e._autoSuspend()),!h._webAudio&&!f&&h.stop(u._id,!0),h},_clearTimer:function(u){var h=this;if(h._endTimers[u]){if(typeof h._endTimers[u]!="function")clearTimeout(h._endTimers[u]);else{var d=h._soundById(u);d&&d._node&&d._node.removeEventListener("ended",h._endTimers[u],!1)}delete h._endTimers[u]}return h},_soundById:function(u){for(var h=this,d=0;d<h._sounds.length;d++)if(u===h._sounds[d]._id)return h._sounds[d];return null},_inactiveSound:function(){var u=this;u._drain();for(var h=0;h<u._sounds.length;h++)if(u._sounds[h]._ended)return u._sounds[h].reset();return new r(u)},_drain:function(){var u=this,h=u._pool,d=0,f=0;if(!(u._sounds.length<h)){for(f=0;f<u._sounds.length;f++)u._sounds[f]._ended&&d++;for(f=u._sounds.length-1;f>=0;f--){if(d<=h)return;u._sounds[f]._ended&&(u._webAudio&&u._sounds[f]._node&&u._sounds[f]._node.disconnect(0),u._sounds.splice(f,1),d--)}}},_getSoundIds:function(u){var h=this;if(typeof u>"u"){for(var d=[],f=0;f<h._sounds.length;f++)d.push(h._sounds[f]._id);return d}else return[u]},_refreshBuffer:function(u){var h=this;return u._node.bufferSource=e.ctx.createBufferSource(),u._node.bufferSource.buffer=i[h._src],u._panner?u._node.bufferSource.connect(u._panner):u._node.bufferSource.connect(u._node),u._node.bufferSource.loop=u._loop,u._loop&&(u._node.bufferSource.loopStart=u._start||0,u._node.bufferSource.loopEnd=u._stop||0),u._node.bufferSource.playbackRate.setValueAtTime(u._rate,e.ctx.currentTime),h},_cleanBuffer:function(u){var h=this,d=e._navigator&&e._navigator.vendor.indexOf("Apple")>=0;if(!u.bufferSource)return h;if(e._scratchBuffer&&u.bufferSource&&(u.bufferSource.onended=null,u.bufferSource.disconnect(0),d))try{u.bufferSource.buffer=e._scratchBuffer}catch{}return u.bufferSource=null,h},_clearSound:function(u){var h=/MSIE |Trident\//.test(e._navigator&&e._navigator.userAgent);h||(u.src="data:audio/wav;base64,UklGRigAAABXQVZFZm10IBIAAAABAAEARKwAAIhYAQACABAAAABkYXRhAgAAAAEA")}};var r=function(u){this._parent=u,this.init()};r.prototype={init:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++e._counter,h._sounds.push(u),u.create(),u},create:function(){var u=this,h=u._parent,d=e._muted||u._muted||u._parent._muted?0:u._volume;return h._webAudio?(u._node=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),u._node.gain.setValueAtTime(d,e.ctx.currentTime),u._node.paused=!0,u._node.connect(e.masterGain)):e.noAudio||(u._node=e._obtainHtml5Audio(),u._errorFn=u._errorListener.bind(u),u._node.addEventListener("error",u._errorFn,!1),u._loadFn=u._loadListener.bind(u),u._node.addEventListener(e._canPlayEvent,u._loadFn,!1),u._endFn=u._endListener.bind(u),u._node.addEventListener("ended",u._endFn,!1),u._node.src=h._src,u._node.preload=h._preload===!0?"auto":h._preload,u._node.volume=d*e.volume(),u._node.load()),u},reset:function(){var u=this,h=u._parent;return u._muted=h._muted,u._loop=h._loop,u._volume=h._volume,u._rate=h._rate,u._seek=0,u._rateSeek=0,u._paused=!0,u._ended=!0,u._sprite="__default",u._id=++e._counter,u},_errorListener:function(){var u=this;u._parent._emit("loaderror",u._id,u._node.error?u._node.error.code:0),u._node.removeEventListener("error",u._errorFn,!1)},_loadListener:function(){var u=this,h=u._parent;h._duration=Math.ceil(u._node.duration*10)/10,Object.keys(h._sprite).length===0&&(h._sprite={__default:[0,h._duration*1e3]}),h._state!=="loaded"&&(h._state="loaded",h._emit("load"),h._loadQueue()),u._node.removeEventListener(e._canPlayEvent,u._loadFn,!1)},_endListener:function(){var u=this,h=u._parent;h._duration===1/0&&(h._duration=Math.ceil(u._node.duration*10)/10,h._sprite.__default[1]===1/0&&(h._sprite.__default[1]=h._duration*1e3),h._ended(u)),u._node.removeEventListener("ended",u._endFn,!1)}};var i={},s=function(u){var h=u._src;if(i[h]){u._duration=i[h].duration,o(u);return}if(/^data:[^;]+;base64,/.test(h)){for(var d=atob(h.split(",")[1]),f=new Uint8Array(d.length),p=0;p<d.length;++p)f[p]=d.charCodeAt(p);l(f.buffer,u)}else{var m=new XMLHttpRequest;m.open(u._xhr.method,h,!0),m.withCredentials=u._xhr.withCredentials,m.responseType="arraybuffer",u._xhr.headers&&Object.keys(u._xhr.headers).forEach(function(g){m.setRequestHeader(g,u._xhr.headers[g])}),m.onload=function(){var g=(m.status+"")[0];if(g!=="0"&&g!=="2"&&g!=="3"){u._emit("loaderror",null,"Failed loading audio file with status: "+m.status+".");return}l(m.response,u)},m.onerror=function(){u._webAudio&&(u._html5=!0,u._webAudio=!1,u._sounds=[],delete i[h],u.load())},a(m)}},a=function(u){try{u.send()}catch{u.onerror()}},l=function(u,h){var d=function(){h._emit("loaderror",null,"Decoding audio data failed.")},f=function(p){p&&h._sounds.length>0?(i[h._src]=p,o(h,p)):d()};typeof Promise<"u"&&e.ctx.decodeAudioData.length===1?e.ctx.decodeAudioData(u).then(f).catch(d):e.ctx.decodeAudioData(u,f,d)},o=function(u,h){h&&!u._duration&&(u._duration=h.duration),Object.keys(u._sprite).length===0&&(u._sprite={__default:[0,u._duration*1e3]}),u._state!=="loaded"&&(u._state="loaded",u._emit("load"),u._loadQueue())},c=function(){if(e.usingWebAudio){try{typeof AudioContext<"u"?e.ctx=new AudioContext:typeof webkitAudioContext<"u"?e.ctx=new webkitAudioContext:e.usingWebAudio=!1}catch{e.usingWebAudio=!1}e.ctx||(e.usingWebAudio=!1);var u=/iP(hone|od|ad)/.test(e._navigator&&e._navigator.platform),h=e._navigator&&e._navigator.appVersion.match(/OS (\d+)_(\d+)_?(\d+)?/),d=h?parseInt(h[1],10):null;if(u&&d&&d<9){var f=/safari/.test(e._navigator&&e._navigator.userAgent.toLowerCase());e._navigator&&!f&&(e.usingWebAudio=!1)}e.usingWebAudio&&(e.masterGain=typeof e.ctx.createGain>"u"?e.ctx.createGainNode():e.ctx.createGain(),e.masterGain.gain.setValueAtTime(e._muted?0:e._volume,e.ctx.currentTime),e.masterGain.connect(e.ctx.destination)),e._setup()}};typeof define=="function"&&define.amd&&define([],function(){return{Howler:e,Howl:t}}),typeof Zy<"u"&&(Zy.Howler=e,Zy.Howl=t),typeof global<"u"?(global.HowlerGlobal=n,global.Howler=e,global.Howl=t,global.Sound=r):typeof window<"u"&&(window.HowlerGlobal=n,window.Howler=e,window.Howl=t,window.Sound=r)})();(function(){"use strict";HowlerGlobal.prototype._pos=[0,0,0],HowlerGlobal.prototype._orientation=[0,0,-1,0,1,0],HowlerGlobal.prototype.stereo=function(e){var t=this;if(!t.ctx||!t.ctx.listener)return t;for(var r=t._howls.length-1;r>=0;r--)t._howls[r].stereo(e);return t},HowlerGlobal.prototype.pos=function(e,t,r){var i=this;if(!i.ctx||!i.ctx.listener)return i;if(t=typeof t!="number"?i._pos[1]:t,r=typeof r!="number"?i._pos[2]:r,typeof e=="number")i._pos=[e,t,r],typeof i.ctx.listener.positionX<"u"?(i.ctx.listener.positionX.setTargetAtTime(i._pos[0],Howler.ctx.currentTime,.1),i.ctx.listener.positionY.setTargetAtTime(i._pos[1],Howler.ctx.currentTime,.1),i.ctx.listener.positionZ.setTargetAtTime(i._pos[2],Howler.ctx.currentTime,.1)):i.ctx.listener.setPosition(i._pos[0],i._pos[1],i._pos[2]);else return i._pos;return i},HowlerGlobal.prototype.orientation=function(e,t,r,i,s,a){var l=this;if(!l.ctx||!l.ctx.listener)return l;var o=l._orientation;if(t=typeof t!="number"?o[1]:t,r=typeof r!="number"?o[2]:r,i=typeof i!="number"?o[3]:i,s=typeof s!="number"?o[4]:s,a=typeof a!="number"?o[5]:a,typeof e=="number")l._orientation=[e,t,r,i,s,a],typeof l.ctx.listener.forwardX<"u"?(l.ctx.listener.forwardX.setTargetAtTime(e,Howler.ctx.currentTime,.1),l.ctx.listener.forwardY.setTargetAtTime(t,Howler.ctx.currentTime,.1),l.ctx.listener.forwardZ.setTargetAtTime(r,Howler.ctx.currentTime,.1),l.ctx.listener.upX.setTargetAtTime(i,Howler.ctx.currentTime,.1),l.ctx.listener.upY.setTargetAtTime(s,Howler.ctx.currentTime,.1),l.ctx.listener.upZ.setTargetAtTime(a,Howler.ctx.currentTime,.1)):l.ctx.listener.setOrientation(e,t,r,i,s,a);else return o;return l},Howl.prototype.init=function(e){return function(t){var r=this;return r._orientation=t.orientation||[1,0,0],r._stereo=t.stereo||null,r._pos=t.pos||null,r._pannerAttr={coneInnerAngle:typeof t.coneInnerAngle<"u"?t.coneInnerAngle:360,coneOuterAngle:typeof t.coneOuterAngle<"u"?t.coneOuterAngle:360,coneOuterGain:typeof t.coneOuterGain<"u"?t.coneOuterGain:0,distanceModel:typeof t.distanceModel<"u"?t.distanceModel:"inverse",maxDistance:typeof t.maxDistance<"u"?t.maxDistance:1e4,panningModel:typeof t.panningModel<"u"?t.panningModel:"HRTF",refDistance:typeof t.refDistance<"u"?t.refDistance:1,rolloffFactor:typeof t.rolloffFactor<"u"?t.rolloffFactor:1},r._onstereo=t.onstereo?[{fn:t.onstereo}]:[],r._onpos=t.onpos?[{fn:t.onpos}]:[],r._onorientation=t.onorientation?[{fn:t.onorientation}]:[],e.call(this,t)}}(Howl.prototype.init),Howl.prototype.stereo=function(e,t){var r=this;if(!r._webAudio)return r;if(r._state!=="loaded")return r._queue.push({event:"stereo",action:function(){r.stereo(e,t)}}),r;var i=typeof Howler.ctx.createStereoPanner>"u"?"spatial":"stereo";if(typeof t>"u")if(typeof e=="number")r._stereo=e,r._pos=[e,0,0];else return r._stereo;for(var s=r._getSoundIds(t),a=0;a<s.length;a++){var l=r._soundById(s[a]);if(l)if(typeof e=="number")l._stereo=e,l._pos=[e,0,0],l._node&&(l._pannerAttr.panningModel="equalpower",(!l._panner||!l._panner.pan)&&n(l,i),i==="spatial"?typeof l._panner.positionX<"u"?(l._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),l._panner.positionY.setValueAtTime(0,Howler.ctx.currentTime),l._panner.positionZ.setValueAtTime(0,Howler.ctx.currentTime)):l._panner.setPosition(e,0,0):l._panner.pan.setValueAtTime(e,Howler.ctx.currentTime)),r._emit("stereo",l._id);else return l._stereo}return r},Howl.prototype.pos=function(e,t,r,i){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"pos",action:function(){s.pos(e,t,r,i)}}),s;if(t=typeof t!="number"?0:t,r=typeof r!="number"?-.5:r,typeof i>"u")if(typeof e=="number")s._pos=[e,t,r];else return s._pos;for(var a=s._getSoundIds(i),l=0;l<a.length;l++){var o=s._soundById(a[l]);if(o)if(typeof e=="number")o._pos=[e,t,r],o._node&&((!o._panner||o._panner.pan)&&n(o,"spatial"),typeof o._panner.positionX<"u"?(o._panner.positionX.setValueAtTime(e,Howler.ctx.currentTime),o._panner.positionY.setValueAtTime(t,Howler.ctx.currentTime),o._panner.positionZ.setValueAtTime(r,Howler.ctx.currentTime)):o._panner.setPosition(e,t,r)),s._emit("pos",o._id);else return o._pos}return s},Howl.prototype.orientation=function(e,t,r,i){var s=this;if(!s._webAudio)return s;if(s._state!=="loaded")return s._queue.push({event:"orientation",action:function(){s.orientation(e,t,r,i)}}),s;if(t=typeof t!="number"?s._orientation[1]:t,r=typeof r!="number"?s._orientation[2]:r,typeof i>"u")if(typeof e=="number")s._orientation=[e,t,r];else return s._orientation;for(var a=s._getSoundIds(i),l=0;l<a.length;l++){var o=s._soundById(a[l]);if(o)if(typeof e=="number")o._orientation=[e,t,r],o._node&&(o._panner||(o._pos||(o._pos=s._pos||[0,0,-.5]),n(o,"spatial")),typeof o._panner.orientationX<"u"?(o._panner.orientationX.setValueAtTime(e,Howler.ctx.currentTime),o._panner.orientationY.setValueAtTime(t,Howler.ctx.currentTime),o._panner.orientationZ.setValueAtTime(r,Howler.ctx.currentTime)):o._panner.setOrientation(e,t,r)),s._emit("orientation",o._id);else return o._orientation}return s},Howl.prototype.pannerAttr=function(){var e=this,t=arguments,r,i,s;if(!e._webAudio)return e;if(t.length===0)return e._pannerAttr;if(t.length===1)if(typeof t[0]=="object")r=t[0],typeof i>"u"&&(r.pannerAttr||(r.pannerAttr={coneInnerAngle:r.coneInnerAngle,coneOuterAngle:r.coneOuterAngle,coneOuterGain:r.coneOuterGain,distanceModel:r.distanceModel,maxDistance:r.maxDistance,refDistance:r.refDistance,rolloffFactor:r.rolloffFactor,panningModel:r.panningModel}),e._pannerAttr={coneInnerAngle:typeof r.pannerAttr.coneInnerAngle<"u"?r.pannerAttr.coneInnerAngle:e._coneInnerAngle,coneOuterAngle:typeof r.pannerAttr.coneOuterAngle<"u"?r.pannerAttr.coneOuterAngle:e._coneOuterAngle,coneOuterGain:typeof r.pannerAttr.coneOuterGain<"u"?r.pannerAttr.coneOuterGain:e._coneOuterGain,distanceModel:typeof r.pannerAttr.distanceModel<"u"?r.pannerAttr.distanceModel:e._distanceModel,maxDistance:typeof r.pannerAttr.maxDistance<"u"?r.pannerAttr.maxDistance:e._maxDistance,refDistance:typeof r.pannerAttr.refDistance<"u"?r.pannerAttr.refDistance:e._refDistance,rolloffFactor:typeof r.pannerAttr.rolloffFactor<"u"?r.pannerAttr.rolloffFactor:e._rolloffFactor,panningModel:typeof r.pannerAttr.panningModel<"u"?r.pannerAttr.panningModel:e._panningModel});else return s=e._soundById(parseInt(t[0],10)),s?s._pannerAttr:e._pannerAttr;else t.length===2&&(r=t[0],i=parseInt(t[1],10));for(var a=e._getSoundIds(i),l=0;l<a.length;l++)if(s=e._soundById(a[l]),s){var o=s._pannerAttr;o={coneInnerAngle:typeof r.coneInnerAngle<"u"?r.coneInnerAngle:o.coneInnerAngle,coneOuterAngle:typeof r.coneOuterAngle<"u"?r.coneOuterAngle:o.coneOuterAngle,coneOuterGain:typeof r.coneOuterGain<"u"?r.coneOuterGain:o.coneOuterGain,distanceModel:typeof r.distanceModel<"u"?r.distanceModel:o.distanceModel,maxDistance:typeof r.maxDistance<"u"?r.maxDistance:o.maxDistance,refDistance:typeof r.refDistance<"u"?r.refDistance:o.refDistance,rolloffFactor:typeof r.rolloffFactor<"u"?r.rolloffFactor:o.rolloffFactor,panningModel:typeof r.panningModel<"u"?r.panningModel:o.panningModel};var c=s._panner;c||(s._pos||(s._pos=e._pos||[0,0,-.5]),n(s,"spatial"),c=s._panner),c.coneInnerAngle=o.coneInnerAngle,c.coneOuterAngle=o.coneOuterAngle,c.coneOuterGain=o.coneOuterGain,c.distanceModel=o.distanceModel,c.maxDistance=o.maxDistance,c.refDistance=o.refDistance,c.rolloffFactor=o.rolloffFactor,c.panningModel=o.panningModel}return e},Sound.prototype.init=function(e){return function(){var t=this,r=t._parent;t._orientation=r._orientation,t._stereo=r._stereo,t._pos=r._pos,t._pannerAttr=r._pannerAttr,e.call(this),t._stereo?r.stereo(t._stereo):t._pos&&r.pos(t._pos[0],t._pos[1],t._pos[2],t._id)}}(Sound.prototype.init),Sound.prototype.reset=function(e){return function(){var t=this,r=t._parent;return t._orientation=r._orientation,t._stereo=r._stereo,t._pos=r._pos,t._pannerAttr=r._pannerAttr,t._stereo?r.stereo(t._stereo):t._pos?r.pos(t._pos[0],t._pos[1],t._pos[2],t._id):t._panner&&(t._panner.disconnect(0),t._panner=void 0,r._refreshBuffer(t)),e.call(this)}}(Sound.prototype.reset);var n=function(e,t){t=t||"spatial",t==="spatial"?(e._panner=Howler.ctx.createPanner(),e._panner.coneInnerAngle=e._pannerAttr.coneInnerAngle,e._panner.coneOuterAngle=e._pannerAttr.coneOuterAngle,e._panner.coneOuterGain=e._pannerAttr.coneOuterGain,e._panner.distanceModel=e._pannerAttr.distanceModel,e._panner.maxDistance=e._pannerAttr.maxDistance,e._panner.refDistance=e._pannerAttr.refDistance,e._panner.rolloffFactor=e._pannerAttr.rolloffFactor,e._panner.panningModel=e._pannerAttr.panningModel,typeof e._panner.positionX<"u"?(e._panner.positionX.setValueAtTime(e._pos[0],Howler.ctx.currentTime),e._panner.positionY.setValueAtTime(e._pos[1],Howler.ctx.currentTime),e._panner.positionZ.setValueAtTime(e._pos[2],Howler.ctx.currentTime)):e._panner.setPosition(e._pos[0],e._pos[1],e._pos[2]),typeof e._panner.orientationX<"u"?(e._panner.orientationX.setValueAtTime(e._orientation[0],Howler.ctx.currentTime),e._panner.orientationY.setValueAtTime(e._orientation[1],Howler.ctx.currentTime),e._panner.orientationZ.setValueAtTime(e._orientation[2],Howler.ctx.currentTime)):e._panner.setOrientation(e._orientation[0],e._orientation[1],e._orientation[2])):(e._panner=Howler.ctx.createStereoPanner(),e._panner.pan.setValueAtTime(e._stereo,Howler.ctx.currentTime)),e._panner.connect(e._node),e._paused||e._parent.pause(e._id,!0).play(e._id,!0)}})()});var UP=Ze((qse,JE)=>{"use strict";var pH=Object.prototype.hasOwnProperty,sr="~";function Mp(){}Object.create&&(Mp.prototype=Object.create(null),new Mp().__proto__||(sr=!1));function mH(n,e,t){this.fn=n,this.context=e,this.once=t||!1}function VP(n,e,t,r,i){if(typeof t!="function")throw new TypeError("The listener must be a function");var s=new mH(t,r||n,i),a=sr?sr+e:e;return n._events[a]?n._events[a].fn?n._events[a]=[n._events[a],s]:n._events[a].push(s):(n._events[a]=s,n._eventsCount++),n}function k0(n,e){--n._eventsCount===0?n._events=new Mp:delete n._events[e]}function Xn(){this._events=new Mp,this._eventsCount=0}Xn.prototype.eventNames=function(){var e=[],t,r;if(this._eventsCount===0)return e;for(r in t=this._events)pH.call(t,r)&&e.push(sr?r.slice(1):r);return Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(t)):e};Xn.prototype.listeners=function(e){var t=sr?sr+e:e,r=this._events[t];if(!r)return[];if(r.fn)return[r.fn];for(var i=0,s=r.length,a=new Array(s);i<s;i++)a[i]=r[i].fn;return a};Xn.prototype.listenerCount=function(e){var t=sr?sr+e:e,r=this._events[t];return r?r.fn?1:r.length:0};Xn.prototype.emit=function(e,t,r,i,s,a){var l=sr?sr+e:e;if(!this._events[l])return!1;var o=this._events[l],c=arguments.length,u,h;if(o.fn){switch(o.once&&this.removeListener(e,o.fn,void 0,!0),c){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,t),!0;case 3:return o.fn.call(o.context,t,r),!0;case 4:return o.fn.call(o.context,t,r,i),!0;case 5:return o.fn.call(o.context,t,r,i,s),!0;case 6:return o.fn.call(o.context,t,r,i,s,a),!0}for(h=1,u=new Array(c-1);h<c;h++)u[h-1]=arguments[h];o.fn.apply(o.context,u)}else{var d=o.length,f;for(h=0;h<d;h++)switch(o[h].once&&this.removeListener(e,o[h].fn,void 0,!0),c){case 1:o[h].fn.call(o[h].context);break;case 2:o[h].fn.call(o[h].context,t);break;case 3:o[h].fn.call(o[h].context,t,r);break;case 4:o[h].fn.call(o[h].context,t,r,i);break;default:if(!u)for(f=1,u=new Array(c-1);f<c;f++)u[f-1]=arguments[f];o[h].fn.apply(o[h].context,u)}}return!0};Xn.prototype.on=function(e,t,r){return VP(this,e,t,r,!1)};Xn.prototype.once=function(e,t,r){return VP(this,e,t,r,!0)};Xn.prototype.removeListener=function(e,t,r,i){var s=sr?sr+e:e;if(!this._events[s])return this;if(!t)return k0(this,s),this;var a=this._events[s];if(a.fn)a.fn===t&&(!i||a.once)&&(!r||a.context===r)&&k0(this,s);else{for(var l=0,o=[],c=a.length;l<c;l++)(a[l].fn!==t||i&&!a[l].once||r&&a[l].context!==r)&&o.push(a[l]);o.length?this._events[s]=o.length===1?o[0]:o:k0(this,s)}return this};Xn.prototype.removeAllListeners=function(e){var t;return e?(t=sr?sr+e:e,this._events[t]&&k0(this,t)):(this._events=new Mp,this._eventsCount=0),this};Xn.prototype.off=Xn.prototype.removeListener;Xn.prototype.addListener=Xn.prototype.on;Xn.prefixed=sr;Xn.EventEmitter=Xn;typeof JE<"u"&&(JE.exports=Xn)});var jP=Ze((Rh,Ph)=>{"use strict";(function(n){var e=typeof Rh=="object"&&Rh&&!Rh.nodeType&&Rh,t=typeof Ph=="object"&&Ph&&!Ph.nodeType&&Ph,r=typeof global=="object"&&global;(r.global===r||r.window===r||r.self===r)&&(n=r);var i,s=2147483647,a=36,l=1,o=26,c=38,u=700,h=72,d=128,f="-",p=/^xn--/,m=/[^\x20-\x7E]/,g=/[\x2E\u3002\uFF0E\uFF61]/g,v={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},x=a-l,y=Math.floor,_=String.fromCharCode,b;function w(L){throw new RangeError(v[L])}function E(L,U){for(var V=L.length,Z=[];V--;)Z[V]=U(L[V]);return Z}function S(L,U){var V=L.split("@"),Z="";V.length>1&&(Z=V[0]+"@",L=V[1]),L=L.replace(g,".");var z=L.split("."),Y=E(z,U).join(".");return Z+Y}function C(L){for(var U=[],V=0,Z=L.length,z,Y;V<Z;)z=L.charCodeAt(V++),z>=55296&&z<=56319&&V<Z?(Y=L.charCodeAt(V++),(Y&64512)==56320?U.push(((z&1023)<<10)+(Y&1023)+65536):(U.push(z),V--)):U.push(z);return U}function R(L){return E(L,function(U){var V="";return U>65535&&(U-=65536,V+=_(U>>>10&1023|55296),U=56320|U&1023),V+=_(U),V}).join("")}function P(L){return L-48<10?L-22:L-65<26?L-65:L-97<26?L-97:a}function k(L,U){return L+22+75*(L<26)-((U!=0)<<5)}function N(L,U,V){var Z=0;for(L=V?y(L/u):L>>1,L+=y(L/U);L>x*o>>1;Z+=a)L=y(L/x);return y(Z+(x+1)*L/(L+c))}function O(L){var U=[],V=L.length,Z,z=0,Y=d,$=h,ae,me,Oe,qe,ge,Le,He,at,dt;for(ae=L.lastIndexOf(f),ae<0&&(ae=0),me=0;me<ae;++me)L.charCodeAt(me)>=128&&w("not-basic"),U.push(L.charCodeAt(me));for(Oe=ae>0?ae+1:0;Oe<V;){for(qe=z,ge=1,Le=a;Oe>=V&&w("invalid-input"),He=P(L.charCodeAt(Oe++)),(He>=a||He>y((s-z)/ge))&&w("overflow"),z+=He*ge,at=Le<=$?l:Le>=$+o?o:Le-$,!(He<at);Le+=a)dt=a-at,ge>y(s/dt)&&w("overflow"),ge*=dt;Z=U.length+1,$=N(z-qe,Z,qe==0),y(z/Z)>s-Y&&w("overflow"),Y+=y(z/Z),z%=Z,U.splice(z++,0,Y)}return R(U)}function G(L){var U,V,Z,z,Y,$,ae,me,Oe,qe,ge,Le=[],He,at,dt,Kn;for(L=C(L),He=L.length,U=d,V=0,Y=h,$=0;$<He;++$)ge=L[$],ge<128&&Le.push(_(ge));for(Z=z=Le.length,z&&Le.push(f);Z<He;){for(ae=s,$=0;$<He;++$)ge=L[$],ge>=U&&ge<ae&&(ae=ge);for(at=Z+1,ae-U>y((s-V)/at)&&w("overflow"),V+=(ae-U)*at,U=ae,$=0;$<He;++$)if(ge=L[$],ge<U&&++V>s&&w("overflow"),ge==U){for(me=V,Oe=a;qe=Oe<=Y?l:Oe>=Y+o?o:Oe-Y,!(me<qe);Oe+=a)Kn=me-qe,dt=a-qe,Le.push(_(k(qe+Kn%dt,0))),me=y(Kn/dt);Le.push(_(k(me,0))),Y=N(V,at,Z==z),V=0,++Z}++V,++U}return Le.join("")}function q(L){return S(L,function(U){return p.test(U)?O(U.slice(4).toLowerCase()):U})}function H(L){return S(L,function(U){return m.test(U)?"xn--"+G(U):U})}if(i={version:"1.4.1",ucs2:{decode:C,encode:R},decode:O,encode:G,toASCII:H,toUnicode:q},typeof define=="function"&&typeof define.amd=="object"&&define.amd)define("punycode",function(){return i});else if(e&&t)if(Ph.exports==e)t.exports=i;else for(b in i)i.hasOwnProperty(b)&&(e[b]=i[b]);else n.punycode=i})(Rh)});var $P=Ze((Zse,GP)=>{"use strict";GP.exports=Error});var WP=Ze((Qse,HP)=>{"use strict";HP.exports=EvalError});var XP=Ze((Kse,YP)=>{"use strict";YP.exports=RangeError});var qP=Ze((Jse,zP)=>{"use strict";zP.exports=ReferenceError});var eS=Ze((eoe,ZP)=>{"use strict";ZP.exports=SyntaxError});var Oh=Ze((toe,QP)=>{"use strict";QP.exports=TypeError});var JP=Ze((noe,KP)=>{"use strict";KP.exports=URIError});var tO=Ze((roe,eO)=>{"use strict";eO.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var i=42;e[t]=i;for(t in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var a=Object.getOwnPropertyDescriptor(e,t);if(a.value!==i||a.enumerable!==!0)return!1}return!0}});var iO=Ze((ioe,rO)=>{"use strict";var nO=typeof Symbol<"u"&&Symbol,gH=tO();rO.exports=function(){return typeof nO!="function"||typeof Symbol!="function"||typeof nO("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:gH()}});var oO=Ze((soe,sO)=>{"use strict";var tS={__proto__:null,foo:{}},yH=Object;sO.exports=function(){return{__proto__:tS}.foo===tS.foo&&!(tS instanceof yH)}});var cO=Ze((ooe,lO)=>{"use strict";var xH="Function.prototype.bind called on incompatible ",vH=Object.prototype.toString,_H=Math.max,bH="[object Function]",aO=function(e,t){for(var r=[],i=0;i<e.length;i+=1)r[i]=e[i];for(var s=0;s<t.length;s+=1)r[s+e.length]=t[s];return r},wH=function(e,t){for(var r=[],i=t||0,s=0;i<e.length;i+=1,s+=1)r[s]=e[i];return r},EH=function(n,e){for(var t="",r=0;r<n.length;r+=1)t+=n[r],r+1<n.length&&(t+=e);return t};lO.exports=function(e){var t=this;if(typeof t!="function"||vH.apply(t)!==bH)throw new TypeError(xH+t);for(var r=wH(arguments,1),i,s=function(){if(this instanceof i){var u=t.apply(this,aO(r,arguments));return Object(u)===u?u:this}return t.apply(e,aO(r,arguments))},a=_H(0,t.length-r.length),l=[],o=0;o<a;o++)l[o]="$"+o;if(i=Function("binder","return function ("+EH(l,",")+"){ return binder.apply(this,arguments); }")(s),t.prototype){var c=function(){};c.prototype=t.prototype,i.prototype=new c,c.prototype=null}return i}});var L0=Ze((aoe,uO)=>{"use strict";var SH=cO();uO.exports=Function.prototype.bind||SH});var dO=Ze((loe,hO)=>{"use strict";var CH=Function.prototype.call,AH=Object.prototype.hasOwnProperty,TH=L0();hO.exports=TH.call(CH,AH)});var Rc=Ze((coe,yO)=>{"use strict";var Ge,MH=$P(),IH=WP(),DH=XP(),RH=qP(),Lh=eS(),kh=Oh(),PH=JP(),gO=Function,nS=function(n){try{return gO('"use strict"; return ('+n+").constructor;")()}catch{}},Ic=Object.getOwnPropertyDescriptor;if(Ic)try{Ic({},"")}catch{Ic=null}var rS=function(){throw new kh},OH=Ic?function(){try{return arguments.callee,rS}catch{try{return Ic(arguments,"callee").get}catch{return rS}}}():rS,Nh=iO()(),NH=oO()(),_n=Object.getPrototypeOf||(NH?function(n){return n.__proto__}:null),Fh={},FH=typeof Uint8Array>"u"||!_n?Ge:_n(Uint8Array),Dc={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?Ge:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Ge:ArrayBuffer,"%ArrayIteratorPrototype%":Nh&&_n?_n([][Symbol.iterator]()):Ge,"%AsyncFromSyncIteratorPrototype%":Ge,"%AsyncFunction%":Fh,"%AsyncGenerator%":Fh,"%AsyncGeneratorFunction%":Fh,"%AsyncIteratorPrototype%":Fh,"%Atomics%":typeof Atomics>"u"?Ge:Atomics,"%BigInt%":typeof BigInt>"u"?Ge:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Ge:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Ge:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Ge:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":MH,"%eval%":eval,"%EvalError%":IH,"%Float32Array%":typeof Float32Array>"u"?Ge:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Ge:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Ge:FinalizationRegistry,"%Function%":gO,"%GeneratorFunction%":Fh,"%Int8Array%":typeof Int8Array>"u"?Ge:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Ge:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Ge:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Nh&&_n?_n(_n([][Symbol.iterator]())):Ge,"%JSON%":typeof JSON=="object"?JSON:Ge,"%Map%":typeof Map>"u"?Ge:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Nh||!_n?Ge:_n(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Ge:Promise,"%Proxy%":typeof Proxy>"u"?Ge:Proxy,"%RangeError%":DH,"%ReferenceError%":RH,"%Reflect%":typeof Reflect>"u"?Ge:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Ge:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Nh||!_n?Ge:_n(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Ge:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Nh&&_n?_n(""[Symbol.iterator]()):Ge,"%Symbol%":Nh?Symbol:Ge,"%SyntaxError%":Lh,"%ThrowTypeError%":OH,"%TypedArray%":FH,"%TypeError%":kh,"%Uint8Array%":typeof Uint8Array>"u"?Ge:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Ge:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Ge:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Ge:Uint32Array,"%URIError%":PH,"%WeakMap%":typeof WeakMap>"u"?Ge:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Ge:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Ge:WeakSet};if(_n)try{null.error}catch(n){fO=_n(_n(n)),Dc["%Error.prototype%"]=fO}var fO,kH=function n(e){var t;if(e==="%AsyncFunction%")t=nS("async function () {}");else if(e==="%GeneratorFunction%")t=nS("function* () {}");else if(e==="%AsyncGeneratorFunction%")t=nS("async function* () {}");else if(e==="%AsyncGenerator%"){var r=n("%AsyncGeneratorFunction%");r&&(t=r.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=n("%AsyncGenerator%");i&&_n&&(t=_n(i.prototype))}return Dc[e]=t,t},pO={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Ip=L0(),B0=dO(),LH=Ip.call(Function.call,Array.prototype.concat),BH=Ip.call(Function.apply,Array.prototype.splice),mO=Ip.call(Function.call,String.prototype.replace),V0=Ip.call(Function.call,String.prototype.slice),VH=Ip.call(Function.call,RegExp.prototype.exec),UH=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,jH=/\\(\\)?/g,GH=function(e){var t=V0(e,0,1),r=V0(e,-1);if(t==="%"&&r!=="%")throw new Lh("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&t!=="%")throw new Lh("invalid intrinsic syntax, expected opening `%`");var i=[];return mO(e,UH,function(s,a,l,o){i[i.length]=l?mO(o,jH,"$1"):a||s}),i},$H=function(e,t){var r=e,i;if(B0(pO,r)&&(i=pO[r],r="%"+i[0]+"%"),B0(Dc,r)){var s=Dc[r];if(s===Fh&&(s=kH(r)),typeof s>"u"&&!t)throw new kh("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:i,name:r,value:s}}throw new Lh("intrinsic "+e+" does not exist!")};yO.exports=function(e,t){if(typeof e!="string"||e.length===0)throw new kh("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof t!="boolean")throw new kh('"allowMissing" argument must be a boolean');if(VH(/^%?[^%]*%?$/,e)===null)throw new Lh("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=GH(e),i=r.length>0?r[0]:"",s=$H("%"+i+"%",t),a=s.name,l=s.value,o=!1,c=s.alias;c&&(i=c[0],BH(r,LH([0,1],c)));for(var u=1,h=!0;u<r.length;u+=1){var d=r[u],f=V0(d,0,1),p=V0(d,-1);if((f==='"'||f==="'"||f==="`"||p==='"'||p==="'"||p==="`")&&f!==p)throw new Lh("property names with quotes must have matching quotes");if((d==="constructor"||!h)&&(o=!0),i+="."+d,a="%"+i+"%",B0(Dc,a))l=Dc[a];else if(l!=null){if(!(d in l)){if(!t)throw new kh("base intrinsic for "+e+" exists, but the property is not available.");return}if(Ic&&u+1>=r.length){var m=Ic(l,d);h=!!m,h&&"get"in m&&!("originalValue"in m.get)?l=m.get:l=l[d]}else h=B0(l,d),l=l[d];h&&!o&&(Dc[a]=l)}}return l}});var j0=Ze((uoe,xO)=>{"use strict";var HH=Rc(),U0=HH("%Object.defineProperty%",!0)||!1;if(U0)try{U0({},"a",{value:1})}catch{U0=!1}xO.exports=U0});var iS=Ze((hoe,vO)=>{"use strict";var WH=Rc(),G0=WH("%Object.getOwnPropertyDescriptor%",!0);if(G0)try{G0([],"length")}catch{G0=null}vO.exports=G0});var EO=Ze((doe,wO)=>{"use strict";var _O=j0(),YH=eS(),Bh=Oh(),bO=iS();wO.exports=function(e,t,r){if(!e||typeof e!="object"&&typeof e!="function")throw new Bh("`obj` must be an object or a function`");if(typeof t!="string"&&typeof t!="symbol")throw new Bh("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new Bh("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new Bh("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new Bh("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new Bh("`loose`, if provided, must be a boolean");var i=arguments.length>3?arguments[3]:null,s=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,l=arguments.length>6?arguments[6]:!1,o=!!bO&&bO(e,t);if(_O)_O(e,t,{configurable:a===null&&o?o.configurable:!a,enumerable:i===null&&o?o.enumerable:!i,value:r,writable:s===null&&o?o.writable:!s});else if(l||!i&&!s&&!a)e[t]=r;else throw new YH("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")}});var AO=Ze((foe,CO)=>{"use strict";var sS=j0(),SO=function(){return!!sS};SO.hasArrayLengthDefineBug=function(){if(!sS)return null;try{return sS([],"length",{value:1}).length!==1}catch{return!0}};CO.exports=SO});var RO=Ze((poe,DO)=>{"use strict";var XH=Rc(),TO=EO(),zH=AO()(),MO=iS(),IO=Oh(),qH=XH("%Math.floor%");DO.exports=function(e,t){if(typeof e!="function")throw new IO("`fn` is not a function");if(typeof t!="number"||t<0||t>4294967295||qH(t)!==t)throw new IO("`length` must be a positive 32-bit integer");var r=arguments.length>2&&!!arguments[2],i=!0,s=!0;if("length"in e&&MO){var a=MO(e,"length");a&&!a.configurable&&(i=!1),a&&!a.writable&&(s=!1)}return(i||s||!r)&&(zH?TO(e,"length",t,!0,!0):TO(e,"length",t)),e}});var LO=Ze((moe,$0)=>{"use strict";var oS=L0(),H0=Rc(),ZH=RO(),QH=Oh(),NO=H0("%Function.prototype.apply%"),FO=H0("%Function.prototype.call%"),kO=H0("%Reflect.apply%",!0)||oS.call(FO,NO),PO=j0(),KH=H0("%Math.max%");$0.exports=function(e){if(typeof e!="function")throw new QH("a function is required");var t=kO(oS,FO,arguments);return ZH(t,1+KH(0,e.length-(arguments.length-1)),!0)};var OO=function(){return kO(oS,NO,arguments)};PO?PO($0.exports,"apply",{value:OO}):$0.exports.apply=OO});var jO=Ze((goe,UO)=>{"use strict";var BO=Rc(),VO=LO(),JH=VO(BO("String.prototype.indexOf"));UO.exports=function(e,t){var r=BO(e,!!t);return typeof r=="function"&&JH(e,".prototype.")>-1?VO(r):r}});var GO=Ze(()=>{"use strict"});var lN=Ze((voe,aN)=>{"use strict";var gS=typeof Map=="function"&&Map.prototype,aS=Object.getOwnPropertyDescriptor&&gS?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Y0=gS&&aS&&typeof aS.get=="function"?aS.get:null,$O=gS&&Map.prototype.forEach,yS=typeof Set=="function"&&Set.prototype,lS=Object.getOwnPropertyDescriptor&&yS?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,X0=yS&&lS&&typeof lS.get=="function"?lS.get:null,HO=yS&&Set.prototype.forEach,e6=typeof WeakMap=="function"&&WeakMap.prototype,Rp=e6?WeakMap.prototype.has:null,t6=typeof WeakSet=="function"&&WeakSet.prototype,Pp=t6?WeakSet.prototype.has:null,n6=typeof WeakRef=="function"&&WeakRef.prototype,WO=n6?WeakRef.prototype.deref:null,r6=Boolean.prototype.valueOf,i6=Object.prototype.toString,s6=Function.prototype.toString,o6=String.prototype.match,xS=String.prototype.slice,Ma=String.prototype.replace,a6=String.prototype.toUpperCase,YO=String.prototype.toLowerCase,tN=RegExp.prototype.test,XO=Array.prototype.concat,Bs=Array.prototype.join,l6=Array.prototype.slice,zO=Math.floor,hS=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cS=Object.getOwnPropertySymbols,dS=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Vh=typeof Symbol=="function"&&typeof Symbol.iterator=="object",zn=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Vh||!0)?Symbol.toStringTag:null,nN=Object.prototype.propertyIsEnumerable,qO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(n){return n.__proto__}:null);function ZO(n,e){if(n===1/0||n===-1/0||n!==n||n&&n>-1e3&&n<1e3||tN.call(/e/,e))return e;var t=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof n=="number"){var r=n<0?-zO(-n):zO(n);if(r!==n){var i=String(r),s=xS.call(e,i.length+1);return Ma.call(i,t,"$&_")+"."+Ma.call(Ma.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ma.call(e,t,"$&_")}var fS=GO(),QO=fS.custom,KO=iN(QO)?QO:null;aN.exports=function n(e,t,r,i){var s=t||{};if(Ta(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ta(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var a=Ta(s,"customInspect")?s.customInspect:!0;if(typeof a!="boolean"&&a!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ta(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ta(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return oN(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var o=String(e);return l?ZO(e,o):o}if(typeof e=="bigint"){var c=String(e)+"n";return l?ZO(e,c):c}var u=typeof s.depth>"u"?5:s.depth;if(typeof r>"u"&&(r=0),r>=u&&u>0&&typeof e=="object")return pS(e)?"[Array]":"[Object]";var h=A6(s,r);if(typeof i>"u")i=[];else if(sN(i,e)>=0)return"[Circular]";function d(N,O,G){if(O&&(i=l6.call(i),i.push(O)),G){var q={depth:s.depth};return Ta(s,"quoteStyle")&&(q.quoteStyle=s.quoteStyle),n(N,q,r+1,i)}return n(N,s,r+1,i)}if(typeof e=="function"&&!JO(e)){var f=y6(e),p=W0(e,d);return"[Function"+(f?": "+f:" (anonymous)")+"]"+(p.length>0?" { "+Bs.call(p,", ")+" }":"")}if(iN(e)){var m=Vh?Ma.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):dS.call(e);return typeof e=="object"&&!Vh?Dp(m):m}if(E6(e)){for(var g="<"+YO.call(String(e.nodeName)),v=e.attributes||[],x=0;x<v.length;x++)g+=" "+v[x].name+"="+rN(c6(v[x].value),"double",s);return g+=">",e.childNodes&&e.childNodes.length&&(g+="..."),g+="</"+YO.call(String(e.nodeName))+">",g}if(pS(e)){if(e.length===0)return"[]";var y=W0(e,d);return h&&!C6(y)?"["+mS(y,h)+"]":"[ "+Bs.call(y,", ")+" ]"}if(h6(e)){var _=W0(e,d);return!("cause"in Error.prototype)&&"cause"in e&&!nN.call(e,"cause")?"{ ["+String(e)+"] "+Bs.call(XO.call("[cause]: "+d(e.cause),_),", ")+" }":_.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+Bs.call(_,", ")+" }"}if(typeof e=="object"&&a){if(KO&&typeof e[KO]=="function"&&fS)return fS(e,{depth:u-r});if(a!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(x6(e)){var b=[];return $O&&$O.call(e,function(N,O){b.push(d(O,e,!0)+" => "+d(N,e))}),eN("Map",Y0.call(e),b,h)}if(b6(e)){var w=[];return HO&&HO.call(e,function(N){w.push(d(N,e))}),eN("Set",X0.call(e),w,h)}if(v6(e))return uS("WeakMap");if(w6(e))return uS("WeakSet");if(_6(e))return uS("WeakRef");if(f6(e))return Dp(d(Number(e)));if(m6(e))return Dp(d(hS.call(e)));if(p6(e))return Dp(r6.call(e));if(d6(e))return Dp(d(String(e)));if(typeof window<"u"&&e===window)return"{ [object Window] }";if(typeof globalThis<"u"&&e===globalThis||typeof global<"u"&&e===global)return"{ [object globalThis] }";if(!u6(e)&&!JO(e)){var E=W0(e,d),S=qO?qO(e)===Object.prototype:e instanceof Object||e.constructor===Object,C=e instanceof Object?"":"null prototype",R=!S&&zn&&Object(e)===e&&zn in e?xS.call(Ia(e),8,-1):C?"Object":"",P=S||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",k=P+(R||C?"["+Bs.call(XO.call([],R||[],C||[]),": ")+"] ":"");return E.length===0?k+"{}":h?k+"{"+mS(E,h)+"}":k+"{ "+Bs.call(E,", ")+" }"}return String(e)};function rN(n,e,t){var r=(t.quoteStyle||e)==="double"?'"':"'";return r+n+r}function c6(n){return Ma.call(String(n),/"/g,"&quot;")}function pS(n){return Ia(n)==="[object Array]"&&(!zn||!(typeof n=="object"&&zn in n))}function u6(n){return Ia(n)==="[object Date]"&&(!zn||!(typeof n=="object"&&zn in n))}function JO(n){return Ia(n)==="[object RegExp]"&&(!zn||!(typeof n=="object"&&zn in n))}function h6(n){return Ia(n)==="[object Error]"&&(!zn||!(typeof n=="object"&&zn in n))}function d6(n){return Ia(n)==="[object String]"&&(!zn||!(typeof n=="object"&&zn in n))}function f6(n){return Ia(n)==="[object Number]"&&(!zn||!(typeof n=="object"&&zn in n))}function p6(n){return Ia(n)==="[object Boolean]"&&(!zn||!(typeof n=="object"&&zn in n))}function iN(n){if(Vh)return n&&typeof n=="object"&&n instanceof Symbol;if(typeof n=="symbol")return!0;if(!n||typeof n!="object"||!dS)return!1;try{return dS.call(n),!0}catch{}return!1}function m6(n){if(!n||typeof n!="object"||!hS)return!1;try{return hS.call(n),!0}catch{}return!1}var g6=Object.prototype.hasOwnProperty||function(n){return n in this};function Ta(n,e){return g6.call(n,e)}function Ia(n){return i6.call(n)}function y6(n){if(n.name)return n.name;var e=o6.call(s6.call(n),/^function\s*([\w$]+)/);return e?e[1]:null}function sN(n,e){if(n.indexOf)return n.indexOf(e);for(var t=0,r=n.length;t<r;t++)if(n[t]===e)return t;return-1}function x6(n){if(!Y0||!n||typeof n!="object")return!1;try{Y0.call(n);try{X0.call(n)}catch{return!0}return n instanceof Map}catch{}return!1}function v6(n){if(!Rp||!n||typeof n!="object")return!1;try{Rp.call(n,Rp);try{Pp.call(n,Pp)}catch{return!0}return n instanceof WeakMap}catch{}return!1}function _6(n){if(!WO||!n||typeof n!="object")return!1;try{return WO.call(n),!0}catch{}return!1}function b6(n){if(!X0||!n||typeof n!="object")return!1;try{X0.call(n);try{Y0.call(n)}catch{return!0}return n instanceof Set}catch{}return!1}function w6(n){if(!Pp||!n||typeof n!="object")return!1;try{Pp.call(n,Pp);try{Rp.call(n,Rp)}catch{return!0}return n instanceof WeakSet}catch{}return!1}function E6(n){return!n||typeof n!="object"?!1:typeof HTMLElement<"u"&&n instanceof HTMLElement?!0:typeof n.nodeName=="string"&&typeof n.getAttribute=="function"}function oN(n,e){if(n.length>e.maxStringLength){var t=n.length-e.maxStringLength,r="... "+t+" more character"+(t>1?"s":"");return oN(xS.call(n,0,e.maxStringLength),e)+r}var i=Ma.call(Ma.call(n,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,S6);return rN(i,"single",e)}function S6(n){var e=n.charCodeAt(0),t={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return t?"\\"+t:"\\x"+(e<16?"0":"")+a6.call(e.toString(16))}function Dp(n){return"Object("+n+")"}function uS(n){return n+" { ? }"}function eN(n,e,t,r){var i=r?mS(t,r):Bs.call(t,", ");return n+" ("+e+") {"+i+"}"}function C6(n){for(var e=0;e<n.length;e++)if(sN(n[e],`
`)>=0)return!1;return!0}function A6(n,e){var t;if(n.indent==="	")t="	";else if(typeof n.indent=="number"&&n.indent>0)t=Bs.call(Array(n.indent+1)," ");else return null;return{base:t,prev:Bs.call(Array(e+1),t)}}function mS(n,e){if(n.length===0)return"";var t=`
`+e.prev+e.base;return t+Bs.call(n,","+t)+`
`+e.prev}function W0(n,e){var t=pS(n),r=[];if(t){r.length=n.length;for(var i=0;i<n.length;i++)r[i]=Ta(n,i)?e(n[i],n):""}var s=typeof cS=="function"?cS(n):[],a;if(Vh){a={};for(var l=0;l<s.length;l++)a["$"+s[l]]=s[l]}for(var o in n)Ta(n,o)&&(t&&String(Number(o))===o&&o<n.length||Vh&&a["$"+o]instanceof Symbol||(tN.call(/[^\w$]/,o)?r.push(e(o,n)+": "+e(n[o],n)):r.push(o+": "+e(n[o],n))));if(typeof cS=="function")for(var c=0;c<s.length;c++)nN.call(n,s[c])&&r.push("["+e(s[c])+"]: "+e(n[s[c]],n));return r}});var hN=Ze((_oe,uN)=>{"use strict";var cN=Rc(),Uh=jO(),T6=lN(),M6=Oh(),z0=cN("%WeakMap%",!0),q0=cN("%Map%",!0),I6=Uh("WeakMap.prototype.get",!0),D6=Uh("WeakMap.prototype.set",!0),R6=Uh("WeakMap.prototype.has",!0),P6=Uh("Map.prototype.get",!0),O6=Uh("Map.prototype.set",!0),N6=Uh("Map.prototype.has",!0),vS=function(n,e){for(var t=n,r;(r=t.next)!==null;t=r)if(r.key===e)return t.next=r.next,r.next=n.next,n.next=r,r},F6=function(n,e){var t=vS(n,e);return t&&t.value},k6=function(n,e,t){var r=vS(n,e);r?r.value=t:n.next={key:e,next:n.next,value:t}},L6=function(n,e){return!!vS(n,e)};uN.exports=function(){var e,t,r,i={assert:function(s){if(!i.has(s))throw new M6("Side channel does not contain "+T6(s))},get:function(s){if(z0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return I6(e,s)}else if(q0){if(t)return P6(t,s)}else if(r)return F6(r,s)},has:function(s){if(z0&&s&&(typeof s=="object"||typeof s=="function")){if(e)return R6(e,s)}else if(q0){if(t)return N6(t,s)}else if(r)return L6(r,s);return!1},set:function(s,a){z0&&s&&(typeof s=="object"||typeof s=="function")?(e||(e=new z0),D6(e,s,a)):q0?(t||(t=new q0),O6(t,s,a)):(r||(r={key:{},next:null}),k6(r,s,a))}};return i}});var Z0=Ze((boe,dN)=>{"use strict";var B6=String.prototype.replace,V6=/%20/g,_S={RFC1738:"RFC1738",RFC3986:"RFC3986"};dN.exports={default:_S.RFC3986,formatters:{RFC1738:function(n){return B6.call(n,V6,"+")},RFC3986:function(n){return String(n)}},RFC1738:_S.RFC1738,RFC3986:_S.RFC3986}});var ES=Ze((woe,pN)=>{"use strict";var U6=Z0(),bS=Object.prototype.hasOwnProperty,Pc=Array.isArray,Vs=function(){for(var n=[],e=0;e<256;++e)n.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return n}(),j6=function(e){for(;e.length>1;){var t=e.pop(),r=t.obj[t.prop];if(Pc(r)){for(var i=[],s=0;s<r.length;++s)typeof r[s]<"u"&&i.push(r[s]);t.obj[t.prop]=i}}},fN=function(e,t){for(var r=t&&t.plainObjects?Object.create(null):{},i=0;i<e.length;++i)typeof e[i]<"u"&&(r[i]=e[i]);return r},G6=function n(e,t,r){if(!t)return e;if(typeof t!="object"){if(Pc(e))e.push(t);else if(e&&typeof e=="object")(r&&(r.plainObjects||r.allowPrototypes)||!bS.call(Object.prototype,t))&&(e[t]=!0);else return[e,t];return e}if(!e||typeof e!="object")return[e].concat(t);var i=e;return Pc(e)&&!Pc(t)&&(i=fN(e,r)),Pc(e)&&Pc(t)?(t.forEach(function(s,a){if(bS.call(e,a)){var l=e[a];l&&typeof l=="object"&&s&&typeof s=="object"?e[a]=n(l,s,r):e.push(s)}else e[a]=s}),e):Object.keys(t).reduce(function(s,a){var l=t[a];return bS.call(s,a)?s[a]=n(s[a],l,r):s[a]=l,s},i)},$6=function(e,t){return Object.keys(t).reduce(function(r,i){return r[i]=t[i],r},e)},H6=function(n,e,t){var r=n.replace(/\+/g," ");if(t==="iso-8859-1")return r.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(r)}catch{return r}},wS=1024,W6=function(e,t,r,i,s){if(e.length===0)return e;var a=e;if(typeof e=="symbol"?a=Symbol.prototype.toString.call(e):typeof e!="string"&&(a=String(e)),r==="iso-8859-1")return escape(a).replace(/%u[0-9a-f]{4}/gi,function(f){return"%26%23"+parseInt(f.slice(2),16)+"%3B"});for(var l="",o=0;o<a.length;o+=wS){for(var c=a.length>=wS?a.slice(o,o+wS):a,u=[],h=0;h<c.length;++h){var d=c.charCodeAt(h);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===U6.RFC1738&&(d===40||d===41)){u[u.length]=c.charAt(h);continue}if(d<128){u[u.length]=Vs[d];continue}if(d<2048){u[u.length]=Vs[192|d>>6]+Vs[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=Vs[224|d>>12]+Vs[128|d>>6&63]+Vs[128|d&63];continue}h+=1,d=65536+((d&1023)<<10|c.charCodeAt(h)&1023),u[u.length]=Vs[240|d>>18]+Vs[128|d>>12&63]+Vs[128|d>>6&63]+Vs[128|d&63]}l+=u.join("")}return l},Y6=function(e){for(var t=[{obj:{o:e},prop:"o"}],r=[],i=0;i<t.length;++i)for(var s=t[i],a=s.obj[s.prop],l=Object.keys(a),o=0;o<l.length;++o){var c=l[o],u=a[c];typeof u=="object"&&u!==null&&r.indexOf(u)===-1&&(t.push({obj:a,prop:c}),r.push(u))}return j6(t),e},X6=function(e){return Object.prototype.toString.call(e)==="[object RegExp]"},z6=function(e){return!e||typeof e!="object"?!1:!!(e.constructor&&e.constructor.isBuffer&&e.constructor.isBuffer(e))},q6=function(e,t){return[].concat(e,t)},Z6=function(e,t){if(Pc(e)){for(var r=[],i=0;i<e.length;i+=1)r.push(t(e[i]));return r}return t(e)};pN.exports={arrayToObject:fN,assign:$6,combine:q6,compact:Y6,decode:H6,encode:W6,isBuffer:z6,isRegExp:X6,maybeMap:Z6,merge:G6}});var _N=Ze((Eoe,vN)=>{"use strict";var gN=hN(),Q0=ES(),Op=Z0(),Q6=Object.prototype.hasOwnProperty,yN={brackets:function(e){return e+"[]"},comma:"comma",indices:function(e,t){return e+"["+t+"]"},repeat:function(e){return e}},Us=Array.isArray,K6=Array.prototype.push,xN=function(n,e){K6.apply(n,Us(e)?e:[e])},J6=Date.prototype.toISOString,mN=Op.default,un={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:Q0.encode,encodeValuesOnly:!1,format:mN,formatter:Op.formatters[mN],indices:!1,serializeDate:function(e){return J6.call(e)},skipNulls:!1,strictNullHandling:!1},e8=function(e){return typeof e=="string"||typeof e=="number"||typeof e=="boolean"||typeof e=="symbol"||typeof e=="bigint"},SS={},t8=function n(e,t,r,i,s,a,l,o,c,u,h,d,f,p,m,g,v,x){for(var y=e,_=x,b=0,w=!1;(_=_.get(SS))!==void 0&&!w;){var E=_.get(e);if(b+=1,typeof E<"u"){if(E===b)throw new RangeError("Cyclic object value");w=!0}typeof _.get(SS)>"u"&&(b=0)}if(typeof u=="function"?y=u(t,y):y instanceof Date?y=f(y):r==="comma"&&Us(y)&&(y=Q0.maybeMap(y,function(V){return V instanceof Date?f(V):V})),y===null){if(a)return c&&!g?c(t,un.encoder,v,"key",p):t;y=""}if(e8(y)||Q0.isBuffer(y)){if(c){var S=g?t:c(t,un.encoder,v,"key",p);return[m(S)+"="+m(c(y,un.encoder,v,"value",p))]}return[m(t)+"="+m(String(y))]}var C=[];if(typeof y>"u")return C;var R;if(r==="comma"&&Us(y))g&&c&&(y=Q0.maybeMap(y,c)),R=[{value:y.length>0?y.join(",")||null:void 0}];else if(Us(u))R=u;else{var P=Object.keys(y);R=h?P.sort(h):P}var k=o?t.replace(/\./g,"%2E"):t,N=i&&Us(y)&&y.length===1?k+"[]":k;if(s&&Us(y)&&y.length===0)return N+"[]";for(var O=0;O<R.length;++O){var G=R[O],q=typeof G=="object"&&typeof G.value<"u"?G.value:y[G];if(!(l&&q===null)){var H=d&&o?G.replace(/\./g,"%2E"):G,L=Us(y)?typeof r=="function"?r(N,H):N:N+(d?"."+H:"["+H+"]");x.set(e,b);var U=gN();U.set(SS,x),xN(C,n(q,L,r,i,s,a,l,o,r==="comma"&&g&&Us(y)?null:c,u,h,d,f,p,m,g,v,U))}}return C},n8=function(e){if(!e)return un;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.encodeDotInKeys<"u"&&typeof e.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(e.encoder!==null&&typeof e.encoder<"u"&&typeof e.encoder!="function")throw new TypeError("Encoder has to be a function.");var t=e.charset||un.charset;if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Op.default;if(typeof e.format<"u"){if(!Q6.call(Op.formatters,e.format))throw new TypeError("Unknown format option provided.");r=e.format}var i=Op.formatters[r],s=un.filter;(typeof e.filter=="function"||Us(e.filter))&&(s=e.filter);var a;if(e.arrayFormat in yN?a=e.arrayFormat:"indices"in e?a=e.indices?"indices":"repeat":a=un.arrayFormat,"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var l=typeof e.allowDots>"u"?e.encodeDotInKeys===!0?!0:un.allowDots:!!e.allowDots;return{addQueryPrefix:typeof e.addQueryPrefix=="boolean"?e.addQueryPrefix:un.addQueryPrefix,allowDots:l,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:un.allowEmptyArrays,arrayFormat:a,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:un.charsetSentinel,commaRoundTrip:e.commaRoundTrip,delimiter:typeof e.delimiter>"u"?un.delimiter:e.delimiter,encode:typeof e.encode=="boolean"?e.encode:un.encode,encodeDotInKeys:typeof e.encodeDotInKeys=="boolean"?e.encodeDotInKeys:un.encodeDotInKeys,encoder:typeof e.encoder=="function"?e.encoder:un.encoder,encodeValuesOnly:typeof e.encodeValuesOnly=="boolean"?e.encodeValuesOnly:un.encodeValuesOnly,filter:s,format:r,formatter:i,serializeDate:typeof e.serializeDate=="function"?e.serializeDate:un.serializeDate,skipNulls:typeof e.skipNulls=="boolean"?e.skipNulls:un.skipNulls,sort:typeof e.sort=="function"?e.sort:null,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:un.strictNullHandling}};vN.exports=function(n,e){var t=n,r=n8(e),i,s;typeof r.filter=="function"?(s=r.filter,t=s("",t)):Us(r.filter)&&(s=r.filter,i=s);var a=[];if(typeof t!="object"||t===null)return"";var l=yN[r.arrayFormat],o=l==="comma"&&r.commaRoundTrip;i||(i=Object.keys(t)),r.sort&&i.sort(r.sort);for(var c=gN(),u=0;u<i.length;++u){var h=i[u];r.skipNulls&&t[h]===null||xN(a,t8(t[h],h,l,o,r.allowEmptyArrays,r.strictNullHandling,r.skipNulls,r.encodeDotInKeys,r.encode?r.encoder:null,r.filter,r.sort,r.allowDots,r.serializeDate,r.format,r.formatter,r.encodeValuesOnly,r.charset,c))}var d=a.join(r.delimiter),f=r.addQueryPrefix===!0?"?":"";return r.charsetSentinel&&(r.charset==="iso-8859-1"?f+="utf8=%26%2310003%3B&":f+="utf8=%E2%9C%93&"),d.length>0?f+d:""}});var EN=Ze((Soe,wN)=>{"use strict";var jh=ES(),CS=Object.prototype.hasOwnProperty,r8=Array.isArray,Ht={allowDots:!1,allowEmptyArrays:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decodeDotInKeys:!1,decoder:jh.decode,delimiter:"&",depth:5,duplicates:"combine",ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictDepth:!1,strictNullHandling:!1},i8=function(n){return n.replace(/&#(\d+);/g,function(e,t){return String.fromCharCode(parseInt(t,10))})},bN=function(n,e){return n&&typeof n=="string"&&e.comma&&n.indexOf(",")>-1?n.split(","):n},s8="utf8=%26%2310003%3B",o8="utf8=%E2%9C%93",a8=function(e,t){var r={__proto__:null},i=t.ignoreQueryPrefix?e.replace(/^\?/,""):e;i=i.replace(/%5B/gi,"[").replace(/%5D/gi,"]");var s=t.parameterLimit===1/0?void 0:t.parameterLimit,a=i.split(t.delimiter,s),l=-1,o,c=t.charset;if(t.charsetSentinel)for(o=0;o<a.length;++o)a[o].indexOf("utf8=")===0&&(a[o]===o8?c="utf-8":a[o]===s8&&(c="iso-8859-1"),l=o,o=a.length);for(o=0;o<a.length;++o)if(o!==l){var u=a[o],h=u.indexOf("]="),d=h===-1?u.indexOf("="):h+1,f,p;d===-1?(f=t.decoder(u,Ht.decoder,c,"key"),p=t.strictNullHandling?null:""):(f=t.decoder(u.slice(0,d),Ht.decoder,c,"key"),p=jh.maybeMap(bN(u.slice(d+1),t),function(g){return t.decoder(g,Ht.decoder,c,"value")})),p&&t.interpretNumericEntities&&c==="iso-8859-1"&&(p=i8(p)),u.indexOf("[]=")>-1&&(p=r8(p)?[p]:p);var m=CS.call(r,f);m&&t.duplicates==="combine"?r[f]=jh.combine(r[f],p):(!m||t.duplicates==="last")&&(r[f]=p)}return r},l8=function(n,e,t,r){for(var i=r?e:bN(e,t),s=n.length-1;s>=0;--s){var a,l=n[s];if(l==="[]"&&t.parseArrays)a=t.allowEmptyArrays&&(i===""||t.strictNullHandling&&i===null)?[]:[].concat(i);else{a=t.plainObjects?Object.create(null):{};var o=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,c=t.decodeDotInKeys?o.replace(/%2E/g,"."):o,u=parseInt(c,10);!t.parseArrays&&c===""?a={0:i}:!isNaN(u)&&l!==c&&String(u)===c&&u>=0&&t.parseArrays&&u<=t.arrayLimit?(a=[],a[u]=i):c!=="__proto__"&&(a[c]=i)}i=a}return i},c8=function(e,t,r,i){if(e){var s=r.allowDots?e.replace(/\.([^.[]+)/g,"[$1]"):e,a=/(\[[^[\]]*])/,l=/(\[[^[\]]*])/g,o=r.depth>0&&a.exec(s),c=o?s.slice(0,o.index):s,u=[];if(c){if(!r.plainObjects&&CS.call(Object.prototype,c)&&!r.allowPrototypes)return;u.push(c)}for(var h=0;r.depth>0&&(o=l.exec(s))!==null&&h<r.depth;){if(h+=1,!r.plainObjects&&CS.call(Object.prototype,o[1].slice(1,-1))&&!r.allowPrototypes)return;u.push(o[1])}if(o){if(r.strictDepth===!0)throw new RangeError("Input depth exceeded depth option of "+r.depth+" and strictDepth is true");u.push("["+s.slice(o.index)+"]")}return l8(u,t,r,i)}},u8=function(e){if(!e)return Ht;if(typeof e.allowEmptyArrays<"u"&&typeof e.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof e.decodeDotInKeys<"u"&&typeof e.decodeDotInKeys!="boolean")throw new TypeError("`decodeDotInKeys` option can only be `true` or `false`, when provided");if(e.decoder!==null&&typeof e.decoder<"u"&&typeof e.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof e.charset<"u"&&e.charset!=="utf-8"&&e.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var t=typeof e.charset>"u"?Ht.charset:e.charset,r=typeof e.duplicates>"u"?Ht.duplicates:e.duplicates;if(r!=="combine"&&r!=="first"&&r!=="last")throw new TypeError("The duplicates option must be either combine, first, or last");var i=typeof e.allowDots>"u"?e.decodeDotInKeys===!0?!0:Ht.allowDots:!!e.allowDots;return{allowDots:i,allowEmptyArrays:typeof e.allowEmptyArrays=="boolean"?!!e.allowEmptyArrays:Ht.allowEmptyArrays,allowPrototypes:typeof e.allowPrototypes=="boolean"?e.allowPrototypes:Ht.allowPrototypes,allowSparse:typeof e.allowSparse=="boolean"?e.allowSparse:Ht.allowSparse,arrayLimit:typeof e.arrayLimit=="number"?e.arrayLimit:Ht.arrayLimit,charset:t,charsetSentinel:typeof e.charsetSentinel=="boolean"?e.charsetSentinel:Ht.charsetSentinel,comma:typeof e.comma=="boolean"?e.comma:Ht.comma,decodeDotInKeys:typeof e.decodeDotInKeys=="boolean"?e.decodeDotInKeys:Ht.decodeDotInKeys,decoder:typeof e.decoder=="function"?e.decoder:Ht.decoder,delimiter:typeof e.delimiter=="string"||jh.isRegExp(e.delimiter)?e.delimiter:Ht.delimiter,depth:typeof e.depth=="number"||e.depth===!1?+e.depth:Ht.depth,duplicates:r,ignoreQueryPrefix:e.ignoreQueryPrefix===!0,interpretNumericEntities:typeof e.interpretNumericEntities=="boolean"?e.interpretNumericEntities:Ht.interpretNumericEntities,parameterLimit:typeof e.parameterLimit=="number"?e.parameterLimit:Ht.parameterLimit,parseArrays:e.parseArrays!==!1,plainObjects:typeof e.plainObjects=="boolean"?e.plainObjects:Ht.plainObjects,strictDepth:typeof e.strictDepth=="boolean"?!!e.strictDepth:Ht.strictDepth,strictNullHandling:typeof e.strictNullHandling=="boolean"?e.strictNullHandling:Ht.strictNullHandling}};wN.exports=function(n,e){var t=u8(e);if(n===""||n===null||typeof n>"u")return t.plainObjects?Object.create(null):{};for(var r=typeof n=="string"?a8(n,t):n,i=t.plainObjects?Object.create(null):{},s=Object.keys(r),a=0;a<s.length;++a){var l=s[a],o=c8(l,r[l],t,typeof n=="string");i=jh.merge(i,o,t)}return t.allowSparse===!0?i:jh.compact(i)}});var CN=Ze((Coe,SN)=>{"use strict";var h8=_N(),d8=EN(),f8=Z0();SN.exports={formats:f8,parse:d8,stringify:h8}});var IN=Ze($h=>{"use strict";var p8=jP();function Ni(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var m8=/^([a-z0-9.+-]+:)/i,g8=/:[0-9]*$/,y8=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,x8=["<",">",'"',"`"," ","\r",`
`,"	"],v8=["{","}","|","\\","^","`"].concat(x8),AS=["'"].concat(v8),AN=["%","/","?",";","#"].concat(AS),TN=["/","?","#"],_8=255,MN=/^[+a-z0-9A-Z_-]{0,63}$/,b8=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,w8={javascript:!0,"javascript:":!0},TS={javascript:!0,"javascript:":!0},Gh={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},MS=CN();function Np(n,e,t){if(n&&typeof n=="object"&&n instanceof Ni)return n;var r=new Ni;return r.parse(n,e,t),r}Ni.prototype.parse=function(n,e,t){if(typeof n!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof n);var r=n.indexOf("?"),i=r!==-1&&r<n.indexOf("#")?"?":"#",s=n.split(i),a=/\\/g;s[0]=s[0].replace(a,"/"),n=s.join(i);var l=n;if(l=l.trim(),!t&&n.split("#").length===1){var o=y8.exec(l);if(o)return this.path=l,this.href=l,this.pathname=o[1],o[2]?(this.search=o[2],e?this.query=MS.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=m8.exec(l);if(c){c=c[0];var u=c.toLowerCase();this.protocol=u,l=l.substr(c.length)}if(t||c||l.match(/^\/\/[^@/]+@[^@/]+/)){var h=l.substr(0,2)==="//";h&&!(c&&TS[c])&&(l=l.substr(2),this.slashes=!0)}if(!TS[c]&&(h||c&&!Gh[c])){for(var d=-1,f=0;f<TN.length;f++){var p=l.indexOf(TN[f]);p!==-1&&(d===-1||p<d)&&(d=p)}var m,g;d===-1?g=l.lastIndexOf("@"):g=l.lastIndexOf("@",d),g!==-1&&(m=l.slice(0,g),l=l.slice(g+1),this.auth=decodeURIComponent(m)),d=-1;for(var f=0;f<AN.length;f++){var p=l.indexOf(AN[f]);p!==-1&&(d===-1||p<d)&&(d=p)}d===-1&&(d=l.length),this.host=l.slice(0,d),l=l.slice(d),this.parseHost(),this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v)for(var x=this.hostname.split(/\./),f=0,y=x.length;f<y;f++){var _=x[f];if(_&&!_.match(MN)){for(var b="",w=0,E=_.length;w<E;w++)_.charCodeAt(w)>127?b+="x":b+=_[w];if(!b.match(MN)){var S=x.slice(0,f),C=x.slice(f+1),R=_.match(b8);R&&(S.push(R[1]),C.unshift(R[2])),C.length&&(l="/"+C.join(".")+l),this.hostname=S.join(".");break}}}this.hostname.length>_8?this.hostname="":this.hostname=this.hostname.toLowerCase(),v||(this.hostname=p8.toASCII(this.hostname));var P=this.port?":"+this.port:"",k=this.hostname||"";this.host=k+P,this.href+=this.host,v&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!w8[u])for(var f=0,y=AS.length;f<y;f++){var N=AS[f];if(l.indexOf(N)!==-1){var O=encodeURIComponent(N);O===N&&(O=escape(N)),l=l.split(N).join(O)}}var G=l.indexOf("#");G!==-1&&(this.hash=l.substr(G),l=l.slice(0,G));var q=l.indexOf("?");if(q!==-1?(this.search=l.substr(q),this.query=l.substr(q+1),e&&(this.query=MS.parse(this.query)),l=l.slice(0,q)):e&&(this.search="",this.query={}),l&&(this.pathname=l),Gh[u]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var P=this.pathname||"",H=this.search||"";this.path=P+H}return this.href=this.format(),this};function E8(n){return typeof n=="string"&&(n=Np(n)),n instanceof Ni?n.format():Ni.prototype.format.call(n)}Ni.prototype.format=function(){var n=this.auth||"";n&&(n=encodeURIComponent(n),n=n.replace(/%3A/i,":"),n+="@");var e=this.protocol||"",t=this.pathname||"",r=this.hash||"",i=!1,s="";this.host?i=n+this.host:this.hostname&&(i=n+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=MS.stringify(this.query,{arrayFormat:"repeat",addQueryPrefix:!1}));var a=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Gh[e])&&i!==!1?(i="//"+(i||""),t&&t.charAt(0)!=="/"&&(t="/"+t)):i||(i=""),r&&r.charAt(0)!=="#"&&(r="#"+r),a&&a.charAt(0)!=="?"&&(a="?"+a),t=t.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),a=a.replace("#","%23"),e+i+t+a+r};function S8(n,e){return Np(n,!1,!0).resolve(e)}Ni.prototype.resolve=function(n){return this.resolveObject(Np(n,!1,!0)).format()};function C8(n,e){return n?Np(n,!1,!0).resolveObject(e):e}Ni.prototype.resolveObject=function(n){if(typeof n=="string"){var e=new Ni;e.parse(n,!1,!0),n=e}for(var t=new Ni,r=Object.keys(this),i=0;i<r.length;i++){var s=r[i];t[s]=this[s]}if(t.hash=n.hash,n.href==="")return t.href=t.format(),t;if(n.slashes&&!n.protocol){for(var a=Object.keys(n),l=0;l<a.length;l++){var o=a[l];o!=="protocol"&&(t[o]=n[o])}return Gh[t.protocol]&&t.hostname&&!t.pathname&&(t.pathname="/",t.path=t.pathname),t.href=t.format(),t}if(n.protocol&&n.protocol!==t.protocol){if(!Gh[n.protocol]){for(var c=Object.keys(n),u=0;u<c.length;u++){var h=c[u];t[h]=n[h]}return t.href=t.format(),t}if(t.protocol=n.protocol,!n.host&&!TS[n.protocol]){for(var y=(n.pathname||"").split("/");y.length&&!(n.host=y.shift()););n.host||(n.host=""),n.hostname||(n.hostname=""),y[0]!==""&&y.unshift(""),y.length<2&&y.unshift(""),t.pathname=y.join("/")}else t.pathname=n.pathname;if(t.search=n.search,t.query=n.query,t.host=n.host||"",t.auth=n.auth,t.hostname=n.hostname||n.host,t.port=n.port,t.pathname||t.search){var d=t.pathname||"",f=t.search||"";t.path=d+f}return t.slashes=t.slashes||n.slashes,t.href=t.format(),t}var p=t.pathname&&t.pathname.charAt(0)==="/",m=n.host||n.pathname&&n.pathname.charAt(0)==="/",g=m||p||t.host&&n.pathname,v=g,x=t.pathname&&t.pathname.split("/")||[],y=n.pathname&&n.pathname.split("/")||[],_=t.protocol&&!Gh[t.protocol];if(_&&(t.hostname="",t.port=null,t.host&&(x[0]===""?x[0]=t.host:x.unshift(t.host)),t.host="",n.protocol&&(n.hostname=null,n.port=null,n.host&&(y[0]===""?y[0]=n.host:y.unshift(n.host)),n.host=null),g=g&&(y[0]===""||x[0]==="")),m)t.host=n.host||n.host===""?n.host:t.host,t.hostname=n.hostname||n.hostname===""?n.hostname:t.hostname,t.search=n.search,t.query=n.query,x=y;else if(y.length)x||(x=[]),x.pop(),x=x.concat(y),t.search=n.search,t.query=n.query;else if(n.search!=null){if(_){t.host=x.shift(),t.hostname=t.host;var b=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;b&&(t.auth=b.shift(),t.hostname=b.shift(),t.host=t.hostname)}return t.search=n.search,t.query=n.query,(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t}if(!x.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var w=x.slice(-1)[0],E=(t.host||n.host||x.length>1)&&(w==="."||w==="..")||w==="",S=0,C=x.length;C>=0;C--)w=x[C],w==="."?x.splice(C,1):w===".."?(x.splice(C,1),S++):S&&(x.splice(C,1),S--);if(!g&&!v)for(;S--;S)x.unshift("..");g&&x[0]!==""&&(!x[0]||x[0].charAt(0)!=="/")&&x.unshift(""),E&&x.join("/").substr(-1)!=="/"&&x.push("");var R=x[0]===""||x[0]&&x[0].charAt(0)==="/";if(_){t.hostname=R?"":x.length?x.shift():"",t.host=t.hostname;var b=t.host&&t.host.indexOf("@")>0?t.host.split("@"):!1;b&&(t.auth=b.shift(),t.hostname=b.shift(),t.host=t.hostname)}return g=g||t.host&&x.length,g&&!R&&x.unshift(""),x.length>0?t.pathname=x.join("/"):(t.pathname=null,t.path=null),(t.pathname!==null||t.search!==null)&&(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=n.auth||t.auth,t.slashes=t.slashes||n.slashes,t.href=t.format(),t};Ni.prototype.parseHost=function(){var n=this.host,e=g8.exec(n);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),n=n.substr(0,n.length-e.length)),n&&(this.hostname=n)};$h.parse=Np;$h.resolve=S8;$h.resolveObject=C8;$h.format=E8;$h.Url=Ni});var dv=null;var hv=1,SA=Symbol("SIGNAL");function je(n){let e=dv;return dv=n,e}function CA(){return dv}var fv={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function hk(n){if(!(xv(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===hv)){if(!n.producerMustRecompute(n)&&!mv(n)){n.dirty=!1,n.lastCleanEpoch=hv;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=hv}}function pv(n){return n&&(n.nextProducerIndex=0),je(n)}function AA(n,e){if(je(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(xv(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)yv(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function mv(n){vv(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(hk(t),r!==t.version))return!0}return!1}function gv(n){if(vv(n),xv(n))for(let e=0;e<n.producerNode.length;e++)yv(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function yv(n,e){if(dk(n),n.liveConsumerNode.length===1&&fk(n))for(let r=0;r<n.producerNode.length;r++)yv(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];vv(i),i.producerIndexOfThis[r]=e}}function xv(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function vv(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function dk(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function fk(n){return n.producerNode!==void 0}function pk(){throw new Error}var mk=pk;function TA(n){mk=n}function Me(n){return typeof n=="function"}function _u(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Km=_u(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Wl(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var Bt=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let s of t)s.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof Km?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{MA(s)}catch(a){e=e??[],a instanceof Km?e=[...e,...a.errors]:e.push(a)}}if(e)throw new Km(e)}}add(e){var t;if(e&&e!==this)if(this.closed)MA(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Wl(t,e)}remove(e){let{_finalizers:t}=this;t&&Wl(t,e),e instanceof n&&e._removeParent(this)}};Bt.EMPTY=(()=>{let n=new Bt;return n.closed=!0,n})();var _v=Bt.EMPTY;function Jm(n){return n instanceof Bt||n&&"closed"in n&&Me(n.remove)&&Me(n.add)&&Me(n.unsubscribe)}function MA(n){Me(n)?n():n.unsubscribe()}var Wi={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var bu={setTimeout(n,e,...t){let{delegate:r}=bu;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=bu;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function eg(n){bu.setTimeout(()=>{let{onUnhandledError:e}=Wi;if(e)e(n);else throw n})}function pf(){}var IA=bv("C",void 0,void 0);function DA(n){return bv("E",void 0,n)}function RA(n){return bv("N",n,void 0)}function bv(n,e,t){return{kind:n,value:e,error:t}}var Yl=null;function wu(n){if(Wi.useDeprecatedSynchronousErrorHandling){let e=!Yl;if(e&&(Yl={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=Yl;if(Yl=null,t)throw r}}else n()}function PA(n){Wi.useDeprecatedSynchronousErrorHandling&&Yl&&(Yl.errorThrown=!0,Yl.error=n)}var Xl=class extends Bt{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Jm(e)&&e.add(this)):this.destination=xk}static create(e,t,r){return new Ho(e,t,r)}next(e){this.isStopped?Ev(RA(e),this):this._next(e)}error(e){this.isStopped?Ev(DA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ev(IA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gk=Function.prototype.bind;function wv(n,e){return gk.call(n,e)}var Sv=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){tg(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){tg(r)}else tg(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){tg(t)}}},Ho=class extends Xl{constructor(e,t,r){super();let i;if(Me(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&Wi.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&wv(e.next,s),error:e.error&&wv(e.error,s),complete:e.complete&&wv(e.complete,s)}):i=e}this.destination=new Sv(i)}};function tg(n){Wi.useDeprecatedSynchronousErrorHandling?PA(n):eg(n)}function yk(n){throw n}function Ev(n,e){let{onStoppedNotification:t}=Wi;t&&bu.setTimeout(()=>t(n,e))}var xk={closed:!0,next:pf,error:yk,complete:pf};var Eu=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Jn(n){return n}function Cv(...n){return Av(n)}function Av(n){return n.length===0?Jn:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var Qe=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let s=_k(t)?t:new Ho(t,r,i);return wu(()=>{let{operator:a,source:l}=this;s.add(a?a.call(s,l):l?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=OA(r),new r((i,s)=>{let a=new Ho({next:l=>{try{t(l)}catch(o){s(o),a.unsubscribe()}},error:s,complete:i});this.subscribe(a)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Eu](){return this}pipe(...t){return Av(t)(this)}toPromise(t){return t=OA(t),new t((r,i)=>{let s;this.subscribe(a=>s=a,a=>i(a),()=>r(s))})}}return n.create=e=>new n(e),n})();function OA(n){var e;return(e=n??Wi.Promise)!==null&&e!==void 0?e:Promise}function vk(n){return n&&Me(n.next)&&Me(n.error)&&Me(n.complete)}function _k(n){return n&&n instanceof Xl||vk(n)&&Jm(n)}function Tv(n){return Me(n?.lift)}function Be(n){return e=>{if(Tv(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ne(n,e,t,r,i){return new Mv(n,e,t,r,i)}var Mv=class extends Xl{constructor(e,t,r,i,s,a){super(e),this.onFinalize=s,this.shouldUnsubscribe=a,this._next=t?function(l){try{t(l)}catch(o){e.error(o)}}:super._next,this._error=i?function(l){try{i(l)}catch(o){e.error(o)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Su(){return Be((n,e)=>{let t=null;n._refCount++;let r=Ne(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Cu=class extends Qe{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Tv(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Bt;let t=this.getSubject();e.add(this.source.subscribe(Ne(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Bt.EMPTY)}return e}refCount(){return Su()(this)}};var NA=_u(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var pn=(()=>{class n extends Qe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ng(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new NA}next(t){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){wu(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:s}=this;return r||i?_v:(this.currentObservers=null,s.push(t),new Bt(()=>{this.currentObservers=null,Wl(s,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){let t=new Qe;return t.source=this,t}}return n.create=(e,t)=>new ng(e,t),n})(),ng=class extends pn{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:_v}};var Mn=class extends pn{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Iv={now(){return(Iv.delegate||Date).now()},delegate:void 0};var rg=class extends Bt{constructor(e,t){super()}schedule(e,t=0){return this}};var mf={setInterval(n,e,...t){let{delegate:r}=mf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=mf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var ig=class extends rg{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return mf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&mf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Wl(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Au=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Au.now=Iv.now;var sg=class extends Au{constructor(e,t=Au.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Dv=new sg(ig),FA=Dv;var Zr=new Qe(n=>n.complete());function og(n){return n&&Me(n.schedule)}function kA(n){return n[n.length-1]}function LA(n){return Me(kA(n))?n.pop():void 0}function Wo(n){return og(kA(n))?n.pop():void 0}function VA(n,e,t,r){function i(s){return s instanceof t?s:new t(function(a){a(s)})}return new(t||(t=Promise))(function(s,a){function l(u){try{c(r.next(u))}catch(h){a(h)}}function o(u){try{c(r.throw(u))}catch(h){a(h)}}function c(u){u.done?s(u.value):i(u.value).then(l,o)}c((r=r.apply(n,e||[])).next())})}function BA(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function zl(n){return this instanceof zl?(this.v=n,this):new zl(n)}function UA(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(f){return function(p){return Promise.resolve(p).then(f,h)}}function l(f,p){r[f]&&(i[f]=function(m){return new Promise(function(g,v){s.push([f,m,g,v])>1||o(f,m)})},p&&(i[f]=p(i[f])))}function o(f,p){try{c(r[f](p))}catch(m){d(s[0][3],m)}}function c(f){f.value instanceof zl?Promise.resolve(f.value.v).then(u,h):d(s[0][2],f)}function u(f){o("next",f)}function h(f){o("throw",f)}function d(f,p){f(p),s.shift(),s.length&&o(s[0][0],s[0][1])}}function jA(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof BA=="function"?BA(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(a){return new Promise(function(l,o){a=n[s](a),i(l,o,a.done,a.value)})}}function i(s,a,l,o){Promise.resolve(o).then(function(c){s({value:c,done:l})},a)}}var ag=n=>n&&typeof n.length=="number"&&typeof n!="function";function lg(n){return Me(n?.then)}function cg(n){return Me(n[Eu])}function ug(n){return Symbol.asyncIterator&&Me(n?.[Symbol.asyncIterator])}function hg(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function bk(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var dg=bk();function fg(n){return Me(n?.[dg])}function pg(n){return UA(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield zl(t.read());if(i)return yield zl(void 0);yield yield zl(r)}}finally{t.releaseLock()}})}function mg(n){return Me(n?.getReader)}function tn(n){if(n instanceof Qe)return n;if(n!=null){if(cg(n))return wk(n);if(ag(n))return Ek(n);if(lg(n))return Sk(n);if(ug(n))return GA(n);if(fg(n))return Ck(n);if(mg(n))return Ak(n)}throw hg(n)}function wk(n){return new Qe(e=>{let t=n[Eu]();if(Me(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function Ek(n){return new Qe(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function Sk(n){return new Qe(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,eg)})}function Ck(n){return new Qe(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function GA(n){return new Qe(e=>{Tk(n,e).catch(t=>e.error(t))})}function Ak(n){return GA(pg(n))}function Tk(n,e){var t,r,i,s;return VA(this,void 0,void 0,function*(){try{for(t=jA(n);r=yield t.next(),!r.done;){let a=r.value;if(e.next(a),e.closed)return}}catch(a){i={error:a}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})}function Ar(n,e,t,r=0,i=!1){let s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function gg(n,e=0){return Be((t,r)=>{t.subscribe(Ne(r,i=>Ar(r,n,()=>r.next(i),e),()=>Ar(r,n,()=>r.complete(),e),i=>Ar(r,n,()=>r.error(i),e)))})}function yg(n,e=0){return Be((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function $A(n,e){return tn(n).pipe(yg(e),gg(e))}function HA(n,e){return tn(n).pipe(yg(e),gg(e))}function WA(n,e){return new Qe(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function YA(n,e){return new Qe(t=>{let r;return Ar(t,e,()=>{r=n[dg](),Ar(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(a){t.error(a);return}s?t.complete():t.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}function xg(n,e){if(!n)throw new Error("Iterable cannot be null");return new Qe(t=>{Ar(t,e,()=>{let r=n[Symbol.asyncIterator]();Ar(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function XA(n,e){return xg(pg(n),e)}function zA(n,e){if(n!=null){if(cg(n))return $A(n,e);if(ag(n))return WA(n,e);if(lg(n))return HA(n,e);if(ug(n))return xg(n,e);if(fg(n))return YA(n,e);if(mg(n))return XA(n,e)}throw hg(n)}function zt(n,e){return e?zA(n,e):tn(n)}function Te(...n){let e=Wo(n);return zt(n,e)}function _i(n,e){let t=Me(n)?n:()=>n,r=i=>i.error(t());return new Qe(e?i=>e.schedule(r,0,i):r)}function Rv(n){return!!n&&(n instanceof Qe||Me(n.lift)&&Me(n.subscribe))}var Yi=_u(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Pv(n,e){let t=typeof e=="object";return new Promise((r,i)=>{let s=new Ho({next:a=>{r(a),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Yi)}});n.subscribe(s)})}function qA(n){return n instanceof Date&&!isNaN(n)}function Pe(n,e){return Be((t,r)=>{let i=0;t.subscribe(Ne(r,s=>{r.next(n.call(e,s,i++))}))})}var{isArray:Mk}=Array;function Ik(n,e){return Mk(e)?n(...e):n(e)}function ZA(n){return Pe(e=>Ik(n,e))}var{isArray:Dk}=Array,{getPrototypeOf:Rk,prototype:Pk,keys:Ok}=Object;function QA(n){if(n.length===1){let e=n[0];if(Dk(e))return{args:e,keys:null};if(Nk(e)){let t=Ok(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function Nk(n){return n&&typeof n=="object"&&Rk(n)===Pk}function KA(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function vg(...n){let e=Wo(n),t=LA(n),{args:r,keys:i}=QA(n);if(r.length===0)return zt([],e);let s=new Qe(Fk(r,e,i?a=>KA(i,a):Jn));return t?s.pipe(ZA(t)):s}function Fk(n,e,t=Jn){return r=>{JA(e,()=>{let{length:i}=n,s=new Array(i),a=i,l=i;for(let o=0;o<i;o++)JA(e,()=>{let c=zt(n[o],e),u=!1;c.subscribe(Ne(r,h=>{s[o]=h,u||(u=!0,l--),l||r.next(t(s.slice()))},()=>{--a||r.complete()}))},r)},r)}}function JA(n,e,t){n?Ar(t,n,e):e()}function eT(n,e,t,r,i,s,a,l){let o=[],c=0,u=0,h=!1,d=()=>{h&&!o.length&&!c&&e.complete()},f=m=>c<r?p(m):o.push(m),p=m=>{s&&e.next(m),c++;let g=!1;tn(t(m,u++)).subscribe(Ne(e,v=>{i?.(v),s?f(v):e.next(v)},()=>{g=!0},void 0,()=>{if(g)try{for(c--;o.length&&c<r;){let v=o.shift();a?Ar(e,a,()=>p(v)):p(v)}d()}catch(v){e.error(v)}}))};return n.subscribe(Ne(e,f,()=>{h=!0,d()})),()=>{l?.()}}function sn(n,e,t=1/0){return Me(e)?sn((r,i)=>Pe((s,a)=>e(r,s,i,a))(tn(n(r,i))),t):(typeof e=="number"&&(t=e),Be((r,i)=>eT(r,i,n,t)))}function Ov(n=1/0){return sn(Jn,n)}function tT(){return Ov(1)}function Tu(...n){return tT()(zt(n,Wo(n)))}function _g(n){return new Qe(e=>{tn(n()).subscribe(e)})}function nT(n=0,e,t=FA){let r=-1;return e!=null&&(og(e)?t=e:r=e),new Qe(i=>{let s=qA(n)?+n-t.now():n;s<0&&(s=0);let a=0;return t.schedule(function(){i.closed||(i.next(a++),0<=r?this.schedule(void 0,r):i.complete())},s)})}function Qr(n,e){return Be((t,r)=>{let i=0;t.subscribe(Ne(r,s=>n.call(e,s,i++)&&r.next(s)))})}function In(n){return Be((e,t)=>{let r=null,i=!1,s;r=e.subscribe(Ne(t,void 0,void 0,a=>{s=tn(n(a,In(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function rT(n,e,t,r,i){return(s,a)=>{let l=t,o=e,c=0;s.subscribe(Ne(a,u=>{let h=c++;o=l?n(o,u,h):(l=!0,u),r&&a.next(o)},i&&(()=>{l&&a.next(o),a.complete()})))}}function Yo(n,e){return Me(e)?sn(n,e,1):sn(n,1)}function Nv(n,e=Dv){return Be((t,r)=>{let i=null,s=null,a=null,l=()=>{if(i){i.unsubscribe(),i=null;let c=s;s=null,r.next(c)}};function o(){let c=a+n,u=e.now();if(u<c){i=this.schedule(void 0,c-u),r.add(i);return}l()}t.subscribe(Ne(r,c=>{s=c,a=e.now(),i||(i=e.schedule(o,n),r.add(i))},()=>{l(),r.complete()},void 0,()=>{s=i=null}))})}function Xo(n){return Be((e,t)=>{let r=!1;e.subscribe(Ne(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function ro(n){return n<=0?()=>Zr:Be((e,t)=>{let r=0;e.subscribe(Ne(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Fv(n){return Pe(()=>n)}function bg(n=kk){return Be((e,t)=>{let r=!1;e.subscribe(Ne(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function kk(){return new Yi}function ql(n){return Be((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function _s(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qr((i,s)=>n(i,s,r)):Jn,ro(1),t?Xo(e):bg(()=>new Yi))}function Mu(n){return n<=0?()=>Zr:Be((e,t)=>{let r=[];e.subscribe(Ne(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function kv(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qr((i,s)=>n(i,s,r)):Jn,Mu(1),t?Xo(e):bg(()=>new Yi))}function io(n=1/0){let e;n&&typeof n=="object"?e=n:e={count:n};let{count:t=1/0,delay:r,resetOnSuccess:i=!1}=e;return t<=0?Jn:Be((s,a)=>{let l=0,o,c=()=>{let u=!1;o=s.subscribe(Ne(a,h=>{i&&(l=0),a.next(h)},void 0,h=>{if(l++<t){let d=()=>{o?(o.unsubscribe(),o=null,c()):u=!0};if(r!=null){let f=typeof r=="number"?nT(r):tn(r(h,l)),p=Ne(a,()=>{p.unsubscribe(),d()},()=>{a.complete()});f.subscribe(p)}else d()}else a.error(h)})),u&&(o.unsubscribe(),o=null,c())};c()})}function Lv(n,e){return Be(rT(n,e,arguments.length>=2,!0))}function Bv(...n){let e=Wo(n);return Be((t,r)=>{(e?Tu(n,t,e):Tu(n,t)).subscribe(r)})}function Kr(n,e){return Be((t,r)=>{let i=null,s=0,a=!1,l=()=>a&&!i&&r.complete();t.subscribe(Ne(r,o=>{i?.unsubscribe();let c=0,u=s++;tn(n(o,u)).subscribe(i=Ne(r,h=>r.next(e?e(o,h,u,c++):h),()=>{i=null,l()}))},()=>{a=!0,l()}))})}function Vv(n){return Be((e,t)=>{tn(n).subscribe(Ne(t,()=>t.complete(),pf)),!t.closed&&e.subscribe(t)})}function mn(n,e,t){let r=Me(n)||e||t?{next:n,error:e,complete:t}:n;return r?Be((i,s)=>{var a;(a=r.subscribe)===null||a===void 0||a.call(r);let l=!0;i.subscribe(Ne(s,o=>{var c;(c=r.next)===null||c===void 0||c.call(r,o),s.next(o)},()=>{var o;l=!1,(o=r.complete)===null||o===void 0||o.call(r),s.complete()},o=>{var c;l=!1,(c=r.error)===null||c===void 0||c.call(r,o),s.error(o)},()=>{var o,c;l&&((o=r.unsubscribe)===null||o===void 0||o.call(r)),(c=r.finalize)===null||c===void 0||c.call(r)}))}):Jn}var Lk="https://g.co/ng/security#xss",fe=class extends Error{constructor(e,t){super(Qg(e,t)),this.code=e}};function Qg(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function Pf(n){return{toString:n}.toString()}var wg="__parameters__";function Bk(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function GT(n,e,t){return Pf(()=>{let r=Bk(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let a=new i(...s);return l.annotation=a,l;function l(o,c,u){let h=o.hasOwnProperty(wg)?o[wg]:Object.defineProperty(o,wg,{value:[]})[wg];for(;h.length<=u;)h.push(null);return(h[u]=h[u]||[]).push(a),o}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function ft(n){for(let e in n)if(n[e]===ft)return e;throw Error("Could not find renamed property on target object.")}function ei(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(ei).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function Kv(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var Vk=ft({__forward_ref__:ft});function J_(n){return n.__forward_ref__=J_,n.toString=function(){return ei(this())},n}function wi(n){return $T(n)?n():n}function $T(n){return typeof n=="function"&&n.hasOwnProperty(Vk)&&n.__forward_ref__===J_}function oe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function ea(n){return{providers:n.providers||[],imports:n.imports||[]}}function Kg(n){return iT(n,WT)||iT(n,YT)}function HT(n){return Kg(n)!==null}function iT(n,e){return n.hasOwnProperty(e)?n[e]:null}function Uk(n){let e=n&&(n[WT]||n[YT]);return e||null}function sT(n){return n&&(n.hasOwnProperty(oT)||n.hasOwnProperty(jk))?n[oT]:null}var WT=ft({\u0275prov:ft}),oT=ft({\u0275inj:ft}),YT=ft({ngInjectableDef:ft}),jk=ft({ngInjectorDef:ft}),xe=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=oe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function XT(n){return n&&!!n.\u0275providers}var Gk=ft({\u0275cmp:ft}),$k=ft({\u0275dir:ft}),Hk=ft({\u0275pipe:ft}),Wk=ft({\u0275mod:ft}),Rg=ft({\u0275fac:ft}),xf=ft({__NG_ELEMENT_ID__:ft}),aT=ft({__NG_ENV_ID__:ft});function zT(n){return typeof n=="string"?n:n==null?"":String(n)}function Yk(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():zT(n)}function Xk(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new fe(-200,n)}function eb(n,e){throw new fe(-201,!1)}var Fe=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Fe||{}),Jv;function qT(){return Jv}function bi(n){let e=Jv;return Jv=n,e}function ZT(n,e,t){let r=Kg(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&Fe.Optional)return null;if(e!==void 0)return e;eb(n,"Injector")}var zk={},vf=zk,e_="__NG_DI_FLAG__",Pg="ngTempTokenPath",qk="ngTokenPath",Zk=/\n/gm,Qk="\u0275",lT="__source",Pu;function Kk(){return Pu}function zo(n){let e=Pu;return Pu=n,e}function Jk(n,e=Fe.Default){if(Pu===void 0)throw new fe(-203,!1);return Pu===null?ZT(n,void 0,e):Pu.get(n,e&Fe.Optional?null:void 0,e)}function he(n,e=Fe.Default){return(qT()||Jk)(wi(n),e)}function te(n,e=Fe.Default){return he(n,Jg(e))}function Jg(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function t_(n){let e=[];for(let t=0;t<n.length;t++){let r=wi(n[t]);if(Array.isArray(r)){if(r.length===0)throw new fe(900,!1);let i,s=Fe.Default;for(let a=0;a<r.length;a++){let l=r[a],o=eL(l);typeof o=="number"?o===-1?i=l.token:s|=o:i=l}e.push(he(i,s))}else e.push(he(r))}return e}function QT(n,e){return n[e_]=e,n.prototype[e_]=e,n}function eL(n){return n[e_]}function tL(n,e,t,r){let i=n[Pg];throw e[lT]&&i.unshift(e[lT]),n.message=nL(`
`+n.message,i,t,r),n[qk]=i,n[Pg]=null,n}function nL(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==Qk?n.slice(2):n;let i=ei(e);if(Array.isArray(e))i=e.map(ei).join(" -> ");else if(typeof e=="object"){let s=[];for(let a in e)if(e.hasOwnProperty(a)){let l=e[a];s.push(a+":"+(typeof l=="string"?JSON.stringify(l):ei(l)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Zk,`
  `)}`}var tb=QT(GT("Optional"),8);var KT=QT(GT("SkipSelf"),4);function Nu(n,e){let t=n.hasOwnProperty(Rg);return t?n[Rg]:null}function rL(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}function iL(n){return n.flat(Number.POSITIVE_INFINITY)}function nb(n,e){n.forEach(t=>Array.isArray(t)?nb(t,e):e(t))}function JT(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function Og(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function sL(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let s=i-2;n[i]=n[s],i--}n[e]=t,n[e+1]=r}}function ey(n,e,t){let r=Of(n,e);return r>=0?n[r|1]=t:(r=~r,sL(n,r,e,t)),r}function Uv(n,e){let t=Of(n,e);if(t>=0)return n[t|1]}function Of(n,e){return oL(n,e,1)}function oL(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let s=r+(i-r>>1),a=n[s<<t];if(e===a)return s<<t;a>e?i=s:r=s+1}return~(i<<t)}var _f={},Jr=[],Fu=new xe(""),e1=new xe("",-1),t1=new xe(""),Ng=class{get(e,t=vf){if(t===vf){let r=new Error(`NullInjectorError: No provider for ${ei(e)}!`);throw r.name="NullInjectorError",r}return t}},n1=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(n1||{}),Es=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Es||{}),Qo=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(Qo||{});function aL(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function n_(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let s=t[r++],a=t[r++],l=t[r++];n.setAttribute(e,a,l,s)}else{let s=i,a=t[++r];cL(s)?n.setProperty(e,s,a):n.setAttribute(e,s,a),r++}}return r}function lL(n){return n===3||n===4||n===6}function cL(n){return n.charCodeAt(0)===64}function rb(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?cT(n,t,i,null,e[++r]):cT(n,t,i,null,null))}}return n}function cT(n,e,t,r,i){let s=0,a=n.length;if(e===-1)a=-1;else for(;s<n.length;){let l=n[s++];if(typeof l=="number"){if(l===e){a=-1;break}else if(l>e){a=s-1;break}}}for(;s<n.length;){let l=n[s];if(typeof l=="number")break;if(l===t){if(r===null){i!==null&&(n[s+1]=i);return}else if(r===n[s+1]){n[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}a!==-1&&(n.splice(a,0,e),s=a+1),n.splice(s++,0,t),r!==null&&n.splice(s++,0,r),i!==null&&n.splice(s++,0,i)}var r1="ng-template";function uL(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&aL(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(ib(n))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===t)return!0}return!1}function ib(n){return n.type===4&&n.value!==r1}function hL(n,e,t){let r=n.type===4&&!t?r1:n.value;return e===r}function dL(n,e,t){let r=4,i=n.attrs,s=i!==null?mL(i):0,a=!1;for(let l=0;l<e.length;l++){let o=e[l];if(typeof o=="number"){if(!a&&!Xi(r)&&!Xi(o))return!1;if(a&&Xi(o))continue;a=!1,r=o|r&1;continue}if(!a)if(r&4){if(r=2|r&1,o!==""&&!hL(n,o,t)||o===""&&e.length===1){if(Xi(r))return!1;a=!0}}else if(r&8){if(i===null||!uL(n,i,o,t)){if(Xi(r))return!1;a=!0}}else{let c=e[++l],u=fL(o,i,ib(n),t);if(u===-1){if(Xi(r))return!1;a=!0;continue}if(c!==""){let h;if(u>s?h="":h=i[u+1].toLowerCase(),r&2&&c!==h){if(Xi(r))return!1;a=!0}}}}return Xi(r)||a}function Xi(n){return(n&1)===0}function fL(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){let a=e[i];if(a===n)return i;if(a===3||a===6)s=!0;else if(a===1||a===2){let l=e[++i];for(;typeof l=="string";)l=e[++i];continue}else{if(a===4)break;if(a===0){i+=4;continue}}i+=s?1:2}return-1}else return gL(e,n)}function pL(n,e,t=!1){for(let r=0;r<e.length;r++)if(dL(n,e[r],t))return!0;return!1}function mL(n){for(let e=0;e<n.length;e++){let t=n[e];if(lL(t))return e}return n.length}function gL(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function uT(n,e){return n?":not("+e.trim()+")":e}function yL(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let a=n[t];if(typeof a=="string")if(r&2){let l=n[++t];i+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else r&8?i+="."+a:r&4&&(i+=" "+a);else i!==""&&!Xi(a)&&(e+=uT(s,i),i=""),r=a,s=s||!Xi(r);t++}return i!==""&&(e+=uT(s,i)),e}function xL(n){return n.map(yL).join(",")}function vL(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let s=n[r];if(typeof s=="string")i===2?s!==""&&e.push(s,n[++r]):i===8&&t.push(s);else{if(!Xi(i))break;i=s}r++}return{attrs:e,classes:t}}function gn(n){return Pf(()=>{let e=l1(n),t=ve(W({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===n1.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Es.Emulated,styles:n.styles||Jr,_:null,schemas:n.schemas||null,tView:null,id:""});c1(t);let r=n.dependencies;return t.directiveDefs=dT(r,!1),t.pipeDefs=dT(r,!0),t.id=wL(t),t})}function _L(n){return Ql(n)||i1(n)}function bL(n){return n!==null}function ta(n){return Pf(()=>({type:n.type,bootstrap:n.bootstrap||Jr,declarations:n.declarations||Jr,imports:n.imports||Jr,exports:n.exports||Jr,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function hT(n,e){if(n==null)return _f;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],s,a,l=Qo.None;Array.isArray(i)?(l=i[0],s=i[1],a=i[2]??s):(s=i,a=i),e?(t[s]=l!==Qo.None?[r,l]:r,e[s]=a):t[s]=r}return t}function Wu(n){return Pf(()=>{let e=l1(n);return c1(e),e})}function Ql(n){return n[Gk]||null}function i1(n){return n[$k]||null}function s1(n){return n[Hk]||null}function o1(n){let e=Ql(n)||i1(n)||s1(n);return e!==null?e.standalone:!1}function a1(n,e){let t=n[Wk]||null;if(!t&&e===!0)throw new Error(`Type ${ei(n)} does not have '\u0275mod' property.`);return t}function l1(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||_f,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||Jr,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:hT(n.inputs,e),outputs:hT(n.outputs),debugInfo:null}}function c1(n){n.features?.forEach(e=>e(n))}function dT(n,e){if(!n)return null;let t=e?s1:_L;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter(bL)}function wL(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yu(n){return{\u0275providers:n}}function EL(...n){return{\u0275providers:u1(!0,n),\u0275fromNgModule:!0}}function u1(n,...e){let t=[],r=new Set,i,s=a=>{t.push(a)};return nb(e,a=>{let l=a;r_(l,s,[],r)&&(i||=[],i.push(l))}),i!==void 0&&h1(i,s),t}function h1(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];sb(i,s=>{e(s,r)})}}function r_(n,e,t,r){if(n=wi(n),!n)return!1;let i=null,s=sT(n),a=!s&&Ql(n);if(!s&&!a){let o=n.ngModule;if(s=sT(o),s)i=o;else return!1}else{if(a&&!a.standalone)return!1;i=n}let l=r.has(i);if(a){if(l)return!1;if(r.add(i),a.dependencies){let o=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let c of o)r_(c,e,t,r)}}else if(s){if(s.imports!=null&&!l){r.add(i);let c;try{nb(s.imports,u=>{r_(u,e,t,r)&&(c||=[],c.push(u))})}finally{}c!==void 0&&h1(c,e)}if(!l){let c=Nu(i)||(()=>new i);e({provide:i,useFactory:c,deps:Jr},i),e({provide:t1,useValue:i,multi:!0},i),e({provide:Fu,useValue:()=>he(i),multi:!0},i)}let o=s.providers;if(o!=null&&!l){let c=n;sb(o,u=>{e(u,c)})}}else return!1;return i!==n&&n.providers!==void 0}function sb(n,e){for(let t of n)XT(t)&&(t=t.\u0275providers),Array.isArray(t)?sb(t,e):e(t)}var SL=ft({provide:String,useValue:ft});function d1(n){return n!==null&&typeof n=="object"&&SL in n}function CL(n){return!!(n&&n.useExisting)}function AL(n){return!!(n&&n.useFactory)}function i_(n){return typeof n=="function"}var ty=new xe(""),Cg={},TL={},jv;function ob(){return jv===void 0&&(jv=new Ng),jv}var Tr=class{},bf=class extends Tr{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,o_(e,a=>this.processProvider(a)),this.records.set(e1,Iu(void 0,this)),i.has("environment")&&this.records.set(Tr,Iu(void 0,this));let s=this.records.get(ty);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(t1,Jr,Fe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=je(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),je(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=zo(this),r=bi(void 0),i;try{return e()}finally{zo(t),bi(r)}}get(e,t=vf,r=Fe.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(aT))return e[aT](this);r=Jg(r);let i,s=zo(this),a=bi(void 0);try{if(!(r&Fe.SkipSelf)){let o=this.records.get(e);if(o===void 0){let c=OL(e)&&Kg(e);c&&this.injectableDefInScope(c)?o=Iu(s_(e),Cg):o=null,this.records.set(e,o)}if(o!=null)return this.hydrate(e,o)}let l=r&Fe.Self?ob():this.parent;return t=r&Fe.Optional&&t===vf?null:t,l.get(e,t)}catch(l){if(l.name==="NullInjectorError"){if((l[Pg]=l[Pg]||[]).unshift(ei(e)),s)throw l;return tL(l,e,"R3InjectorError",this.source)}else throw l}finally{bi(a),zo(s)}}resolveInjectorInitializers(){let e=je(null),t=zo(this),r=bi(void 0),i;try{let s=this.get(Fu,Jr,Fe.Self);for(let a of s)a()}finally{zo(t),bi(r),je(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(ei(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new fe(205,!1)}processProvider(e){e=wi(e);let t=i_(e)?e:wi(e&&e.provide),r=IL(e);if(!i_(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Iu(void 0,Cg,!0),i.factory=()=>t_(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=je(null);try{return t.value===Cg&&(t.value=TL,t.value=t.factory()),typeof t.value=="object"&&t.value&&PL(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{je(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=wi(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function s_(n){let e=Kg(n),t=e!==null?e.factory:Nu(n);if(t!==null)return t;if(n instanceof xe)throw new fe(204,!1);if(n instanceof Function)return ML(n);throw new fe(204,!1)}function ML(n){if(n.length>0)throw new fe(204,!1);let t=Uk(n);return t!==null?()=>t.factory(n):()=>new n}function IL(n){if(d1(n))return Iu(void 0,n.useValue);{let e=DL(n);return Iu(e,Cg)}}function DL(n,e,t){let r;if(i_(n)){let i=wi(n);return Nu(i)||s_(i)}else if(d1(n))r=()=>wi(n.useValue);else if(AL(n))r=()=>n.useFactory(...t_(n.deps||[]));else if(CL(n))r=()=>he(wi(n.useExisting));else{let i=wi(n&&(n.useClass||n.provide));if(RL(n))r=()=>new i(...t_(n.deps));else return Nu(i)||s_(i)}return r}function Iu(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function RL(n){return!!n.deps}function PL(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function OL(n){return typeof n=="function"||typeof n=="object"&&n instanceof xe}function o_(n,e){for(let t of n)Array.isArray(t)?o_(t,e):t&&XT(t)?o_(t.\u0275providers,e):e(t)}function Qi(n,e){n instanceof bf&&n.assertNotDestroyed();let t,r=zo(n),i=bi(void 0);try{return e()}finally{zo(r),bi(i)}}function NL(){return qT()!==void 0||Kk()!=null}function FL(n){return typeof n=="function"}var ao=0,Ie=1,Se=2,Un=3,zi=4,Ki=5,wf=6,Fg=7,Bn=8,ku=9,so=10,jn=11,Ef=12,fT=13,Xu=14,qi=15,Kl=16,Du=17,oo=18,ny=19,f1=20,qo=21,Gv=22,Ei=23,Zi=25,p1=1;var Jl=7,kg=8,Lu=9,Vn=10,Lg=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Lg||{});function Zo(n){return Array.isArray(n)&&typeof n[p1]=="object"}function lo(n){return Array.isArray(n)&&n[p1]===!0}function m1(n){return(n.flags&4)!==0}function ry(n){return n.componentOffset>-1}function ab(n){return(n.flags&1)===1}function Nf(n){return!!n.template}function a_(n){return(n[Se]&512)!==0}var l_=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function g1(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Ff(){return y1}function y1(n){return n.type.prototype.ngOnChanges&&(n.setInput=LL),kL}Ff.ngInherit=!0;function kL(){let n=v1(this),e=n?.current;if(e){let t=n.previous;if(t===_f)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function LL(n,e,t,r,i){let s=this.declaredInputs[r],a=v1(n)||BL(n,{previous:_f,current:null}),l=a.current||(a.current={}),o=a.previous,c=o[s];l[s]=new l_(c&&c.currentValue,t,o===_f),g1(n,e,i,t)}var x1="__ngSimpleChanges__";function v1(n){return n[x1]||null}function BL(n,e){return n[x1]=e}var pT=null;var bs=function(n,e,t){pT?.(n,e,t)},VL="svg",UL="math";function Ss(n){for(;Array.isArray(n);)n=n[ao];return n}function _1(n,e){return Ss(e[n])}function Ji(n,e){return Ss(e[n.index])}function lb(n,e){return n.data[e]}function na(n,e){let t=e[n];return Zo(t)?t:t[ao]}function jL(n){return(n[Se]&4)===4}function cb(n){return(n[Se]&128)===128}function GL(n){return lo(n[Un])}function Bu(n,e){return e==null?null:n[e]}function b1(n){n[Du]=0}function w1(n){n[Se]&1024||(n[Se]|=1024,cb(n)&&sy(n))}function $L(n,e){for(;n>0;)e=e[Xu],n--;return e}function iy(n){return!!(n[Se]&9216||n[Ei]?.dirty)}function c_(n){n[so].changeDetectionScheduler?.notify(8),n[Se]&64&&(n[Se]|=1024),iy(n)&&sy(n)}function sy(n){n[so].changeDetectionScheduler?.notify(0);let e=ec(n);for(;e!==null&&!(e[Se]&8192||(e[Se]|=8192,!cb(e)));)e=ec(e)}function E1(n,e){if((n[Se]&256)===256)throw new fe(911,!1);n[qo]===null&&(n[qo]=[]),n[qo].push(e)}function HL(n,e){if(n[qo]===null)return;let t=n[qo].indexOf(e);t!==-1&&n[qo].splice(t,1)}function ec(n){let e=n[Un];return lo(e)?e[Un]:e}var Ve={lFrame:P1(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var S1=!1;function WL(){return Ve.lFrame.elementDepthCount}function YL(){Ve.lFrame.elementDepthCount++}function XL(){Ve.lFrame.elementDepthCount--}function C1(){return Ve.bindingsEnabled}function zL(){return Ve.skipHydrationRootTNode!==null}function qL(n){return Ve.skipHydrationRootTNode===n}function ZL(){Ve.skipHydrationRootTNode=null}function ct(){return Ve.lFrame.lView}function es(){return Ve.lFrame.tView}function ra(n){return Ve.lFrame.contextLView=n,n[Bn]}function ia(n){return Ve.lFrame.contextLView=null,n}function Si(){let n=A1();for(;n!==null&&n.type===64;)n=n.parent;return n}function A1(){return Ve.lFrame.currentTNode}function QL(){let n=Ve.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function kf(n,e){let t=Ve.lFrame;t.currentTNode=n,t.isParent=e}function T1(){return Ve.lFrame.isParent}function KL(){Ve.lFrame.isParent=!1}function M1(){return S1}function mT(n){S1=n}function JL(){let n=Ve.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function e2(n){return Ve.lFrame.bindingIndex=n}function oy(){return Ve.lFrame.bindingIndex++}function t2(n){let e=Ve.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function n2(){return Ve.lFrame.inI18n}function r2(n,e){let t=Ve.lFrame;t.bindingIndex=t.bindingRootIndex=n,u_(e)}function i2(){return Ve.lFrame.currentDirectiveIndex}function u_(n){Ve.lFrame.currentDirectiveIndex=n}function s2(n){let e=Ve.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function I1(){return Ve.lFrame.currentQueryIndex}function ub(n){Ve.lFrame.currentQueryIndex=n}function o2(n){let e=n[Ie];return e.type===2?e.declTNode:e.type===1?n[Ki]:null}function D1(n,e,t){if(t&Fe.SkipSelf){let i=e,s=n;for(;i=i.parent,i===null&&!(t&Fe.Host);)if(i=o2(s),i===null||(s=s[Xu],i.type&10))break;if(i===null)return!1;e=i,n=s}let r=Ve.lFrame=R1();return r.currentTNode=e,r.lView=n,!0}function hb(n){let e=R1(),t=n[Ie];Ve.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function R1(){let n=Ve.lFrame,e=n===null?null:n.child;return e===null?P1(n):e}function P1(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function O1(){let n=Ve.lFrame;return Ve.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var N1=O1;function db(){let n=O1();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function a2(n){return(Ve.lFrame.contextLView=$L(n,Ve.lFrame.contextLView))[Bn]}function sc(){return Ve.lFrame.selectedIndex}function tc(n){Ve.lFrame.selectedIndex=n}function l2(){let n=Ve.lFrame;return lb(n.tView,n.selectedIndex)}function c2(){return Ve.lFrame.currentNamespace}var F1=!0;function fb(){return F1}function pb(n){F1=n}function u2(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let a=y1(e);(t.preOrderHooks??=[]).push(n,a),(t.preOrderCheckHooks??=[]).push(n,a)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}function mb(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let s=n.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:o,ngAfterViewChecked:c,ngOnDestroy:u}=s;a&&(n.contentHooks??=[]).push(-t,a),l&&((n.contentHooks??=[]).push(t,l),(n.contentCheckHooks??=[]).push(t,l)),o&&(n.viewHooks??=[]).push(-t,o),c&&((n.viewHooks??=[]).push(t,c),(n.viewCheckHooks??=[]).push(t,c)),u!=null&&(n.destroyHooks??=[]).push(t,u)}}function Ag(n,e,t){k1(n,e,3,t)}function Tg(n,e,t,r){(n[Se]&3)===t&&k1(n,e,t,r)}function $v(n,e){let t=n[Se];(t&3)===e&&(t&=16383,t+=1,n[Se]=t)}function k1(n,e,t,r){let i=r!==void 0?n[Du]&65535:0,s=r??-1,a=e.length-1,l=0;for(let o=i;o<a;o++)if(typeof e[o+1]=="number"){if(l=e[o],r!=null&&l>=r)break}else e[o]<0&&(n[Du]+=65536),(l<s||s==-1)&&(h2(n,t,e,o),n[Du]=(n[Du]&4294901760)+o+2),o++}function gT(n,e){bs(4,n,e);let t=je(null);try{e.call(n)}finally{je(t),bs(5,n,e)}}function h2(n,e,t,r){let i=t[r]<0,s=t[r+1],a=i?-t[r]:t[r],l=n[a];i?n[Se]>>14<n[Du]>>16&&(n[Se]&3)===e&&(n[Se]+=16384,gT(l,s)):gT(l,s)}var Ou=-1,Sf=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function d2(n){return n instanceof Sf}function f2(n){return(n.flags&8)!==0}function p2(n){return(n.flags&16)!==0}var Hv={},h_=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=Jg(r);let i=this.injector.get(e,Hv,r);return i!==Hv||t===Hv?i:this.parentInjector.get(e,t,r)}};function L1(n){return n!==Ou}function Bg(n){return n&32767}function m2(n){return n>>16}function Vg(n,e){let t=m2(n),r=e;for(;t>0;)r=r[Xu],t--;return r}var d_=!0;function yT(n){let e=d_;return d_=n,e}var g2=256,B1=g2-1,V1=5,y2=0,ws={};function x2(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(xf)&&(r=t[xf]),r==null&&(r=t[xf]=y2++);let i=r&B1,s=1<<i;e.data[n+(i>>V1)]|=s}function U1(n,e){let t=j1(n,e);if(t!==-1)return t;let r=e[Ie];r.firstCreatePass&&(n.injectorIndex=e.length,Wv(r.data,n),Wv(e,null),Wv(r.blueprint,null));let i=gb(n,e),s=n.injectorIndex;if(L1(i)){let a=Bg(i),l=Vg(i,e),o=l[Ie].data;for(let c=0;c<8;c++)e[s+c]=l[a+c]|o[a+c]}return e[s+8]=i,s}function Wv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function j1(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function gb(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=Y1(i),r===null)return Ou;if(t++,i=i[Xu],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ou}function v2(n,e,t){x2(n,e,t)}function G1(n,e,t){if(t&Fe.Optional||n!==void 0)return n;eb(e,"NodeInjector")}function $1(n,e,t,r){if(t&Fe.Optional&&r===void 0&&(r=null),!(t&(Fe.Self|Fe.Host))){let i=n[ku],s=bi(void 0);try{return i?i.get(e,r,t&Fe.Optional):ZT(e,r,t&Fe.Optional)}finally{bi(s)}}return G1(r,e,t)}function H1(n,e,t,r=Fe.Default,i){if(n!==null){if(e[Se]&2048&&!(r&Fe.Self)){let a=E2(n,e,t,r,ws);if(a!==ws)return a}let s=W1(n,e,t,r,ws);if(s!==ws)return s}return $1(e,t,r,i)}function W1(n,e,t,r,i){let s=b2(t);if(typeof s=="function"){if(!D1(e,n,r))return r&Fe.Host?G1(i,t,r):$1(e,t,r,i);try{let a;if(a=s(r),a==null&&!(r&Fe.Optional))eb(t);else return a}finally{N1()}}else if(typeof s=="number"){let a=null,l=j1(n,e),o=Ou,c=r&Fe.Host?e[qi][Ki]:null;for((l===-1||r&Fe.SkipSelf)&&(o=l===-1?gb(n,e):e[l+8],o===Ou||!vT(r,!1)?l=-1:(a=e[Ie],l=Bg(o),e=Vg(o,e)));l!==-1;){let u=e[Ie];if(xT(s,l,u.data)){let h=_2(l,e,t,a,r,c);if(h!==ws)return h}o=e[l+8],o!==Ou&&vT(r,e[Ie].data[l+8]===c)&&xT(s,l,e)?(a=u,l=Bg(o),e=Vg(o,e)):l=-1}}return i}function _2(n,e,t,r,i,s){let a=e[Ie],l=a.data[n+8],o=r==null?ry(l)&&d_:r!=a&&(l.type&3)!==0,c=i&Fe.Host&&s===l,u=Mg(l,a,t,o,c);return u!==null?Vu(e,a,u,l):ws}function Mg(n,e,t,r,i){let s=n.providerIndexes,a=e.data,l=s&1048575,o=n.directiveStart,c=n.directiveEnd,u=s>>20,h=r?l:l+u,d=i?l+u:c;for(let f=h;f<d;f++){let p=a[f];if(f<o&&t===p||f>=o&&p.type===t)return f}if(i){let f=a[o];if(f&&Nf(f)&&f.type===t)return o}return null}function Vu(n,e,t,r){let i=n[t],s=e.data;if(d2(i)){let a=i;a.resolving&&Xk(Yk(s[t]));let l=yT(a.canSeeViewProviders);a.resolving=!0;let o,c=a.injectImpl?bi(a.injectImpl):null,u=D1(n,r,Fe.Default);try{i=n[t]=a.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&u2(t,s[t],e)}finally{c!==null&&bi(c),yT(l),a.resolving=!1,N1()}}return i}function b2(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(xf)?n[xf]:void 0;return typeof e=="number"?e>=0?e&B1:w2:e}function xT(n,e,t){let r=1<<n;return!!(t[e+(n>>V1)]&r)}function vT(n,e){return!(n&Fe.Self)&&!(n&Fe.Host&&e)}var Zl=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return H1(this._tNode,this._lView,e,Jg(r),t)}};function w2(){return new Zl(Si(),ct())}function ay(n){return Pf(()=>{let e=n.prototype.constructor,t=e[Rg]||f_(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let s=i[Rg]||f_(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function f_(n){return $T(n)?()=>{let e=f_(wi(n));return e&&e()}:Nu(n)}function E2(n,e,t,r,i){let s=n,a=e;for(;s!==null&&a!==null&&a[Se]&2048&&!(a[Se]&512);){let l=W1(s,a,t,r|Fe.Self,ws);if(l!==ws)return l;let o=s.parent;if(!o){let c=a[f1];if(c){let u=c.get(t,ws,r);if(u!==ws)return u}o=Y1(a),a=a[Xu]}s=o}return i}function Y1(n){let e=n[Ie],t=e.type;return t===2?e.declTNode:t===1?n[Ki]:null}function _T(n,e=null,t=null,r){let i=X1(n,e,t,r);return i.resolveInjectorInitializers(),i}function X1(n,e=null,t=null,r,i=new Set){let s=[t||Jr,EL(n)];return r=r||(typeof n=="object"?void 0:ei(n)),new bf(s,e||ob(),r||null,i)}var Ko=class n{static{this.THROW_IF_NOT_FOUND=vf}static{this.NULL=new Ng}static create(e,t){if(Array.isArray(e))return _T({name:""},t,e,"");{let r=e.name??"";return _T({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=oe({token:n,providedIn:"any",factory:()=>he(e1)})}static{this.__NG_ELEMENT_ID__=-1}};var S2=new xe("");S2.__NG_ELEMENT_ID__=n=>{let e=Si();if(e===null)throw new fe(204,!1);if(e.type&2)return e.value;if(n&Fe.Optional)return null;throw new fe(204,!1)};var C2="ngOriginalError";function Yv(n){return n[C2]}var z1=!0,yb=(()=>{class n{static{this.__NG_ELEMENT_ID__=A2}static{this.__NG_ENV_ID__=t=>t}}return n})(),p_=class extends yb{constructor(e){super(),this._lView=e}onDestroy(e){return E1(this._lView,e),()=>HL(this._lView,e)}};function A2(){return new p_(ct())}var sa=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Mn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new n})}}return n})();var m_=class extends pn{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,NL()&&(this.destroyRef=te(yb,{optional:!0})??void 0,this.pendingTasks=te(sa,{optional:!0})??void 0)}emit(e){let t=je(null);try{super.next(e)}finally{je(t)}}subscribe(e,t,r){let i=e,s=t||(()=>null),a=r;if(e&&typeof e=="object"){let o=e;i=o.next?.bind(o),s=o.error?.bind(o),a=o.complete?.bind(o)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),a&&(a=this.wrapInTimeout(a)));let l=super.subscribe({next:i,error:s,complete:a});return e instanceof Bt&&e.add(l),l}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},an=m_;function Ug(...n){}function q1(n){let e,t;function r(){n=Ug;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function bT(n){return queueMicrotask(()=>n()),()=>{n=Ug}}var xb="isAngularZone",jg=xb+"_ID",T2=0,Vt=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new an(!1),this.onMicrotaskEmpty=new an(!1),this.onStable=new an(!1),this.onError=new an(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=z1}=e;if(typeof Zone>"u")throw new fe(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!i&&r,a.shouldCoalesceRunChangeDetection=i,a.callbackScheduled=!1,a.scheduleInRootZone=s,D2(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(xb)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new fe(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new fe(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let s=this._inner,a=s.scheduleEventTask("NgZoneEvent: "+i,e,M2,Ug,Ug);try{return s.runTask(a,t,r)}finally{s.cancelTask(a)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},M2={};function vb(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function I2(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){q1(()=>{n.callbackScheduled=!1,g_(n),n.isCheckStableRunning=!0,vb(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),g_(n)}function D2(n){let e=()=>{I2(n)},t=T2++;n._inner=n._inner.fork({name:"angular",properties:{[xb]:!0,[jg]:t,[jg+t]:!0},onInvokeTask:(r,i,s,a,l,o)=>{if(R2(o))return r.invokeTask(s,a,l,o);try{return wT(n),r.invokeTask(s,a,l,o)}finally{(n.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),ET(n)}},onInvoke:(r,i,s,a,l,o,c)=>{try{return wT(n),r.invoke(s,a,l,o,c)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!P2(o)&&e(),ET(n)}},onHasTask:(r,i,s,a)=>{r.hasTask(s,a),i===s&&(a.change=="microTask"?(n._hasPendingMicrotasks=a.microTask,g_(n),vb(n)):a.change=="macroTask"&&(n.hasPendingMacrotasks=a.macroTask))},onHandleError:(r,i,s,a)=>(r.handleError(s,a),n.runOutsideAngular(()=>n.onError.emit(a)),!1)})}function g_(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function wT(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function ET(n){n._nesting--,vb(n)}var y_=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new an,this.onMicrotaskEmpty=new an,this.onStable=new an,this.onError=new an}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function R2(n){return Z1(n,"__ignore_ng_zone__")}function P2(n){return Z1(n,"__scheduler_tick__")}function Z1(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Cs=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Yv(e);for(;t&&Yv(t);)t=Yv(t);return t||null}},O2=new xe("",{providedIn:"root",factory:()=>{let n=te(Vt),e=te(Cs);return t=>n.runOutsideAngular(()=>e.handleError(t))}}),x_=class{constructor(){this.destroyed=!1,this.listeners=null,this.errorHandler=te(Cs,{optional:!0}),this.destroyRef=te(yb),this.destroyRef.onDestroy(()=>{this.destroyed=!0,this.listeners=null})}subscribe(e){if(this.destroyed)throw new fe(953,!1);return(this.listeners??=[]).push(e),{unsubscribe:()=>{let t=this.listeners?.indexOf(e);t!==void 0&&t!==-1&&this.listeners?.splice(t,1)}}}emit(e){if(this.destroyed)throw new fe(953,!1);if(this.listeners===null)return;let t=je(null);try{for(let r of this.listeners)try{r(e)}catch(i){this.errorHandler?.handleError(i)}}finally{je(t)}}};function ly(n){return new x_}function N2(){return zu(Si(),ct())}function zu(n,e){return new Ts(Ji(n,e))}var Ts=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=N2}}return n})();function F2(n){return n instanceof Ts?n.nativeElement:n}function k2(){return this._results[Symbol.iterator]()}var v_=class n{get changes(){return this._changes??=new an}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._onDirty=void 0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;let t=n.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=k2)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){this.dirty=!1;let r=iL(e);(this._changesDetected=!rL(this._results,r,t))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}};function Q1(n){return(n.flags&128)===128}var K1=new Map,L2=0;function B2(){return L2++}function V2(n){K1.set(n[ny],n)}function __(n){K1.delete(n[ny])}var ST="__ngContext__";function nc(n,e){Zo(e)?(n[ST]=e[ny],V2(e)):n[ST]=e}function J1(n){return tM(n[Ef])}function eM(n){return tM(n[zi])}function tM(n){for(;n!==null&&!lo(n);)n=n[zi];return n}var b_;function nM(n){b_=n}function U2(){if(b_!==void 0)return b_;if(typeof document<"u")return document;throw new fe(210,!1)}var _b=new xe("",{providedIn:"root",factory:()=>j2}),j2="ng",bb=new xe(""),oa=new xe("",{providedIn:"platform",factory:()=>"unknown"});var wb=new xe("",{providedIn:"root",factory:()=>U2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var G2="h",$2="b";var H2=()=>null;function Eb(n,e,t=!1){return H2(n,e,t)}var rM=!1,W2=new xe("",{providedIn:"root",factory:()=>rM});var w_=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Lk})`}};function cy(n){return n instanceof w_?n.changingThisBreaksApplicationSecurity:n}function iM(n){return n.ownerDocument}function sM(n){return n instanceof Function?n():n}var As=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(As||{}),Y2;function Sb(n,e){return Y2(n,e)}function Ru(n,e,t,r,i){if(r!=null){let s,a=!1;lo(r)?s=r:Zo(r)&&(a=!0,r=r[ao]);let l=Ss(r);n===0&&t!==null?i==null?cM(e,t,l):Gg(e,t,l,i||null,!0):n===1&&t!==null?Gg(e,t,l,i||null,!0):n===2?aB(e,l,a):n===3&&e.destroyNode(l),s!=null&&cB(e,n,s,t,i)}}function X2(n,e){return n.createText(e)}function z2(n,e,t){n.setValue(e,t)}function oM(n,e,t){return n.createElement(e,t)}function q2(n,e){aM(n,e),e[ao]=null,e[Ki]=null}function Z2(n,e,t,r,i,s){r[ao]=i,r[Ki]=e,hy(n,r,t,1,i,s)}function aM(n,e){e[so].changeDetectionScheduler?.notify(9),hy(n,e,e[jn],2,null,null)}function Q2(n){let e=n[Ef];if(!e)return Xv(n[Ie],n);for(;e;){let t=null;if(Zo(e))t=e[Ef];else{let r=e[Vn];r&&(t=r)}if(!t){for(;e&&!e[zi]&&e!==n;)Zo(e)&&Xv(e[Ie],e),e=e[Un];e===null&&(e=n),Zo(e)&&Xv(e[Ie],e),t=e&&e[zi]}e=t}}function K2(n,e,t,r){let i=Vn+r,s=t.length;r>0&&(t[i-1][zi]=e),r<s-Vn?(e[zi]=t[i],JT(t,Vn+r,e)):(t.push(e),e[zi]=null),e[Un]=t;let a=e[Kl];a!==null&&t!==a&&lM(a,e);let l=e[oo];l!==null&&l.insertView(n),c_(e),e[Se]|=128}function lM(n,e){let t=n[Lu],r=e[Un];if(Zo(r))n[Se]|=Lg.HasTransplantedViews;else{let i=r[Un][qi];e[qi]!==i&&(n[Se]|=Lg.HasTransplantedViews)}t===null?n[Lu]=[e]:t.push(e)}function Cb(n,e){let t=n[Lu],r=t.indexOf(e);t.splice(r,1)}function Cf(n,e){if(n.length<=Vn)return;let t=Vn+e,r=n[t];if(r){let i=r[Kl];i!==null&&i!==n&&Cb(i,r),e>0&&(n[t-1][zi]=r[zi]);let s=Og(n,Vn+e);q2(r[Ie],r);let a=s[oo];a!==null&&a.detachView(s[Ie]),r[Un]=null,r[zi]=null,r[Se]&=-129}return r}function uy(n,e){if(!(e[Se]&256)){let t=e[jn];t.destroyNode&&hy(n,e,t,3,null,null),Q2(e)}}function Xv(n,e){if(e[Se]&256)return;let t=je(null);try{e[Se]&=-129,e[Se]|=256,e[Ei]&&gv(e[Ei]),eB(n,e),J2(n,e),e[Ie].type===1&&e[jn].destroy();let r=e[Kl];if(r!==null&&lo(e[Un])){r!==e[Un]&&Cb(r,e);let i=e[oo];i!==null&&i.detachView(n)}__(e)}finally{je(t)}}function J2(n,e){let t=n.cleanup,r=e[Fg];if(t!==null)for(let s=0;s<t.length-1;s+=2)if(typeof t[s]=="string"){let a=t[s+3];a>=0?r[a]():r[-a].unsubscribe(),s+=2}else{let a=r[t[s+1]];t[s].call(a)}r!==null&&(e[Fg]=null);let i=e[qo];if(i!==null){e[qo]=null;for(let s=0;s<i.length;s++){let a=i[s];a()}}}function eB(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof Sf)){let s=t[r+1];if(Array.isArray(s))for(let a=0;a<s.length;a+=2){let l=i[s[a]],o=s[a+1];bs(4,l,o);try{o.call(l)}finally{bs(5,l,o)}}else{bs(4,i,s);try{s.call(i)}finally{bs(5,i,s)}}}}}function tB(n,e,t){return nB(n,e.parent,t)}function nB(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[ao];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=n.data[r.directiveStart+i];if(s===Es.None||s===Es.Emulated)return null}return Ji(r,t)}}function Gg(n,e,t,r,i){n.insertBefore(e,t,r,i)}function cM(n,e,t){n.appendChild(e,t)}function CT(n,e,t,r,i){r!==null?Gg(n,e,t,r,i):cM(n,e,t)}function uM(n,e){return n.parentNode(e)}function rB(n,e){return n.nextSibling(e)}function iB(n,e,t){return oB(n,e,t)}function sB(n,e,t){return n.type&40?Ji(n,t):null}var oB=sB,AT;function Ab(n,e,t,r){let i=tB(n,r,e),s=e[jn],a=r.parent||e[Ki],l=iB(a,r,e);if(i!=null)if(Array.isArray(t))for(let o=0;o<t.length;o++)CT(s,i,t[o],l,!1);else CT(s,i,t,l,!1);AT!==void 0&&AT(s,r,e,t,i)}function gf(n,e){if(e!==null){let t=e.type;if(t&3)return Ji(e,n);if(t&4)return E_(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return gf(n,r);{let i=n[e.index];return lo(i)?E_(-1,i):Ss(i)}}else{if(t&128)return gf(n,e.next);if(t&32)return Sb(e,n)()||Ss(n[e.index]);{let r=hM(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=ec(n[qi]);return gf(i,r)}else return gf(n,e.next)}}}return null}function hM(n,e){if(e!==null){let r=n[qi][Ki],i=e.projection;return r.projection[i]}return null}function E_(n,e){let t=Vn+n+1;if(t<e.length){let r=e[t],i=r[Ie].firstChild;if(i!==null)return gf(r,i)}return e[Jl]}function aB(n,e,t){n.removeChild(null,e,t)}function Tb(n,e,t,r,i,s,a){for(;t!=null;){if(t.type===128){t=t.next;continue}let l=r[t.index],o=t.type;if(a&&e===0&&(l&&nc(Ss(l),r),t.flags|=2),(t.flags&32)!==32)if(o&8)Tb(n,e,t.child,r,i,s,!1),Ru(e,n,i,l,s);else if(o&32){let c=Sb(t,r),u;for(;u=c();)Ru(e,n,i,u,s);Ru(e,n,i,l,s)}else o&16?lB(n,e,r,t,i,s):Ru(e,n,i,l,s);t=a?t.projectionNext:t.next}}function hy(n,e,t,r,i,s){Tb(t,r,n.firstChild,e,i,s,!1)}function lB(n,e,t,r,i,s){let a=t[qi],o=a[Ki].projection[r.projection];if(Array.isArray(o))for(let c=0;c<o.length;c++){let u=o[c];Ru(e,n,i,u,s)}else{let c=o,u=a[Un];Q1(r)&&(c.flags|=128),Tb(n,e,c,u,i,s,!0)}}function cB(n,e,t,r,i){let s=t[Jl],a=Ss(t);s!==a&&Ru(e,n,r,s,i);for(let l=Vn;l<t.length;l++){let o=t[l];hy(o[Ie],o,n,e,r,s)}}function uB(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=r.indexOf("-")===-1?void 0:As.DashCase;i==null?n.removeStyle(t,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=As.Important),n.setStyle(t,r,i,s))}}function hB(n,e,t){n.setAttribute(e,"style",t)}function dM(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function fM(n,e,t){let{mergedAttrs:r,classes:i,styles:s}=t;r!==null&&n_(n,e,r),i!==null&&dM(n,e,i),s!==null&&hB(n,e,s)}var co={};function yt(n=1){pM(es(),ct(),sc()+n,!1)}function pM(n,e,t,r){if(!r)if((e[Se]&3)===3){let s=n.preOrderCheckHooks;s!==null&&Ag(e,s,t)}else{let s=n.preOrderHooks;s!==null&&Tg(e,s,0,t)}tc(t)}function yn(n,e=Fe.Default){let t=ct();if(t===null)return he(n,e);let r=Si();return H1(r,t,wi(n),e)}function mM(n,e,t,r,i,s){let a=je(null);try{let l=null;i&Qo.SignalBased&&(l=e[r][SA]),l!==null&&l.transformFn!==void 0&&(s=l.transformFn(s)),i&Qo.HasDecoratorInputTransform&&(s=n.inputTransforms[r].call(e,s)),n.setInput!==null?n.setInput(e,l,s,t,r):g1(e,l,r,s)}finally{je(a)}}function dB(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)tc(~i);else{let s=i,a=t[++r],l=t[++r];r2(a,s);let o=e[s];l(2,o)}}}finally{tc(-1)}}function dy(n,e,t,r,i,s,a,l,o,c,u){let h=e.blueprint.slice();return h[ao]=i,h[Se]=r|4|128|8|64,(c!==null||n&&n[Se]&2048)&&(h[Se]|=2048),b1(h),h[Un]=h[Xu]=n,h[Bn]=t,h[so]=a||n&&n[so],h[jn]=l||n&&n[jn],h[ku]=o||n&&n[ku]||null,h[Ki]=s,h[ny]=B2(),h[wf]=u,h[f1]=c,h[qi]=e.type==2?n[qi]:h,h}function fy(n,e,t,r,i){let s=n.data[e];if(s===null)s=fB(n,e,t,r,i),n2()&&(s.flags|=32);else if(s.type&64){s.type=t,s.value=r,s.attrs=i;let a=QL();s.injectorIndex=a===null?-1:a.injectorIndex}return kf(s,!0),s}function fB(n,e,t,r,i){let s=A1(),a=T1(),l=a?s:s&&s.parent,o=n.data[e]=vB(n,l,t,e,r,i);return n.firstChild===null&&(n.firstChild=o),s!==null&&(a?s.child==null&&o.parent!==null&&(s.child=o):s.next===null&&(s.next=o,o.prev=s)),o}function gM(n,e,t,r){if(t===0)return-1;let i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function yM(n,e,t,r,i){let s=sc(),a=r&2;try{tc(-1),a&&e.length>Zi&&pM(n,e,Zi,!1),bs(a?2:0,i),t(r,i)}finally{tc(s),bs(a?3:1,i)}}function xM(n,e,t){if(m1(e)){let r=je(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let a=i;a<s;a++){let l=n.data[a];if(l.contentQueries){let o=t[a];l.contentQueries(1,o,a)}}}finally{je(r)}}}function vM(n,e,t){C1()&&(AB(n,e,t,Ji(t,e)),(t.flags&64)===64&&SM(n,e,t))}function _M(n,e,t=Ji){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let a=r[s+1],l=a===-1?t(e,n):n[a];n[i++]=l}}}function bM(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Mb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Mb(n,e,t,r,i,s,a,l,o,c,u){let h=Zi+r,d=h+i,f=pB(h,d),p=typeof c=="function"?c():c;return f[Ie]={type:n,blueprint:f,template:t,queries:null,viewQuery:l,declTNode:e,data:f.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:o,consts:p,incompleteFirstPass:!1,ssrId:u}}function pB(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:co);return t}function mB(n,e,t,r){let s=r.get(W2,rM)||t===Es.ShadowDom,a=n.selectRootElement(e,s);return gB(a),a}function gB(n){yB(n)}var yB=()=>null;function xB(n,e,t,r){let i=TM(e);i.push(t),n.firstCreatePass&&MM(n).push(r,i.length-1)}function vB(n,e,t,r,i,s){let a=e?e.injectorIndex:-1,l=0;return zL()&&(l|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function TT(n,e,t,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let a=e[s];if(a===void 0)continue;r??={};let l,o=Qo.None;Array.isArray(a)?(l=a[0],o=a[1]):l=a;let c=s;if(i!==null){if(!i.hasOwnProperty(s))continue;c=i[s]}n===0?MT(r,t,c,l,o):MT(r,t,c,l)}return r}function MT(n,e,t,r,i){let s;n.hasOwnProperty(t)?(s=n[t]).push(e,r):s=n[t]=[e,r],i!==void 0&&s.push(i)}function _B(n,e,t){let r=e.directiveStart,i=e.directiveEnd,s=n.data,a=e.attrs,l=[],o=null,c=null;for(let u=r;u<i;u++){let h=s[u],d=t?t.get(h):null,f=d?d.inputs:null,p=d?d.outputs:null;o=TT(0,h.inputs,u,o,f),c=TT(1,h.outputs,u,c,p);let m=o!==null&&a!==null&&!ib(e)?FB(o,u,a):null;l.push(m)}o!==null&&(o.hasOwnProperty("class")&&(e.flags|=8),o.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=l,e.inputs=o,e.outputs=c}function bB(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function wB(n,e,t,r,i,s,a,l){let o=Ji(e,t),c=e.inputs,u;!l&&c!=null&&(u=c[r])?(Ib(n,t,u,r,i),ry(e)&&EB(t,e.index)):e.type&3?(r=bB(r),i=a!=null?a(i,e.value||"",r):i,s.setProperty(o,r,i)):e.type&12}function EB(n,e){let t=na(e,n);t[Se]&16||(t[Se]|=64)}function wM(n,e,t,r){if(C1()){let i=r===null?null:{"":-1},s=MB(n,t),a,l;s===null?a=l=null:[a,l]=s,a!==null&&EM(n,e,t,a,i,l),i&&IB(t,r,i)}t.mergedAttrs=rb(t.mergedAttrs,t.attrs)}function EM(n,e,t,r,i,s){for(let c=0;c<r.length;c++)v2(U1(t,e),n,r[c].type);RB(t,n.data.length,r.length);for(let c=0;c<r.length;c++){let u=r[c];u.providersResolver&&u.providersResolver(u)}let a=!1,l=!1,o=gM(n,e,r.length,null);for(let c=0;c<r.length;c++){let u=r[c];t.mergedAttrs=rb(t.mergedAttrs,u.hostAttrs),PB(n,t,e,o,u),DB(o,u,i),u.contentQueries!==null&&(t.flags|=4),(u.hostBindings!==null||u.hostAttrs!==null||u.hostVars!==0)&&(t.flags|=64);let h=u.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),a=!0),!l&&(h.ngOnChanges||h.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),l=!0),o++}_B(n,t,s)}function SB(n,e,t,r,i){let s=i.hostBindings;if(s){let a=n.hostBindingOpCodes;a===null&&(a=n.hostBindingOpCodes=[]);let l=~e.index;CB(a)!=l&&a.push(l),a.push(t,r,s)}}function CB(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function AB(n,e,t,r){let i=t.directiveStart,s=t.directiveEnd;ry(t)&&OB(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||U1(t,e),nc(r,e);let a=t.initialInputs;for(let l=i;l<s;l++){let o=n.data[l],c=Vu(e,n,l,t);if(nc(c,e),a!==null&&NB(e,l-i,c,o,t,a),Nf(o)){let u=na(t.index,e);u[Bn]=Vu(e,n,l,t)}}}function SM(n,e,t){let r=t.directiveStart,i=t.directiveEnd,s=t.index,a=i2();try{tc(s);for(let l=r;l<i;l++){let o=n.data[l],c=e[l];u_(l),(o.hostBindings!==null||o.hostVars!==0||o.hostAttrs!==null)&&TB(o,c)}}finally{tc(-1),u_(a)}}function TB(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function MB(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let s=0;s<t.length;s++){let a=t[s];if(pL(e,a.selectors,!1))if(r||(r=[]),Nf(a))if(a.findHostDirectiveDefs!==null){let l=[];i=i||new Map,a.findHostDirectiveDefs(a,l,i),r.unshift(...l,a);let o=l.length;S_(n,e,o)}else r.unshift(a),S_(n,e,0);else i=i||new Map,a.findHostDirectiveDefs?.(a,r,i),r.push(a)}return r===null?null:[r,i]}function S_(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function IB(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let s=t[e[i+1]];if(s==null)throw new fe(-301,!1);r.push(e[i],s)}}}function DB(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Nf(e)&&(t[""]=n)}}function RB(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function PB(n,e,t,r,i){n.data[r]=i;let s=i.factory||(i.factory=Nu(i.type,!0)),a=new Sf(s,Nf(i),yn);n.blueprint[r]=a,t[r]=a,SB(n,e,r,gM(n,t,i.hostVars,co),i)}function OB(n,e,t){let r=Ji(e,n),i=bM(t),s=n[so].rendererFactory,a=16;t.signals?a=4096:t.onPush&&(a=64);let l=py(n,dy(n,i,null,a,r,e,null,s.createRenderer(r,t),null,null,null));n[e.index]=l}function NB(n,e,t,r,i,s){let a=s[e];if(a!==null)for(let l=0;l<a.length;){let o=a[l++],c=a[l++],u=a[l++],h=a[l++];mM(r,t,o,c,u,h)}}function FB(n,e,t){let r=null,i=0;for(;i<t.length;){let s=t[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(n.hasOwnProperty(s)){r===null&&(r=[]);let a=n[s];for(let l=0;l<a.length;l+=3)if(a[l]===e){r.push(s,a[l+1],a[l+2],t[i+1]);break}}i+=2}return r}function CM(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function AM(n,e){let t=n.contentQueries;if(t!==null){let r=je(null);try{for(let i=0;i<t.length;i+=2){let s=t[i],a=t[i+1];if(a!==-1){let l=n.data[a];ub(s),l.contentQueries(2,e[a],a)}}}finally{je(r)}}}function py(n,e){return n[Ef]?n[fT][zi]=e:n[Ef]=e,n[fT]=e,e}function C_(n,e,t){ub(0);let r=je(null);try{e(n,t)}finally{je(r)}}function TM(n){return n[Fg]??=[]}function MM(n){return n.cleanup??=[]}function IM(n,e){let t=n[ku],r=t?t.get(Cs,null):null;r&&r.handleError(e)}function Ib(n,e,t,r,i){for(let s=0;s<t.length;){let a=t[s++],l=t[s++],o=t[s++],c=e[a],u=n.data[a];mM(u,c,r,l,o,i)}}function kB(n,e,t){let r=_1(e,n);z2(n[jn],r,t)}function LB(n,e){let t=na(e,n),r=t[Ie];BB(r,t);let i=t[ao];i!==null&&t[wf]===null&&(t[wf]=Eb(i,t[ku])),Db(r,t,t[Bn])}function BB(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Db(n,e,t){hb(e);try{let r=n.viewQuery;r!==null&&C_(1,r,t);let i=n.template;i!==null&&yM(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[oo]?.finishViewCreation(n),n.staticContentQueries&&AM(n,e),n.staticViewQueries&&C_(2,n.viewQuery,t);let s=n.components;s!==null&&VB(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[Se]&=-5,db()}}function VB(n,e){for(let t=0;t<e.length;t++)LB(n,e[t])}function my(n,e,t,r){let i=je(null);try{let s=e.tView,l=n[Se]&4096?4096:16,o=dy(n,s,t,l,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),c=n[e.index];o[Kl]=c;let u=n[oo];return u!==null&&(o[oo]=u.createEmbeddedView(s)),Db(s,o,t),o}finally{je(i)}}function DM(n,e){let t=Vn+e;if(t<n.length)return n[t]}function Af(n,e){return!e||e.firstChild===null||Q1(n)}function gy(n,e,t,r=!0){let i=e[Ie];if(K2(i,e,n,t),r){let a=E_(t,n),l=e[jn],o=uM(l,n[Jl]);o!==null&&Z2(i,n[Ki],l,e,o,a)}let s=e[wf];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function RM(n,e){let t=Cf(n,e);return t!==void 0&&uy(t[Ie],t),t}function $g(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let s=e[t.index];s!==null&&r.push(Ss(s)),lo(s)&&UB(s,r);let a=t.type;if(a&8)$g(n,e,t.child,r);else if(a&32){let l=Sb(t,e),o;for(;o=l();)r.push(o)}else if(a&16){let l=hM(e,t);if(Array.isArray(l))r.push(...l);else{let o=ec(e[qi]);$g(o[Ie],o,l,r,!0)}}t=i?t.projectionNext:t.next}return r}function UB(n,e){for(let t=Vn;t<n.length;t++){let r=n[t],i=r[Ie].firstChild;i!==null&&$g(r[Ie],r,i,e)}n[Jl]!==n[ao]&&e.push(n[Jl])}var PM=[];function jB(n){return n[Ei]??GB(n)}function GB(n){let e=PM.pop()??Object.create(HB);return e.lView=n,e}function $B(n){n.lView[Ei]!==n&&(n.lView=null,PM.push(n))}var HB=ve(W({},fv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{sy(n.lView)},consumerOnSignalRead(){this.lView[Ei]=this}});function WB(n){let e=n[Ei]??Object.create(YB);return e.lView=n,e}var YB=ve(W({},fv),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=ec(n.lView);for(;e&&!OM(e[Ie]);)e=ec(e);e&&w1(e)},consumerOnSignalRead(){this.lView[Ei]=this}});function OM(n){return n.type!==2}var XB=100;function NM(n,e=!0,t=0){let r=n[so],i=r.rendererFactory,s=!1;s||i.begin?.();try{zB(n,t)}catch(a){throw e&&IM(n,a),a}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function zB(n,e){let t=M1();try{mT(!0),A_(n,e);let r=0;for(;iy(n);){if(r===XB)throw new fe(103,!1);r++,A_(n,1)}}finally{mT(t)}}function qB(n,e,t,r){let i=e[Se];if((i&256)===256)return;let s=!1,a=!1;!s&&e[so].inlineEffectRunner?.flush(),hb(e);let l=!0,o=null,c=null;s||(OM(n)?(c=jB(e),o=pv(c)):CA()===null?(l=!1,c=WB(e),o=pv(c)):e[Ei]&&(gv(e[Ei]),e[Ei]=null));try{b1(e),e2(n.bindingStartIndex),t!==null&&yM(n,e,t,2,r);let u=(i&3)===3;if(!s)if(u){let f=n.preOrderCheckHooks;f!==null&&Ag(e,f,null)}else{let f=n.preOrderHooks;f!==null&&Tg(e,f,0,null),$v(e,0)}if(a||ZB(e),FM(e,0),n.contentQueries!==null&&AM(n,e),!s)if(u){let f=n.contentCheckHooks;f!==null&&Ag(e,f)}else{let f=n.contentHooks;f!==null&&Tg(e,f,1),$v(e,1)}dB(n,e);let h=n.components;h!==null&&LM(e,h,0);let d=n.viewQuery;if(d!==null&&C_(2,d,r),!s)if(u){let f=n.viewCheckHooks;f!==null&&Ag(e,f)}else{let f=n.viewHooks;f!==null&&Tg(e,f,2),$v(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[Gv]){for(let f of e[Gv])f();e[Gv]=null}s||(e[Se]&=-73)}catch(u){throw s||sy(e),u}finally{c!==null&&(AA(c,o),l&&$B(c)),db()}}function FM(n,e){for(let t=J1(n);t!==null;t=eM(t))for(let r=Vn;r<t.length;r++){let i=t[r];kM(i,e)}}function ZB(n){for(let e=J1(n);e!==null;e=eM(e)){if(!(e[Se]&Lg.HasTransplantedViews))continue;let t=e[Lu];for(let r=0;r<t.length;r++){let i=t[r];w1(i)}}}function QB(n,e,t){let r=na(e,n);kM(r,t)}function kM(n,e){cb(n)&&A_(n,e)}function A_(n,e){let r=n[Ie],i=n[Se],s=n[Ei],a=!!(e===0&&i&16);if(a||=!!(i&64&&e===0),a||=!!(i&1024),a||=!!(s?.dirty&&mv(s)),a||=!1,s&&(s.dirty=!1),n[Se]&=-9217,a)qB(r,n,r.template,n[Bn]);else if(i&8192){FM(n,1);let l=r.components;l!==null&&LM(n,l,1)}}function LM(n,e,t){for(let r=0;r<e.length;r++)QB(n,e[r],t)}function Rb(n,e){let t=M1()?64:1088;for(n[so].changeDetectionScheduler?.notify(e);n;){n[Se]|=t;let r=ec(n);if(a_(n)&&!r)return n;n=r}return null}var rc=class{get rootNodes(){let e=this._lView,t=e[Ie];return $g(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Bn]}set context(e){this._lView[Bn]=e}get destroyed(){return(this._lView[Se]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Un];if(lo(e)){let t=e[kg],r=t?t.indexOf(this):-1;r>-1&&(Cf(e,r),Og(t,r))}this._attachedToViewContainer=!1}uy(this._lView[Ie],this._lView)}onDestroy(e){E1(this._lView,e)}markForCheck(){Rb(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[Se]&=-129}reattach(){c_(this._lView),this._lView[Se]|=128}detectChanges(){this._lView[Se]|=1024,NM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new fe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=a_(this._lView),t=this._lView[Kl];t!==null&&!e&&Cb(t,this._lView),aM(this._lView[Ie],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new fe(902,!1);this._appRef=e;let t=a_(this._lView),r=this._lView[Kl];r!==null&&!t&&lM(r,this._lView),c_(this._lView)}},Tf=(()=>{class n{static{this.__NG_ELEMENT_ID__=eV}}return n})(),KB=Tf,JB=class extends KB{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=my(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new rc(i)}};function eV(){return Pb(Si(),ct())}function Pb(n,e){return n.type&4?new JB(e,n,zu(n,e)):null}var I7=new RegExp(`^(\\d+)*(${$2}|${G2})*(.*)`);var tV=()=>null;function Mf(n,e){return tV(n,e)}var Uu=class{},yy=new xe("",{providedIn:"root",factory:()=>!1});var BM=new xe(""),VM=new xe(""),T_=class{},Hg=class{};function nV(n){let e=Error(`No component factory found for ${ei(n)}.`);return e[rV]=n,e}var rV="ngComponent";var M_=class{resolveComponentFactory(e){throw nV(e)}},ju=class{static{this.NULL=new M_}},Gu=class{},qu=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>iV()}}return n})();function iV(){let n=ct(),e=Si(),t=na(e.index,n);return(Zo(t)?t:n)[jn]}var sV=(()=>{class n{static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>null})}}return n})();function I_(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(e!==null)for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number")s=l;else if(s==1)i=Kv(i,l);else if(s==2){let o=l,c=e[++a];r=Kv(r,o+": "+c+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var Wg=class extends ju{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Ql(e);return new If(t,this.ngModule)}};function IT(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let s=Array.isArray(i),a=s?i[0]:i,l=s?i[1]:Qo.None;e?t.push({propName:a,templateName:r,isSignal:(l&Qo.SignalBased)!==0}):t.push({propName:a,templateName:r})}return t}function oV(n){let e=n.toLowerCase();return e==="svg"?VL:e==="math"?UL:null}var If=class extends Hg{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=IT(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return IT(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=xL(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=je(null);try{i=i||this.ngModule;let a=i instanceof Tr?i:i?.injector;a&&this.componentDef.getStandaloneInjector!==null&&(a=this.componentDef.getStandaloneInjector(a)||a);let l=a?new h_(e,a):e,o=l.get(Gu,null);if(o===null)throw new fe(407,!1);let c=l.get(sV,null),u=l.get(Uu,null),h={rendererFactory:o,sanitizer:c,inlineEffectRunner:null,changeDetectionScheduler:u},d=o.createRenderer(null,this.componentDef),f=this.componentDef.selectors[0][0]||"div",p=r?mB(d,r,this.componentDef.encapsulation,l):oM(d,f,oV(f)),m=512;this.componentDef.signals?m|=4096:this.componentDef.onPush||(m|=16);let g=null;p!==null&&(g=Eb(p,l,!0));let v=Mb(0,null,null,1,0,null,null,null,null,null,null),x=dy(null,v,null,m,null,null,h,d,l,null,g);hb(x);let y,_,b=null;try{let w=this.componentDef,E,S=null;w.findHostDirectiveDefs?(E=[],S=new Map,w.findHostDirectiveDefs(w,E,S),E.push(w)):E=[w];let C=aV(x,p);b=lV(C,p,w,E,x,h,d),_=lb(v,Zi),p&&hV(d,w,p,r),t!==void 0&&dV(_,this.ngContentSelectors,t),y=uV(b,w,E,S,x,[fV]),Db(v,x,null)}catch(w){throw b!==null&&__(b),__(x),w}finally{db()}return new D_(this.componentType,y,zu(_,x),x,_)}finally{je(s)}}},D_=class extends T_{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new rc(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let s=this._rootLView;Ib(s[Ie],s,i,e,t),this.previousInputValues.set(e,t);let a=na(this._tNode.index,s);Rb(a,1)}}get injector(){return new Zl(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function aV(n,e){let t=n[Ie],r=Zi;return n[r]=e,fy(t,r,2,"#host",null)}function lV(n,e,t,r,i,s,a){let l=i[Ie];cV(r,n,e,a);let o=null;e!==null&&(o=Eb(e,i[ku]));let c=s.rendererFactory.createRenderer(e,t),u=16;t.signals?u=4096:t.onPush&&(u=64);let h=dy(i,bM(t),null,u,i[n.index],n,s,c,null,null,o);return l.firstCreatePass&&S_(l,n,r.length-1),py(i,h),i[n.index]=h}function cV(n,e,t,r){for(let i of n)e.mergedAttrs=rb(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(I_(e,e.mergedAttrs,!0),t!==null&&fM(r,t,e))}function uV(n,e,t,r,i,s){let a=Si(),l=i[Ie],o=Ji(a,i);EM(l,i,a,t,null,r);for(let u=0;u<t.length;u++){let h=a.directiveStart+u,d=Vu(i,l,h,a);nc(d,i)}SM(l,i,a),o&&nc(o,i);let c=Vu(i,l,a.directiveStart+a.componentOffset,a);if(n[Bn]=i[Bn]=c,s!==null)for(let u of s)u(c,e);return xM(l,a,i),c}function hV(n,e,t,r){if(r)n_(n,t,["ng-version","18.2.7"]);else{let{attrs:i,classes:s}=vL(e.selectors[0]);i&&n_(n,t,i),s&&s.length>0&&dM(n,t,s.join(" "))}}function dV(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let s=t[i];r.push(s!=null?Array.from(s):null)}}function fV(){let n=Si();mb(ct()[Ie],n)}var Zu=(()=>{class n{static{this.__NG_ELEMENT_ID__=pV}}return n})();function pV(){let n=Si();return jM(n,ct())}var mV=Zu,UM=class extends mV{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return zu(this._hostTNode,this._hostLView)}get injector(){return new Zl(this._hostTNode,this._hostLView)}get parentInjector(){let e=gb(this._hostTNode,this._hostLView);if(L1(e)){let t=Vg(e,this._hostLView),r=Bg(e),i=t[Ie].data[r+8];return new Zl(i,t)}else return new Zl(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=DT(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Vn}createEmbeddedView(e,t,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let a=Mf(this._lContainer,e.ssrId),l=e.createEmbeddedViewImpl(t||{},s,a);return this.insertImpl(l,i,Af(this._hostTNode,a)),l}createComponent(e,t,r,i,s){let a=e&&!FL(e),l;if(a)l=t;else{let p=t||{};l=p.index,r=p.injector,i=p.projectableNodes,s=p.environmentInjector||p.ngModuleRef}let o=a?e:new If(Ql(e)),c=r||this.parentInjector;if(!s&&o.ngModule==null){let m=(a?c:this.parentInjector).get(Tr,null);m&&(s=m)}let u=Ql(o.componentType??{}),h=Mf(this._lContainer,u?.id??null),d=h?.firstChild??null,f=o.create(c,i,d,s);return this.insertImpl(f.hostView,l,Af(this._hostTNode,h)),f}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(GL(i)){let l=this.indexOf(e);if(l!==-1)this.detach(l);else{let o=i[Un],c=new UM(o,o[Ki],o[Un]);c.detach(c.indexOf(e))}}let s=this._adjustIndex(t),a=this._lContainer;return gy(a,i,s,r),e.attachToViewContainerRef(),JT(zv(a),s,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=DT(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=Cf(this._lContainer,t);r&&(Og(zv(this._lContainer),t),uy(r[Ie],r))}detach(e){let t=this._adjustIndex(e,-1),r=Cf(this._lContainer,t);return r&&Og(zv(this._lContainer),t)!=null?new rc(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function DT(n){return n[kg]}function zv(n){return n[kg]||(n[kg]=[])}function jM(n,e){let t,r=e[n.index];return lo(r)?t=r:(t=CM(r,e,null,n),e[n.index]=t,py(e,t)),yV(t,e,n,r),new UM(t,n,e)}function gV(n,e){let t=n[jn],r=t.createComment(""),i=Ji(e,n),s=uM(t,i);return Gg(t,s,r,rB(t,i),!1),r}var yV=_V,xV=()=>!1;function vV(n,e,t){return xV(n,e,t)}function _V(n,e,t,r){if(n[Jl])return;let i;t.type&8?i=Ss(r):i=gV(e,t),n[Jl]=i}var R_=class n{constructor(e){this.queryList=e,this.matches=null}clone(){return new n(this.queryList)}setDirty(){this.queryList.setDirty()}},P_=class n{constructor(e=[]){this.queries=e}createEmbeddedView(e){let t=e.queries;if(t!==null){let r=e.contentQueries!==null?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){let a=t.getByIndex(s),l=this.queries[a.indexInDeclarationView];i.push(l.clone())}return new n(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)Ob(e,t).matches!==null&&this.queries[t].setDirty()}},O_=class{constructor(e,t,r=null){this.flags=t,this.read=r,typeof e=="string"?this.predicate=MV(e):this.predicate=e}},N_=class n{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){let i=t!==null?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,t!==null?t.push(s):t=[s])}return t!==null?new n(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},F_=class n{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new n(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let t=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==t;)r=r.parent;return t===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,t,bV(t,s)),this.matchTNodeWithReadOption(e,t,Mg(t,e,s,!1,!1))}else r===Tf?t.type&4&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Mg(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===Ts||i===Zu||i===Tf&&t.type&4)this.addMatch(t.index,-2);else{let s=Mg(t,e,i,!1,!1);s!==null&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){this.matches===null?this.matches=[e,t]:this.matches.push(e,t)}};function bV(n,e){let t=n.localNames;if(t!==null){for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1]}return null}function wV(n,e){return n.type&11?zu(n,e):n.type&4?Pb(n,e):null}function EV(n,e,t,r){return t===-1?wV(e,n):t===-2?SV(n,e,r):Vu(n,n[Ie],t,e)}function SV(n,e,t){if(t===Ts)return zu(e,n);if(t===Tf)return Pb(e,n);if(t===Zu)return jM(e,n)}function GM(n,e,t,r){let i=e[oo].queries[r];if(i.matches===null){let s=n.data,a=t.matches,l=[];for(let o=0;a!==null&&o<a.length;o+=2){let c=a[o];if(c<0)l.push(null);else{let u=s[c];l.push(EV(e,u,a[o+1],t.metadata.read))}}i.matches=l}return i.matches}function k_(n,e,t,r){let i=n.queries.getByIndex(t),s=i.matches;if(s!==null){let a=GM(n,e,i,t);for(let l=0;l<s.length;l+=2){let o=s[l];if(o>0)r.push(a[l/2]);else{let c=s[l+1],u=e[-o];for(let h=Vn;h<u.length;h++){let d=u[h];d[Kl]===d[Un]&&k_(d[Ie],d,c,r)}if(u[Lu]!==null){let h=u[Lu];for(let d=0;d<h.length;d++){let f=h[d];k_(f[Ie],f,c,r)}}}}}return r}function CV(n,e){return n[oo].queries[e].queryList}function AV(n,e,t){let r=new v_((t&4)===4);return xB(n,e,r,r.destroy),(e[oo]??=new P_).queries.push(new R_(r))-1}function TV(n,e,t){let r=es();return r.firstCreatePass&&(IV(r,new O_(n,e,t),-1),(e&2)===2&&(r.staticViewQueries=!0)),AV(r,ct(),e)}function MV(n){return n.split(",").map(e=>e.trim())}function IV(n,e,t){n.queries===null&&(n.queries=new N_),n.queries.track(new F_(e,t))}function Ob(n,e){return n.queries.getByIndex(e)}function DV(n,e){let t=n[Ie],r=Ob(t,e);return r.crossesNgTemplate?k_(t,n,e,[]):GM(t,n,r,e)}var RT=new Set;function Qu(n){RT.has(n)||(RT.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}var Jo=class{},Df=class{};var L_=class extends Jo{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Wg(this);let s=a1(e);this._bootstrapComponents=sM(s.bootstrap),this._r3Injector=X1(e,t,[{provide:Jo,useValue:this},{provide:ju,useValue:this.componentFactoryResolver},...r],ei(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},B_=class extends Df{constructor(e){super(),this.moduleType=e}create(e){return new L_(this.moduleType,e,[])}};var Yg=class extends Jo{constructor(e){super(),this.componentFactoryResolver=new Wg(this),this.instance=null;let t=new bf([...e.providers,{provide:Jo,useValue:this},{provide:ju,useValue:this.componentFactoryResolver}],e.parent||ob(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Nb(n,e,t=null){return new Yg({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function $M(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function RV(n,e,t){return n[e]=t}function Ku(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function PV(n){return(n.flags&32)===32}function OV(n,e,t,r,i,s,a,l,o){let c=e.consts,u=fy(e,n,4,a||null,l||null);wM(e,t,u,Bu(c,o)),mb(e,u);let h=u.tView=Mb(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c,null);return e.queries!==null&&(e.queries.template(e,u),h.queries=e.queries.embeddedTView(u)),u}function V_(n,e,t,r,i,s,a,l,o,c){let u=t+Zi,h=e.firstCreatePass?OV(u,e,n,r,i,s,a,l,o):e.data[u];kf(h,!1);let d=NV(e,n,h,t);fb()&&Ab(e,n,d,h),nc(d,n);let f=CM(d,n,d,h);return n[u]=f,py(n,f),vV(f,h,n),ab(h)&&vM(e,n,h),o!=null&&_M(n,h,c),h}function Fb(n,e,t,r,i,s,a,l){let o=ct(),c=es(),u=Bu(c.consts,s);return V_(o,c,n,e,t,r,i,u,a,l),Fb}var NV=FV;function FV(n,e,t,r){return pb(!0),e[jn].createComment("")}var yf=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(yf||{}),kV=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new n})}}return n})(),PT=class n{constructor(){this.ngZone=te(Vt),this.scheduler=te(Uu),this.errorHandler=te(Cs,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[yf.EarlyRead,yf.Write,yf.MixedReadWrite,yf.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=oe({token:n,providedIn:"root",factory:()=>new n})}};function LV(n,e,t,r){return Ku(n,oy(),t)?e+zT(t)+r:co}function Eg(n,e){return n<<17|e<<2}function ic(n){return n>>17&32767}function BV(n){return(n&2)==2}function VV(n,e){return n&131071|e<<17}function U_(n){return n|2}function $u(n){return(n&131068)>>2}function qv(n,e){return n&-131069|e<<2}function UV(n){return(n&1)===1}function j_(n){return n|1}function jV(n,e,t,r,i,s){let a=s?e.classBindings:e.styleBindings,l=ic(a),o=$u(a);n[r]=t;let c=!1,u;if(Array.isArray(t)){let h=t;u=h[1],(u===null||Of(h,u)>0)&&(c=!0)}else u=t;if(i)if(o!==0){let d=ic(n[l+1]);n[r+1]=Eg(d,l),d!==0&&(n[d+1]=qv(n[d+1],r)),n[l+1]=VV(n[l+1],r)}else n[r+1]=Eg(l,0),l!==0&&(n[l+1]=qv(n[l+1],r)),l=r;else n[r+1]=Eg(o,0),l===0?l=r:n[o+1]=qv(n[o+1],r),o=r;c&&(n[r+1]=U_(n[r+1])),OT(n,u,r,!0),OT(n,u,r,!1),GV(e,u,n,r,s),a=Eg(l,o),s?e.classBindings=a:e.styleBindings=a}function GV(n,e,t,r,i){let s=i?n.residualClasses:n.residualStyles;s!=null&&typeof e=="string"&&Of(s,e)>=0&&(t[r+1]=j_(t[r+1]))}function OT(n,e,t,r){let i=n[t+1],s=e===null,a=r?ic(i):$u(i),l=!1;for(;a!==0&&(l===!1||s);){let o=n[a],c=n[a+1];$V(o,e)&&(l=!0,n[a+1]=r?j_(c):U_(c)),a=r?ic(c):$u(c)}l&&(n[t+1]=r?U_(i):j_(i))}function $V(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Of(n,e)>=0:!1}var on={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function HM(n){return n.substring(on.key,on.keyEnd)}function HV(n){return n.substring(on.value,on.valueEnd)}function WV(n){return XM(n),WM(n,Hu(n,0,on.textEnd))}function WM(n,e){let t=on.textEnd;return t===e?-1:(e=on.keyEnd=XV(n,on.key=e,t),Hu(n,e,t))}function YV(n){return XM(n),YM(n,Hu(n,0,on.textEnd))}function YM(n,e){let t=on.textEnd,r=on.key=Hu(n,e,t);return t===r?-1:(r=on.keyEnd=zV(n,r,t),r=NT(n,r,t,58),r=on.value=Hu(n,r,t),r=on.valueEnd=qV(n,r,t),NT(n,r,t,59))}function XM(n){on.key=0,on.keyEnd=0,on.value=0,on.valueEnd=0,on.textEnd=n.length}function Hu(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function XV(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}function zV(n,e,t){let r;for(;e<t&&((r=n.charCodeAt(e))===45||r===95||(r&-33)>=65&&(r&-33)<=90||r>=48&&r<=57);)e++;return e}function NT(n,e,t,r){return e=Hu(n,e,t),e<t&&e++,e}function qV(n,e,t){let r=-1,i=-1,s=-1,a=e,l=a;for(;a<t;){let o=n.charCodeAt(a++);if(o===59)return l;o===34||o===39?l=a=FT(n,o,a,t):e===a-4&&s===85&&i===82&&r===76&&o===40?l=a=FT(n,41,a,t):o>32&&(l=a),s=i,i=r,r=o&-33}return l}function FT(n,e,t,r){let i=-1,s=t;for(;s<r;){let a=n.charCodeAt(s++);if(a==e&&i!==92)return s;a==92&&i===92?i=0:i=a}throw new Error}function er(n,e,t){let r=ct(),i=oy();if(Ku(r,i,e)){let s=es(),a=l2();wB(s,a,r,n,e,r[jn],t,!1)}return er}function G_(n,e,t,r,i){let s=e.inputs,a=i?"class":"style";Ib(n,t,s[a],a,r)}function Ju(n){zM(ZM,ZV,n,!1)}function ZV(n,e){for(let t=YV(e);t>=0;t=YM(e,t))ZM(n,HM(e),HV(e))}function kb(n){zM(iU,QV,n,!0)}function QV(n,e){for(let t=WV(e);t>=0;t=WM(e,t))ey(n,HM(e),!0)}function zM(n,e,t,r){let i=es(),s=t2(2);i.firstUpdatePass&&KV(i,null,s,r);let a=ct();if(t!==co&&Ku(a,s,t)){let l=i.data[sc()];if(QM(l,r)&&!qM(i,s)){let o=r?l.classesWithoutHost:l.stylesWithoutHost;o!==null&&(t=Kv(o,t||"")),G_(i,l,a,t,r)}else sU(i,l,a,a[jn],a[s+1],a[s+1]=rU(n,e,t),r,s)}}function qM(n,e){return e>=n.expandoStartIndex}function KV(n,e,t,r){let i=n.data;if(i[t+1]===null){let s=i[sc()],a=qM(n,t);QM(s,r)&&e===null&&!a&&(e=!1),e=JV(i,s,e,r),jV(i,s,e,t,a,r)}}function JV(n,e,t,r){let i=s2(n),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Zv(null,n,e,t,r),t=Rf(t,e.attrs,r),s=null);else{let a=e.directiveStylingLast;if(a===-1||n[a]!==i)if(t=Zv(i,n,e,t,r),s===null){let o=eU(n,e,r);o!==void 0&&Array.isArray(o)&&(o=Zv(null,n,e,o[1],r),o=Rf(o,e.attrs,r),tU(n,e,r,o))}else s=nU(n,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),t}function eU(n,e,t){let r=t?e.classBindings:e.styleBindings;if($u(r)!==0)return n[ic(r)]}function tU(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[ic(i)]=r}function nU(n,e,t){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let a=n[s].hostAttrs;r=Rf(r,a,t)}return Rf(r,e.attrs,t)}function Zv(n,e,t,r,i){let s=null,a=t.directiveEnd,l=t.directiveStylingLast;for(l===-1?l=t.directiveStart:l++;l<a&&(s=e[l],r=Rf(r,s.hostAttrs,i),s!==n);)l++;return n!==null&&(t.directiveStylingLast=l),r}function Rf(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];typeof a=="number"?i=a:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),ey(n,a,t?!0:e[++s]))}return n===void 0?null:n}function rU(n,e,t){if(t==null||t==="")return Jr;let r=[],i=cy(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if(typeof i=="object")for(let s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else typeof i=="string"&&e(r,i);return r}function ZM(n,e,t){ey(n,e,cy(t))}function iU(n,e,t){let r=String(e);r!==""&&!r.includes(" ")&&ey(n,r,t)}function sU(n,e,t,r,i,s,a,l){i===co&&(i=Jr);let o=0,c=0,u=0<i.length?i[0]:null,h=0<s.length?s[0]:null;for(;u!==null||h!==null;){let d=o<i.length?i[o+1]:void 0,f=c<s.length?s[c+1]:void 0,p=null,m;u===h?(o+=2,c+=2,d!==f&&(p=h,m=f)):h===null||u!==null&&u<h?(o+=2,p=u):(c+=2,p=h,m=f),p!==null&&oU(n,e,t,r,p,m,a,l),u=o<i.length?i[o]:null,h=c<s.length?s[c]:null}}function oU(n,e,t,r,i,s,a,l){if(!(e.type&3))return;let o=n.data,c=o[l+1],u=UV(c)?kT(o,e,t,i,$u(c),a):void 0;if(!Xg(u)){Xg(s)||BV(c)&&(s=kT(o,null,t,i,l,a));let h=_1(sc(),t);uB(r,a,h,i,s)}}function kT(n,e,t,r,i,s){let a=e===null,l;for(;i>0;){let o=n[i],c=Array.isArray(o),u=c?o[1]:o,h=u===null,d=t[i+1];d===co&&(d=h?Jr:void 0);let f=h?Uv(d,r):u===r?d:void 0;if(c&&!Xg(f)&&(f=Uv(o,r)),Xg(f)&&(l=f,a))return l;let p=n[i+1];i=a?ic(p):$u(p)}if(e!==null){let o=s?e.residualClasses:e.residualStyles;o!=null&&(l=Uv(o,r))}return l}function Xg(n){return n!==void 0}function QM(n,e){return(n.flags&(e?8:16))!==0}var $_=class{destroy(e){}updateValue(e,t){}swap(e,t){let r=Math.min(e,t),i=Math.max(e,t),s=this.detach(i);if(i-r>1){let a=this.detach(r);this.attach(r,s),this.attach(i,a)}else this.attach(r,s)}move(e,t){this.attach(t,this.detach(e))}};function Qv(n,e,t,r,i){return n===t&&Object.is(e,r)?1:Object.is(i(n,e),i(t,r))?-1:0}function aU(n,e,t){let r,i,s=0,a=n.length-1,l=void 0;if(Array.isArray(e)){let o=e.length-1;for(;s<=a&&s<=o;){let c=n.at(s),u=e[s],h=Qv(s,c,s,u,t);if(h!==0){h<0&&n.updateValue(s,u),s++;continue}let d=n.at(a),f=e[o],p=Qv(a,d,o,f,t);if(p!==0){p<0&&n.updateValue(a,f),a--,o--;continue}let m=t(s,c),g=t(a,d),v=t(s,u);if(Object.is(v,g)){let x=t(o,f);Object.is(x,m)?(n.swap(s,a),n.updateValue(a,f),o--,a--):n.move(a,s),n.updateValue(s,u),s++;continue}if(r??=new zg,i??=BT(n,s,a,t),H_(n,r,s,v))n.updateValue(s,u),s++,a++;else if(i.has(v))r.set(m,n.detach(s)),a--;else{let x=n.create(s,e[s]);n.attach(s,x),s++,a++}}for(;s<=o;)LT(n,r,t,s,e[s]),s++}else if(e!=null){let o=e[Symbol.iterator](),c=o.next();for(;!c.done&&s<=a;){let u=n.at(s),h=c.value,d=Qv(s,u,s,h,t);if(d!==0)d<0&&n.updateValue(s,h),s++,c=o.next();else{r??=new zg,i??=BT(n,s,a,t);let f=t(s,h);if(H_(n,r,s,f))n.updateValue(s,h),s++,a++,c=o.next();else if(!i.has(f))n.attach(s,n.create(s,h)),s++,a++,c=o.next();else{let p=t(s,u);r.set(p,n.detach(s)),a--}}}for(;!c.done;)LT(n,r,t,n.length,c.value),c=o.next()}for(;s<=a;)n.destroy(n.detach(a--));r?.forEach(o=>{n.destroy(o)})}function H_(n,e,t,r){return e!==void 0&&e.has(r)?(n.attach(t,e.get(r)),e.delete(r),!0):!1}function LT(n,e,t,r,i){if(H_(n,e,r,t(r,i)))n.updateValue(r,i);else{let s=n.create(r,i);n.attach(r,s)}}function BT(n,e,t,r){let i=new Set;for(let s=e;s<=t;s++)i.add(r(s,n.at(s)));return i}var zg=class{constructor(){this.kvMap=new Map,this._vMap=void 0}has(e){return this.kvMap.has(e)}delete(e){if(!this.has(e))return!1;let t=this.kvMap.get(e);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(e,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(e),!0}get(e){return this.kvMap.get(e)}set(e,t){if(this.kvMap.has(e)){let r=this.kvMap.get(e);this._vMap===void 0&&(this._vMap=new Map);let i=this._vMap;for(;i.has(r);)r=i.get(r);i.set(r,t)}else this.kvMap.set(e,t)}forEach(e){for(let[t,r]of this.kvMap)if(e(r,t),this._vMap!==void 0){let i=this._vMap;for(;i.has(r);)r=i.get(r),e(r,t)}}};function KM(n,e){Qu("NgControlFlow");let t=ct(),r=oy(),i=t[r]!==co?t[r]:-1,s=i!==-1?qg(t,Zi+i):void 0,a=0;if(Ku(t,r,n)){let l=je(null);try{if(s!==void 0&&RM(s,a),n!==-1){let o=Zi+n,c=qg(t,o),u=z_(t[Ie],o),h=Mf(c,u.tView.ssrId),d=my(t,u,e,{dehydratedView:h});gy(c,d,a,Af(u,h))}}finally{je(l)}}else if(s!==void 0){let l=DM(s,a);l!==void 0&&(l[Bn]=e)}}var W_=class{constructor(e,t,r){this.lContainer=e,this.$implicit=t,this.$index=r}get $count(){return this.lContainer.length-Vn}};function Lb(n){return n}var Y_=class{constructor(e,t,r){this.hasEmptyBlock=e,this.trackByFn=t,this.liveCollection=r}};function Bb(n,e,t,r,i,s,a,l,o,c,u,h,d){Qu("NgControlFlow");let f=ct(),p=es(),m=o!==void 0,g=ct(),v=l?a.bind(g[qi][Bn]):a,x=new Y_(m,v);g[Zi+n]=x,V_(f,p,n+1,e,t,r,i,Bu(p.consts,s)),m&&V_(f,p,n+2,o,c,u,h,Bu(p.consts,d))}var X_=class extends $_{constructor(e,t,r){super(),this.lContainer=e,this.hostLView=t,this.templateTNode=r,this.operationsCounter=void 0,this.needsIndexUpdate=!1}get length(){return this.lContainer.length-Vn}at(e){return this.getLView(e)[Bn].$implicit}attach(e,t){let r=t[wf];this.needsIndexUpdate||=e!==this.length,gy(this.lContainer,t,e,Af(this.templateTNode,r))}detach(e){return this.needsIndexUpdate||=e!==this.length-1,lU(this.lContainer,e)}create(e,t){let r=Mf(this.lContainer,this.templateTNode.tView.ssrId),i=my(this.hostLView,this.templateTNode,new W_(this.lContainer,t,e),{dehydratedView:r});return this.operationsCounter?.recordCreate(),i}destroy(e){uy(e[Ie],e),this.operationsCounter?.recordDestroy()}updateValue(e,t){this.getLView(e)[Bn].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let e=0;e<this.length;e++)this.getLView(e)[Bn].$index=e}getLView(e){return cU(this.lContainer,e)}};function Vb(n){let e=je(null),t=sc();try{let r=ct(),i=r[Ie],s=r[t],a=t+1,l=qg(r,a);if(s.liveCollection===void 0){let c=z_(i,a);s.liveCollection=new X_(l,r,c)}else s.liveCollection.reset();let o=s.liveCollection;if(aU(o,n,s.trackByFn),o.updateIndexes(),s.hasEmptyBlock){let c=oy(),u=o.length===0;if(Ku(r,c,u)){let h=t+2,d=qg(r,h);if(u){let f=z_(i,h),p=Mf(d,f.tView.ssrId),m=my(r,f,void 0,{dehydratedView:p});gy(d,m,0,Af(f,p))}else RM(d,0)}}}finally{je(e)}}function qg(n,e){return n[e]}function lU(n,e){return Cf(n,e)}function cU(n,e){return DM(n,e)}function z_(n,e){return lb(n,e)}function uU(n,e,t,r,i,s){let a=e.consts,l=Bu(a,i),o=fy(e,n,2,r,l);return wM(e,t,o,Bu(a,s)),o.attrs!==null&&I_(o,o.attrs,!1),o.mergedAttrs!==null&&I_(o,o.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,o),o}function A(n,e,t,r){let i=ct(),s=es(),a=Zi+n,l=i[jn],o=s.firstCreatePass?uU(a,s,i,e,t,r):s.data[a],c=hU(s,i,o,l,e,n);i[a]=c;let u=ab(o);return kf(o,!0),fM(l,c,o),!PV(o)&&fb()&&Ab(s,i,c,o),WL()===0&&nc(c,i),YL(),u&&(vM(s,i,o),xM(s,o,i)),r!==null&&_M(i,o),A}function T(){let n=Si();T1()?KL():(n=n.parent,kf(n,!1));let e=n;qL(e)&&ZL(),XL();let t=es();return t.firstCreatePass&&(mb(t,n),m1(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&f2(e)&&G_(t,e,ct(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&p2(e)&&G_(t,e,ct(),e.stylesWithoutHost,!1),T}function re(n,e,t,r){return A(n,e,t,r),T(),re}var hU=(n,e,t,r,i,s)=>(pb(!0),oM(r,i,c2()));function aa(){return ct()}var Zg="en-US";var dU=Zg;function fU(n){typeof n=="string"&&(dU=n.toLowerCase().replace(/_/g,"-"))}var pU=(n,e,t)=>{};function bt(n,e,t,r){let i=ct(),s=es(),a=Si();return gU(s,i,i[jn],a,n,e,r),bt}function mU(n,e,t,r){let i=n.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let a=i[s];if(a===t&&i[s+1]===r){let l=e[Fg],o=i[s+2];return l.length>o?l[o]:null}typeof a=="string"&&(s+=2)}return null}function gU(n,e,t,r,i,s,a){let l=ab(r),c=n.firstCreatePass&&MM(n),u=e[Bn],h=TM(e),d=!0;if(r.type&3||a){let m=Ji(r,e),g=a?a(m):m,v=h.length,x=a?_=>a(Ss(_[r.index])):r.index,y=null;if(!a&&l&&(y=mU(n,e,i,r.index)),y!==null){let _=y.__ngLastListenerFn__||y;_.__ngNextListenerFn__=s,y.__ngLastListenerFn__=s,d=!1}else{s=UT(r,e,u,s),pU(m,i,s);let _=t.listen(g,i,s);h.push(s,_),c&&c.push(i,x,v,v+1)}}else s=UT(r,e,u,s);let f=r.outputs,p;if(d&&f!==null&&(p=f[i])){let m=p.length;if(m)for(let g=0;g<m;g+=2){let v=p[g],x=p[g+1],b=e[v][x].subscribe(s),w=h.length;h.push(s,b),c&&c.push(i,r.index,w,-(w+1))}}}function VT(n,e,t,r){let i=je(null);try{return bs(6,e,t),t(r)!==!1}catch(s){return IM(n,s),!1}finally{bs(7,e,t),je(i)}}function UT(n,e,t,r){return function i(s){if(s===Function)return r;let a=n.componentOffset>-1?na(n.index,e):e;Rb(a,5);let l=VT(e,t,r,s),o=i.__ngNextListenerFn__;for(;o;)l=VT(e,t,o,s)&&l,o=o.__ngNextListenerFn__;return l}}function Ms(n=1){return a2(n)}function JM(n,e,t){TV(n,e,t)}function Ub(n){let e=ct(),t=es(),r=I1();ub(r+1);let i=Ob(t,r);if(n.dirty&&jL(e)===((i.metadata.flags&2)===2)){if(i.matches===null)n.reset([]);else{let s=DV(e,r);n.reset(s,F2),n.notifyOnChanges()}return!0}return!1}function jb(){return CV(ct(),I1())}function M(n,e=""){let t=ct(),r=es(),i=n+Zi,s=r.firstCreatePass?fy(r,i,1,e,null):r.data[i],a=yU(r,t,s,e,n);t[i]=a,fb()&&Ab(r,t,a,s),kf(s,!1)}var yU=(n,e,t,r,i)=>(pb(!0),X2(e[jn],r));function Lf(n){return eh("",n,""),Lf}function eh(n,e,t){let r=ct(),i=LV(r,n,e,t);return i!==co&&kB(r,sc(),i),eh}var xU=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=u1(!1,t.type),i=r.length>0?Nb([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=oe({token:n,providedIn:"environment",factory:()=>new n(he(Tr))})}}return n})();function xn(n){Qu("NgStandalone"),n.getStandaloneInjector=e=>e.get(xU).getOrCreateStandaloneInjector(n)}function Mr(n,e,t,r){return _U(ct(),JL(),n,e,t,r)}function vU(n,e){let t=n[e];return t===co?void 0:t}function _U(n,e,t,r,i,s){let a=e+t;return Ku(n,a,i)?RV(n,a+1,s?r.call(s,i):r(i)):vU(n,a+1)}var xy=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var eI=new xe("");function th(n){return!!n&&typeof n.then=="function"}function tI(n){return!!n&&typeof n.subscribe=="function"}var nI=new xe(""),rI=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=te(nI,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let s=i();if(th(s))t.push(s);else if(tI(s)){let a=new Promise((l,o)=>{s.subscribe({complete:l,error:o})});t.push(a)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),vy=new xe("");function bU(){TA(()=>{throw new fe(600,!1)})}function wU(n){return n.isBoundToModule}var EU=10;function SU(n,e,t){try{let r=t();return th(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var la=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=te(O2),this.afterRenderManager=te(kV),this.zonelessEnabled=te(yy),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new pn,this.afterTick=new pn,this.componentTypes=[],this.components=[],this.isStable=te(sa).hasPendingTasks.pipe(Pe(t=>!t)),this._injector=te(Tr)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof Hg;if(!this._injector.get(rI).done){let d=!i&&o1(t),f=!1;throw new fe(405,f)}let a;i?a=t:a=this._injector.get(ju).resolveComponentFactory(t),this.componentTypes.push(a.componentType);let l=wU(a)?void 0:this._injector.get(Jo),o=r||a.selector,c=a.create(Ko.NULL,[],o,l),u=c.location.nativeElement,h=c.injector.get(eI,null);return h?.registerApplication(u),c.onDestroy(()=>{this.detachView(c.hostView),Ig(this.components,c),h?.unregisterApplication(u)}),this._loadComponent(c),c}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new fe(101,!1);let t=je(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,je(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Gu,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<EU;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)CU(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>iy(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ig(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(vy,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ig(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new fe(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ig(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function CU(n,e,t,r){if(!t&&!iy(n))return;NM(n,e,t&&!r?0:1)}var q_=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},Gb=(()=>{class n{compileModuleSync(t){return new B_(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=a1(t),s=sM(i.declarations).reduce((a,l)=>{let o=Ql(l);return o&&a.push(new If(o)),a},[]);return new q_(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var AU=(()=>{class n{constructor(){this.zone=te(Vt),this.changeDetectionScheduler=te(Uu),this.applicationRef=te(la)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),TU=new xe("",{factory:()=>!1});function iI({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Vt(ve(W({},oI()),{scheduleInRootZone:t})),[{provide:Vt,useFactory:n},{provide:Fu,multi:!0,useFactory:()=>{let r=te(AU,{optional:!0});return()=>r.initialize()}},{provide:Fu,multi:!0,useFactory:()=>{let r=te(MU);return()=>{r.initialize()}}},e===!0?{provide:BM,useValue:!0}:[],{provide:VM,useValue:t??z1}]}function sI(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=iI({ngZoneFactory:()=>{let i=oI(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Qu("NgZone_CoalesceEvent"),new Vt(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Yu([{provide:TU,useValue:!0},{provide:yy,useValue:!1},r])}function oI(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var MU=(()=>{class n{constructor(){this.subscription=new Bt,this.initialized=!1,this.zone=te(Vt),this.pendingTasks=te(sa)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Vt.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Vt.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var IU=(()=>{class n{constructor(){this.appRef=te(la),this.taskService=te(sa),this.ngZone=te(Vt),this.zonelessEnabled=te(yy),this.disableScheduling=te(BM,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Bt,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(jg):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(te(VM,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof y_||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?bT:q1;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(jg+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bT(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function DU(){return typeof $localize<"u"&&$localize.locale||Zg}var $b=new xe("",{providedIn:"root",factory:()=>te($b,Fe.Optional|Fe.SkipSelf)||DU()});var aI=new xe("");function Sg(n){return!!n.platformInjector}function RU(n){let e=Sg(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Vt);return t.run(()=>{Sg(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Cs,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:s=>{r.handleError(s)}})}),Sg(n)){let s=()=>e.destroy(),a=n.platformInjector.get(aI);a.add(s),e.onDestroy(()=>{i.unsubscribe(),a.delete(s)})}else n.moduleRef.onDestroy(()=>{Ig(n.allPlatformModules,n.moduleRef),i.unsubscribe()});return SU(r,t,()=>{let s=e.get(rI);return s.runInitializers(),s.donePromise.then(()=>{let a=e.get($b,Zg);if(fU(a||Zg),Sg(n)){let l=e.get(la);return n.rootComponent!==void 0&&l.bootstrap(n.rootComponent),l}else return PU(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function PU(n,e){let t=n.injector.get(la);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new fe(-403,!1);e.push(n)}var Dg=null;function OU(n=[],e){return Ko.create({name:e,providers:[{provide:ty,useValue:"platform"},{provide:aI,useValue:new Set([()=>Dg=null])},...n]})}function NU(n=[]){if(Dg)return Dg;let e=OU(n);return Dg=e,bU(),FU(e),e}function FU(n){n.get(bb,null)?.forEach(t=>t())}var nh=(()=>{class n{static{this.__NG_ELEMENT_ID__=kU}}return n})();function kU(n){return LU(Si(),ct(),(n&16)===16)}function LU(n,e,t){if(ry(n)&&!t){let r=na(n.index,e);return new rc(r,r)}else if(n.type&175){let r=e[qi];return new rc(r,e)}return null}var Z_=class{constructor(){}supports(e){return e instanceof Map||$M(e)}create(){return new Q_}},Q_=class{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let t;for(t=this._mapHead;t!==null;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;t!==null;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;t!==null;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||$M(e)))throw new fe(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{let s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){let r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,t);let s=i._prev,a=i._next;return s&&(s._next=a),a&&(a._prev=s),i._next=null,i._prev=null,i}let r=new K_(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}},K_=class{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}};function jT(){return new Hb([new Z_])}var Hb=(()=>{class n{static{this.\u0275prov=oe({token:n,providedIn:"root",factory:jT})}constructor(t){this.factories=t}static create(t,r){if(r){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||jT()),deps:[[n,new KT,new tb]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r)return r;throw new fe(901,!1)}}return n})();function lI(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=NU(r),s=[iI({}),{provide:Uu,useExisting:IU},...t||[]],a=new Yg({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return RU({r3Injector:a.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var fI=null;function rh(){return fI}function pI(n){fI??=n}var _y=class{};var Ir=new xe(""),mI=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>te(GU),providedIn:"platform"})}}return n})();var GU=(()=>{class n extends mI{constructor(){super(),this._doc=te(Ir),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rh().getBaseHref(this._doc)}onPopState(t){let r=rh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=rh().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function gI(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function cI(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function oc(n){return n&&n[0]!=="?"?"?"+n:n}var by=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>te(yI),providedIn:"root"})}}return n})(),$U=new xe(""),yI=(()=>{class n extends by{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??te(Ir).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return gI(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+oc(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){let a=this.prepareExternalUrl(i+oc(s));this._platformLocation.pushState(t,r,a)}replaceState(t,r,i,s){let a=this.prepareExternalUrl(i+oc(s));this._platformLocation.replaceState(t,r,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(he(mI),he($U,8))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Bf=(()=>{class n{constructor(t){this._subject=new an,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=YU(cI(uI(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+oc(r))}normalize(t){return n.stripTrailingSlash(WU(this._basePath,uI(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+oc(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=oc}static{this.joinWithSlash=gI}static{this.stripTrailingSlash=cI}static{this.\u0275fac=function(r){return new(r||n)(he(by))}}static{this.\u0275prov=oe({token:n,factory:()=>HU(),providedIn:"root"})}}return n})();function HU(){return new Bf(he(by))}function WU(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function uI(n){return n.replace(/\/index.html$/,"")}function YU(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function wy(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,s]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Wb=/\s+/,hI=[],Ey=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=hI,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Wb):hI}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Wb):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Wb).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(yn(Ts),yn(qu))}}static{this.\u0275dir=Wu({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var xI=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){let t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){let[i,s]=t.split("."),a=i.indexOf("-")===-1?void 0:As.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,a):this._renderer.removeStyle(this._ngEl.nativeElement,i,a)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(yn(Ts),yn(Hb),yn(qu))}}static{this.\u0275dir=Wu({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})();var Dn=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ta({type:n})}static{this.\u0275inj=ea({})}}return n})(),vI="browser",XU="server";function Sy(n){return n===XU}var ih=class{};var Uf=class{},Ay=class{},ti=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),a=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(a):this.headers.set(s,[a])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(l=>s.indexOf(l)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var qb=class{encodeKey(e){return _I(e)}encodeValue(e){return _I(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function zU(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[a,l]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],o=t.get(a)||[];o.push(l),t.set(a,o)}),t}var qU=/%(\d[a-f0-9])/gi,ZU={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function _I(n){return encodeURIComponent(n).replace(qU,(e,t)=>ZU[t]??e)}function Cy(n){return`${n}`}var ua=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qb,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=zU(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(Cy):[Cy(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(Cy(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(Cy(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var Zb=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function QU(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function bI(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function wI(n){return typeof Blob<"u"&&n instanceof Blob}function EI(n){return typeof FormData<"u"&&n instanceof FormData}function KU(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Vf=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(QU(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new ti,this.context??=new Zb,!this.params)this.params=new ua,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),o=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+o+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||bI(this.body)||wI(this.body)||EI(this.body)||KU(this.body)?this.body:this.body instanceof ua?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||EI(this.body)?null:wI(this.body)?this.body.type||null:bI(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof ua?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,a=e.body!==void 0?e.body:this.body,l=e.withCredentials??this.withCredentials,o=e.reportProgress??this.reportProgress,c=e.headers||this.headers,u=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),u)),new n(t,r,a,{params:u,headers:c,context:h,reportProgress:o,responseType:i,withCredentials:l,transferCache:s})}},ha=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(ha||{}),jf=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new ti,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ty=class n extends jf{constructor(e={}){super(e),this.type=ha.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Gf=class n extends jf{constructor(e={}){super(e),this.type=ha.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ca=class extends jf{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},TI=200,JU=204;function zb(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var uo=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Vf)s=t;else{let o;i.headers instanceof ti?o=i.headers:o=new ti(i.headers);let c;i.params&&(i.params instanceof ua?c=i.params:c=new ua({fromObject:i.params})),s=new Vf(t,r,i.body!==void 0?i.body:null,{headers:o,context:i.context,params:c,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let a=Te(s).pipe(Yo(o=>this.handler.handle(o)));if(t instanceof Vf||i.observe==="events")return a;let l=a.pipe(Qr(o=>o instanceof Gf));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return l.pipe(Pe(o=>{if(o.body!==null&&!(o.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return o.body}));case"blob":return l.pipe(Pe(o=>{if(o.body!==null&&!(o.body instanceof Blob))throw new Error("Response is not a Blob.");return o.body}));case"text":return l.pipe(Pe(o=>{if(o.body!==null&&typeof o.body!="string")throw new Error("Response is not a string.");return o.body}));case"json":default:return l.pipe(Pe(o=>o.body))}case"response":return l;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new ua().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,zb(i,r))}post(t,r,i={}){return this.request("POST",t,zb(i,r))}put(t,r,i={}){return this.request("PUT",t,zb(i,r))}static{this.\u0275fac=function(r){return new(r||n)(he(Uf))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),e3=/^\)\]\}',?\n/,t3="X-Request-URL";function SI(n){if(n.url)return n.url;let e=t3.toLocaleLowerCase();return n.headers.get(e)}var n3=(()=>{class n{constructor(){this.fetchImpl=te(Qb,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=te(Vt)}handle(t){return new Qe(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(Kb,s=>r.error(new ca({error:s}))),()=>i.abort()})}doRequest(t,r,i){return B(this,null,function*(){let s=this.createRequestInit(t),a;try{let f=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,W({signal:r},s)));r3(f),i.next({type:ha.Sent}),a=yield f}catch(f){i.error(new ca({error:f,status:f.status??0,statusText:f.statusText,url:t.urlWithParams,headers:f.headers}));return}let l=new ti(a.headers),o=a.statusText,c=SI(a)??t.urlWithParams,u=a.status,h=null;if(t.reportProgress&&i.next(new Ty({headers:l,status:u,statusText:o,url:c})),a.body){let f=a.headers.get("content-length"),p=[],m=a.body.getReader(),g=0,v,x,y=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>B(this,null,function*(){for(;;){let{done:b,value:w}=yield m.read();if(b)break;if(p.push(w),g+=w.length,t.reportProgress){x=t.responseType==="text"?(x??"")+(v??=new TextDecoder).decode(w,{stream:!0}):void 0;let E=()=>i.next({type:ha.DownloadProgress,total:f?+f:void 0,loaded:g,partialText:x});y?y.run(E):E()}}}));let _=this.concatChunks(p,g);try{let b=a.headers.get("Content-Type")??"";h=this.parseBody(t,_,b)}catch(b){i.error(new ca({error:b,headers:new ti(a.headers),status:a.status,statusText:a.statusText,url:SI(a)??t.urlWithParams}));return}}u===0&&(u=h?TI:0),u>=200&&u<300?(i.next(new Gf({body:h,headers:l,status:u,statusText:o,url:c})),i.complete()):i.error(new ca({error:h,headers:l,status:u,statusText:o,url:c}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(e3,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,a)=>r[s]=a.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let a of t)i.set(a,s),s+=a.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),Qb=class{};function Kb(){}function r3(n){n.then(Kb,Kb)}function i3(n,e){return e(n)}function s3(n,e,t){return(r,i)=>Qi(t,()=>e(r,s=>n(s,i)))}var MI=new xe(""),o3=new xe(""),a3=new xe("",{providedIn:"root",factory:()=>!0});var CI=(()=>{class n extends Uf{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=te(sa),this.contributeToStability=te(a3)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(MI),...this.injector.get(o3,[])]));this.chain=r.reduceRight((i,s)=>s3(i,s,this.injector),i3)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(ql(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(he(Ay),he(Tr))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();var l3=/^\)\]\}',?\n/;function c3(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var AI=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new fe(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?zt(r.\u0275loadImpl()):Te(null)).pipe(Kr(()=>new Qe(s=>{let a=r.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((m,g)=>a.setRequestHeader(m,g.join(","))),t.headers.has("Accept")||a.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let m=t.detectContentTypeHeader();m!==null&&a.setRequestHeader("Content-Type",m)}if(t.responseType){let m=t.responseType.toLowerCase();a.responseType=m!=="json"?m:"text"}let l=t.serializeBody(),o=null,c=()=>{if(o!==null)return o;let m=a.statusText||"OK",g=new ti(a.getAllResponseHeaders()),v=c3(a)||t.url;return o=new Ty({headers:g,status:a.status,statusText:m,url:v}),o},u=()=>{let{headers:m,status:g,statusText:v,url:x}=c(),y=null;g!==JU&&(y=typeof a.response>"u"?a.responseText:a.response),g===0&&(g=y?TI:0);let _=g>=200&&g<300;if(t.responseType==="json"&&typeof y=="string"){let b=y;y=y.replace(l3,"");try{y=y!==""?JSON.parse(y):null}catch(w){y=b,_&&(_=!1,y={error:w,text:y})}}_?(s.next(new Gf({body:y,headers:m,status:g,statusText:v,url:x||void 0})),s.complete()):s.error(new ca({error:y,headers:m,status:g,statusText:v,url:x||void 0}))},h=m=>{let{url:g}=c(),v=new ca({error:m,status:a.status||0,statusText:a.statusText||"Unknown Error",url:g||void 0});s.error(v)},d=!1,f=m=>{d||(s.next(c()),d=!0);let g={type:ha.DownloadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),t.responseType==="text"&&a.responseText&&(g.partialText=a.responseText),s.next(g)},p=m=>{let g={type:ha.UploadProgress,loaded:m.loaded};m.lengthComputable&&(g.total=m.total),s.next(g)};return a.addEventListener("load",u),a.addEventListener("error",h),a.addEventListener("timeout",h),a.addEventListener("abort",h),t.reportProgress&&(a.addEventListener("progress",f),l!==null&&a.upload&&a.upload.addEventListener("progress",p)),a.send(l),s.next({type:ha.Sent}),()=>{a.removeEventListener("error",h),a.removeEventListener("abort",h),a.removeEventListener("load",u),a.removeEventListener("timeout",h),t.reportProgress&&(a.removeEventListener("progress",f),l!==null&&a.upload&&a.upload.removeEventListener("progress",p)),a.readyState!==a.DONE&&a.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(he(ih))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),II=new xe(""),u3="XSRF-TOKEN",h3=new xe("",{providedIn:"root",factory:()=>u3}),d3="X-XSRF-TOKEN",f3=new xe("",{providedIn:"root",factory:()=>d3}),My=class{},p3=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=wy(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(he(Ir),he(oa),he(h3))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();function m3(n,e){let t=n.url.toLowerCase();if(!te(II)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=te(My).getToken(),i=te(f3);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function DI(...n){let e=[uo,AI,CI,{provide:Uf,useExisting:CI},{provide:Ay,useFactory:()=>te(n3,{optional:!0})??te(AI)},{provide:MI,useValue:m3,multi:!0},{provide:II,useValue:!0},{provide:My,useClass:p3}];for(let t of n)e.push(...t.\u0275providers);return Yu(e)}var tw=class extends _y{constructor(){super(...arguments),this.supportsDOMEvents=!0}},nw=class n extends tw{static makeCurrent(){pI(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=g3();return t==null?null:y3(t)}resetBaseElement(){$f=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wy(document.cookie,e)}},$f=null;function g3(){return $f=$f||document.querySelector("base"),$f?$f.getAttribute("href"):null}function y3(n){return new URL(n,document.baseURI).pathname}var x3=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),rw=new xe(""),NI=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new fe(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(he(rw),he(Vt))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),Dy=class{constructor(e){this._doc=e}},Jb="ng-app-id",FI=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Sy(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Jb}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(Jb),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=r,this.platformIsServer&&a.setAttribute(Jb,this.appId),t.appendChild(a),a}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,a=s.get(r)?.elements;a?a.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(he(Ir),he(_b),he(wb,8),he(oa))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),ew={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},sw=/%COMP%/g,kI="%COMP%",v3=`_nghost-${kI}`,_3=`_ngcontent-${kI}`,b3=!0,w3=new xe("",{providedIn:"root",factory:()=>b3});function E3(n){return _3.replace(sw,n)}function S3(n){return v3.replace(sw,n)}function LI(n,e){return e.map(t=>t.replace(sw,n))}var RI=(()=>{class n{constructor(t,r,i,s,a,l,o,c=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=l,this.ngZone=o,this.nonce=c,this.rendererByCompId=new Map,this.platformIsServer=Sy(l),this.defaultRenderer=new Hf(t,a,o,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Es.ShadowDom&&(r=ve(W({},r),{encapsulation:Es.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Ry?i.applyToHost(t):i instanceof Wf&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let a=this.doc,l=this.ngZone,o=this.eventManager,c=this.sharedStylesHost,u=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Es.Emulated:s=new Ry(o,c,r,this.appId,u,a,l,h);break;case Es.ShadowDom:return new iw(o,c,t,r,a,l,this.nonce,h);default:s=new Wf(o,c,r,u,a,l,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(he(NI),he(FI),he(_b),he(w3),he(Ir),he(oa),he(Vt),he(wb))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),Hf=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ew[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(PI(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(PI(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new fe(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=ew[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ew[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(As.DashCase|As.Important)?e.style.setProperty(t,r,i&As.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&As.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=rh().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function PI(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var iw=class extends Hf{constructor(e,t,r,i,s,a,l,o){super(e,s,a,o),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=LI(i.id,i.styles);for(let u of c){let h=document.createElement("style");l&&h.setAttribute("nonce",l),h.textContent=u,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Wf=class extends Hf{constructor(e,t,r,i,s,a,l,o){super(e,s,a,l),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=o?LI(o,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Ry=class extends Wf{constructor(e,t,r,i,s,a,l,o){let c=i+"-"+r.id;super(e,t,r,s,a,l,o,c),this.contentAttr=E3(c),this.hostAttr=S3(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},C3=(()=>{class n extends Dy{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(he(Ir))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})(),OI=["alt","control","meta","shift"],A3={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},T3={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},M3=(()=>{class n extends Dy{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),a=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rh().onAndCancel(t,s.domEventName,a))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),a="",l=r.indexOf("code");if(l>-1&&(r.splice(l,1),a="code."),OI.forEach(c=>{let u=r.indexOf(c);u>-1&&(r.splice(u,1),a+=c+".")}),a+=s,r.length!=0||s.length===0)return null;let o={};return o.domEventName=i,o.fullKey=a,o}static matchEventFullKeyCode(t,r){let i=A3[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),OI.forEach(a=>{if(a!==i){let l=T3[a];l(t)&&(s+=a+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(he(Ir))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac})}}return n})();function BI(n,e){return lI(W({rootComponent:n},I3(e)))}function I3(n){return{appProviders:[...N3,...n?.providers??[]],platformProviders:O3}}function D3(){nw.makeCurrent()}function R3(){return new Cs}function P3(){return nM(document),document}var O3=[{provide:oa,useValue:vI},{provide:bb,useValue:D3,multi:!0},{provide:Ir,useFactory:P3,deps:[]}];var N3=[{provide:ty,useValue:"root"},{provide:Cs,useFactory:R3,deps:[]},{provide:rw,useClass:C3,multi:!0,deps:[Ir,Vt,oa]},{provide:rw,useClass:M3,multi:!0,deps:[Ir]},RI,FI,NI,{provide:Gu,useExisting:RI},{provide:ih,useClass:x3,deps:[]},[]];var VI=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(he(Ir))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var Re="primary",lp=Symbol("RouteTitle"),uw=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function uh(n){return new uw(n)}function L3(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let a=r[s],l=n[s];if(a[0]===":")i[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function B3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Is(n[t],e[t]))return!1;return!0}function Is(n,e){let t=n?hw(n):void 0,r=e?hw(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!XI(n[i],e[i]))return!1;return!0}function hw(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function XI(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function zI(n){return n.length>0?n[n.length-1]:null}function fa(n){return Rv(n)?n:th(n)?zt(Promise.resolve(n)):Te(n)}var V3={exact:ZI,subset:QI},qI={exact:U3,subset:j3,ignored:()=>!0};function UI(n,e,t){return V3[t.paths](n.root,e.root,t.matrixParams)&&qI[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function U3(n,e){return Is(n,e)}function ZI(n,e,t){if(!lc(n.segments,e.segments)||!Ny(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!ZI(n.children[r],e.children[r],t))return!1;return!0}function j3(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>XI(n[t],e[t]))}function QI(n,e,t){return KI(n,e,e.segments,t)}function KI(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!lc(i,t)||e.hasChildren()||!Ny(i,t,r))}else if(n.segments.length===t.length){if(!lc(n.segments,t)||!Ny(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!QI(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!lc(n.segments,i)||!Ny(n.segments,i,r)||!n.children[Re]?!1:KI(n.children[Re],e,s,r)}}function Ny(n,e,t){return e.every((r,i)=>qI[t](n[i].parameters,r.parameters))}var fo=class{constructor(e=new it([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=uh(this.queryParams),this._queryParamMap}toString(){return H3.serialize(this)}},it=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fy(this)}},ac=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=uh(this.parameters),this._parameterMap}toString(){return eD(this)}};function G3(n,e){return lc(n,e)&&n.every((t,r)=>Is(t.parameters,e[r].parameters))}function lc(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function $3(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===Re&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==Re&&(t=t.concat(e(i,r)))}),t}var Lw=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>new Kf,providedIn:"root"})}}return n})(),Kf=class{parse(e){let t=new fw(e);return new fo(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Yf(e.root,!0)}`,r=X3(e.queryParams),i=typeof e.fragment=="string"?`#${W3(e.fragment)}`:"";return`${t}${r}${i}`}},H3=new Kf;function Fy(n){return n.segments.map(e=>eD(e)).join("/")}function Yf(n,e){if(!n.hasChildren())return Fy(n);if(e){let t=n.children[Re]?Yf(n.children[Re],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==Re&&r.push(`${i}:${Yf(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=$3(n,(r,i)=>i===Re?[Yf(n.children[Re],!1)]:[`${i}:${Yf(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[Re]!=null?`${Fy(n)}/${t[0]}`:`${Fy(n)}/(${t.join("//")})`}}function JI(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Py(n){return JI(n).replace(/%3B/gi,";")}function W3(n){return encodeURI(n)}function dw(n){return JI(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ky(n){return decodeURIComponent(n)}function jI(n){return ky(n.replace(/\+/g,"%20"))}function eD(n){return`${dw(n.path)}${Y3(n.parameters)}`}function Y3(n){return Object.entries(n).map(([e,t])=>`;${dw(e)}=${dw(t)}`).join("")}function X3(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${Py(t)}=${Py(i)}`).join("&"):`${Py(t)}=${Py(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var z3=/^[^\/()?;#]+/;function ow(n){let e=n.match(z3);return e?e[0]:""}var q3=/^[^\/()?;=#]+/;function Z3(n){let e=n.match(q3);return e?e[0]:""}var Q3=/^[^=?&#]+/;function K3(n){let e=n.match(Q3);return e?e[0]:""}var J3=/^[^&#]+/;function ej(n){let e=n.match(J3);return e?e[0]:""}var fw=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new it([],{}):new it([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[Re]=new it(e,t)),r}parseSegment(){let e=ow(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new fe(4009,!1);return this.capture(e),new ac(ky(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Z3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=ow(this.remaining);i&&(r=i,this.capture(r))}e[ky(t)]=ky(r)}parseQueryParam(e){let t=K3(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let a=ej(this.remaining);a&&(r=a,this.capture(r))}let i=jI(t),s=jI(r);if(e.hasOwnProperty(i)){let a=e[i];Array.isArray(a)||(a=[a],e[i]=a),a.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=ow(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new fe(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Re);let a=this.parseChildren();t[s]=Object.keys(a).length===1?a[Re]:new it([],a),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new fe(4011,!1)}};function tD(n){return n.segments.length>0?new it([],{[Re]:n}):n}function nD(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=nD(i);if(r===Re&&s.segments.length===0&&s.hasChildren())for(let[a,l]of Object.entries(s.children))e[a]=l;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new it(n.segments,e);return tj(t)}function tj(n){if(n.numberOfChildren===1&&n.children[Re]){let e=n.children[Re];return new it(n.segments.concat(e.segments),e.children)}return n}function Jf(n){return n instanceof fo}function nj(n,e,t=null,r=null){let i=rD(n);return iD(i,e,t,r)}function rD(n){let e;function t(s){let a={};for(let o of s.children){let c=t(o);a[o.outlet]=c}let l=new it(s.url,a);return s===n&&(e=l),l}let r=t(n.root),i=tD(r);return e??i}function iD(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return aw(i,i,i,t,r);let s=rj(e);if(s.toRoot())return aw(i,i,new it([],{}),t,r);let a=ij(s,i,n),l=a.processChildren?qf(a.segmentGroup,a.index,s.commands):oD(a.segmentGroup,a.index,s.commands);return aw(i,a.segmentGroup,l,t,r)}function Ly(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function ep(n){return typeof n=="object"&&n!=null&&n.outlets}function aw(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([o,c])=>{s[o]=Array.isArray(c)?c.map(u=>`${u}`):`${c}`});let a;n===e?a=t:a=sD(n,e,t);let l=tD(nD(a));return new fo(l,s,i)}function sD(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=sD(s,e,t)}),new it(n.segments,r)}var By=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ly(r[0]))throw new fe(4003,!1);let i=r.find(ep);if(i&&i!==zI(r))throw new fe(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function rj(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new By(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,a)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let l={};return Object.entries(s.outlets).forEach(([o,c])=>{l[o]=typeof c=="string"?c.split("/"):c}),[...i,{outlets:l}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:a===0?(s.split("/").forEach((l,o)=>{o==0&&l==="."||(o==0&&l===""?t=!0:l===".."?e++:l!=""&&i.push(l))}),i):[...i,s]},[]);return new By(t,e,r)}var ah=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ij(n,e,t){if(n.isAbsolute)return new ah(e,!0,0);if(!t)return new ah(e,!1,NaN);if(t.parent===null)return new ah(t,!0,0);let r=Ly(n.commands[0])?0:1,i=t.segments.length-1+r;return sj(t,i,n.numberOfDoubleDots)}function sj(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new fe(4005,!1);i=r.segments.length}return new ah(r,!1,i-s)}function oj(n){return ep(n[0])?n[0].outlets:{[Re]:n}}function oD(n,e,t){if(n??=new it([],{}),n.segments.length===0&&n.hasChildren())return qf(n,e,t);let r=aj(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new it(n.segments.slice(0,r.pathIndex),{});return s.children[Re]=new it(n.segments.slice(r.pathIndex),n.children),qf(s,0,i)}else return r.match&&i.length===0?new it(n.segments,{}):r.match&&!n.hasChildren()?pw(n,e,t):r.match?qf(n,0,i):pw(n,e,t)}function qf(n,e,t){if(t.length===0)return new it(n.segments,{});{let r=oj(t),i={};if(Object.keys(r).some(s=>s!==Re)&&n.children[Re]&&n.numberOfChildren===1&&n.children[Re].segments.length===0){let s=qf(n.children[Re],e,t);return new it(n.segments,s.children)}return Object.entries(r).forEach(([s,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(i[s]=oD(n.children[s],e,a))}),Object.entries(n.children).forEach(([s,a])=>{r[s]===void 0&&(i[s]=a)}),new it(n.segments,i)}}function aj(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let a=n.segments[i],l=t[r];if(ep(l))break;let o=`${l}`,c=r<t.length-1?t[r+1]:null;if(i>0&&o===void 0)break;if(o&&c&&typeof c=="object"&&c.outlets===void 0){if(!$I(o,c,a))return s;r+=2}else{if(!$I(o,{},a))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function pw(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(ep(s)){let o=lj(s.outlets);return new it(r,o)}if(i===0&&Ly(t[0])){let o=n.segments[e];r.push(new ac(o.path,GI(t[0]))),i++;continue}let a=ep(s)?s.outlets[Re]:`${s}`,l=i<t.length-1?t[i+1]:null;a&&l&&Ly(l)?(r.push(new ac(a,GI(l))),i+=2):(r.push(new ac(a,{})),i++)}return new it(r,{})}function lj(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=pw(new it([],{}),0,r))}),e}function GI(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function $I(n,e,t){return n==t.path&&Is(e,t.parameters)}var Zf="imperative",Rn=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(Rn||{}),Ci=class{constructor(e,t){this.id=e,this.url=t}},tp=class extends Ci{constructor(e,t,r="imperative",i=null){super(e,t),this.type=Rn.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},cc=class extends Ci{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=Rn.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ri=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(ri||{}),mw=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(mw||{}),ho=class extends Ci{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Rn.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},uc=class extends Ci{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=Rn.NavigationSkipped}},np=class extends Ci{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=Rn.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Vy=class extends Ci{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Rn.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gw=class extends Ci{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Rn.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yw=class extends Ci{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=Rn.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},xw=class extends Ci{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Rn.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vw=class extends Ci{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=Rn.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_w=class{constructor(e){this.route=e,this.type=Rn.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bw=class{constructor(e){this.route=e,this.type=Rn.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ww=class{constructor(e){this.snapshot=e,this.type=Rn.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ew=class{constructor(e){this.snapshot=e,this.type=Rn.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sw=class{constructor(e){this.snapshot=e,this.type=Rn.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cw=class{constructor(e){this.snapshot=e,this.type=Rn.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var rp=class{},hh=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function cj(n,e){return n.providers&&!n._injector&&(n._injector=Nb(n.providers,e,`Route: ${n.path}`)),n._injector??e}function ts(n){return n.outlet||Re}function uj(n,e){let t=n.filter(r=>ts(r)===e);return t.push(...n.filter(r=>ts(r)!==e)),t}function cp(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Aw=class{get injector(){return cp(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Yy(this.rootInjector),this.attachRef=null}},Yy=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Aw(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(he(Tr))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Uy=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Tw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Tw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Mw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Mw(e,this._root).map(t=>t.value)}};function Tw(n,e){if(n===e.value)return e;for(let t of e.children){let r=Tw(n,t);if(r)return r}return null}function Mw(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Mw(n,t);if(r.length)return r.unshift(e),r}return[]}var ni=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function oh(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var jy=class extends Uy{constructor(e,t){super(e),this.snapshot=t,Bw(this,e)}toString(){return this.snapshot.toString()}};function aD(n){let e=hj(n),t=new Mn([new ac("",{})]),r=new Mn({}),i=new Mn({}),s=new Mn({}),a=new Mn(""),l=new da(t,r,s,a,i,Re,n,e.root);return l.snapshot=e.root,new jy(new ni(l,[]),e)}function hj(n){let e={},t={},r={},i="",s=new lh([],e,r,i,t,Re,n,null,{});return new $y("",new ni(s,[]))}var da=class{constructor(e,t,r,i,s,a,l,o){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=a,this.component=l,this._futureSnapshot=o,this.title=this.dataSubject?.pipe(Pe(c=>c[lp]))??Te(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Pe(e=>uh(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Pe(e=>uh(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Gy(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:W(W({},e.params),n.params),data:W(W({},e.data),n.data),resolve:W(W(W(W({},n.data),e.data),i?.data),n._resolvedData)}:r={params:W({},n.params),data:W({},n.data),resolve:W(W({},n.data),n._resolvedData??{})},i&&cD(i)&&(r.resolve[lp]=i.title),r}var lh=class{get title(){return this.data?.[lp]}constructor(e,t,r,i,s,a,l,o,c){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=a,this.component=l,this.routeConfig=o,this._resolve=c}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=uh(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=uh(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},$y=class extends Uy{constructor(e,t){super(t),this.url=e,Bw(this,t)}toString(){return lD(this._root)}};function Bw(n,e){e.value._routerState=n,e.children.forEach(t=>Bw(n,t))}function lD(n){let e=n.children.length>0?` { ${n.children.map(lD).join(", ")} } `:"";return`${n.value}${e}`}function lw(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Is(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Is(e.params,t.params)||n.paramsSubject.next(t.params),B3(e.url,t.url)||n.urlSubject.next(t.url),Is(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Iw(n,e){let t=Is(n.params,e.params)&&G3(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Iw(n.parent,e.parent))}function cD(n){return typeof n.title=="string"||n.title===null}var dj=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=Re,this.activateEvents=new an,this.deactivateEvents=new an,this.attachEvents=new an,this.detachEvents=new an,this.parentContexts=te(Yy),this.location=te(Zu),this.changeDetector=te(nh),this.inputBinder=te(Vw,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new fe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new fe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new fe(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new fe(4013,!1);this._activatedRoute=t;let i=this.location,a=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,o=new Dw(t,l,i.injector);this.activated=i.createComponent(a,{index:i.length,injector:o,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Wu({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ff]})}}return n})(),Dw=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===da?this.route:e===Yy?this.childContexts:this.parent.get(e,t)}},Vw=new xe("");function fj(n,e,t){let r=ip(n,e._root,t?t._root:void 0);return new jy(r,e)}function ip(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=pj(n,e,t);return new ni(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let a=s.route;return a.value._futureSnapshot=e.value,a.children=e.children.map(l=>ip(n,l)),a}}let r=mj(e.value),i=e.children.map(s=>ip(n,s));return new ni(r,i)}}function pj(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ip(n,r,i);return ip(n,r)})}function mj(n){return new da(new Mn(n.url),new Mn(n.params),new Mn(n.queryParams),new Mn(n.fragment),new Mn(n.data),n.outlet,n.component,n)}var sp=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},uD="ngNavigationCancelingError";function Hy(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Jf(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=hD(!1,ri.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function hD(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[uD]=!0,t.cancellationCode=e,t}function gj(n){return dD(n)&&Jf(n.url)}function dD(n){return!!n&&n[uD]}var yj=(n,e,t,r)=>Pe(i=>(new Rw(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Rw=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lw(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=oh(t);e.children.forEach(s=>{let a=s.value.outlet;this.deactivateRoutes(s,i[a],r),delete i[a]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let a=r.getContext(i.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=oh(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);if(r&&r.outlet){let a=r.outlet.detach(),l=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:a,route:e,contexts:l})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=oh(e);for(let a of Object.values(s))this.deactivateRouteAndItsChildren(a,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=oh(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Cw(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Ew(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(lw(i),i===s)if(i.component){let a=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let a=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let l=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),lw(l.route.value),this.activateChildRoutes(e,null,a.children)}else a.attachRef=null,a.route=i,a.outlet&&a.outlet.activateWith(i,a.injector),this.activateChildRoutes(e,null,a.children)}else this.activateChildRoutes(e,null,r)}},Wy=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ch=class{constructor(e,t){this.component=e,this.route=t}};function xj(n,e,t){let r=n._root,i=e?e._root:null;return Xf(r,i,t,[r.value])}function vj(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function fh(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!HT(n)?n:e.get(n):r}function Xf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=oh(e);return n.children.forEach(a=>{_j(a,s[a.value.outlet],t,r.concat([a.value]),i),delete s[a.value.outlet]}),Object.entries(s).forEach(([a,l])=>Qf(l,t.getContext(a),i)),i}function _j(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,a=e?e.value:null,l=t?t.getContext(n.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){let o=bj(a,s,s.routeConfig.runGuardsAndResolvers);o?i.canActivateChecks.push(new Wy(r)):(s.data=a.data,s._resolvedData=a._resolvedData),s.component?Xf(n,e,l?l.children:null,r,i):Xf(n,e,t,r,i),o&&l&&l.outlet&&l.outlet.isActivated&&i.canDeactivateChecks.push(new ch(l.outlet.component,a))}else a&&Qf(e,l,i),i.canActivateChecks.push(new Wy(r)),s.component?Xf(n,null,l?l.children:null,r,i):Xf(n,null,t,r,i);return i}function bj(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!lc(n.url,e.url);case"pathParamsOrQueryParamsChange":return!lc(n.url,e.url)||!Is(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Iw(n,e)||!Is(n.queryParams,e.queryParams);case"paramsChange":default:return!Iw(n,e)}}function Qf(n,e,t){let r=oh(n),i=n.value;Object.entries(r).forEach(([s,a])=>{i.component?e?Qf(a,e.children.getContext(s),t):Qf(a,null,t):Qf(a,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new ch(e.outlet.component,i)):t.canDeactivateChecks.push(new ch(null,i)):t.canDeactivateChecks.push(new ch(null,i))}function up(n){return typeof n=="function"}function wj(n){return typeof n=="boolean"}function Ej(n){return n&&up(n.canLoad)}function Sj(n){return n&&up(n.canActivate)}function Cj(n){return n&&up(n.canActivateChild)}function Aj(n){return n&&up(n.canDeactivate)}function Tj(n){return n&&up(n.canMatch)}function fD(n){return n instanceof Yi||n?.name==="EmptyError"}var Oy=Symbol("INITIAL_VALUE");function dh(){return Kr(n=>vg(n.map(e=>e.pipe(ro(1),Bv(Oy)))).pipe(Pe(e=>{for(let t of e)if(t!==!0){if(t===Oy)return Oy;if(t===!1||Mj(t))return t}return!0}),Qr(e=>e!==Oy),ro(1)))}function Mj(n){return Jf(n)||n instanceof sp}function Ij(n,e){return sn(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:a}}=t;return a.length===0&&s.length===0?Te(ve(W({},t),{guardsResult:!0})):Dj(a,r,i,n).pipe(sn(l=>l&&wj(l)?Rj(r,s,n,e):Te(l)),Pe(l=>ve(W({},t),{guardsResult:l})))})}function Dj(n,e,t,r){return zt(n).pipe(sn(i=>kj(i.component,i.route,t,e,r)),_s(i=>i!==!0,!0))}function Rj(n,e,t,r){return zt(e).pipe(Yo(i=>Tu(Oj(i.route.parent,r),Pj(i.route,r),Fj(n,i.path,t),Nj(n,i.route,t))),_s(i=>i!==!0,!0))}function Pj(n,e){return n!==null&&e&&e(new Sw(n)),Te(!0)}function Oj(n,e){return n!==null&&e&&e(new ww(n)),Te(!0)}function Nj(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Te(!0);let i=r.map(s=>_g(()=>{let a=cp(e)??t,l=fh(s,a),o=Sj(l)?l.canActivate(e,n):Qi(a,()=>l(e,n));return fa(o).pipe(_s())}));return Te(i).pipe(dh())}function Fj(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(a=>vj(a)).filter(a=>a!==null).map(a=>_g(()=>{let l=a.guards.map(o=>{let c=cp(a.node)??t,u=fh(o,c),h=Cj(u)?u.canActivateChild(r,n):Qi(c,()=>u(r,n));return fa(h).pipe(_s())});return Te(l).pipe(dh())}));return Te(s).pipe(dh())}function kj(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return Te(!0);let a=s.map(l=>{let o=cp(e)??i,c=fh(l,o),u=Aj(c)?c.canDeactivate(n,e,t,r):Qi(o,()=>c(n,e,t,r));return fa(u).pipe(_s())});return Te(a).pipe(dh())}function Lj(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return Te(!0);let s=i.map(a=>{let l=fh(a,n),o=Ej(l)?l.canLoad(e,t):Qi(n,()=>l(e,t));return fa(o)});return Te(s).pipe(dh(),pD(r))}function pD(n){return Cv(mn(e=>{if(typeof e!="boolean")throw Hy(n,e)}),Pe(e=>e===!0))}function Bj(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return Te(!0);let s=i.map(a=>{let l=fh(a,n),o=Tj(l)?l.canMatch(e,t):Qi(n,()=>l(e,t));return fa(o)});return Te(s).pipe(dh(),pD(r))}var op=class{constructor(e){this.segmentGroup=e||null}},ap=class extends Error{constructor(e){super(),this.urlTree=e}};function sh(n){return _i(new op(n))}function Vj(n){return _i(new fe(4e3,!1))}function Uj(n){return _i(hD(!1,ri.GuardRejected))}var Pw=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Te(r);if(i.numberOfChildren>1||!i.children[Re])return Vj(`${e.redirectTo}`);i=i.children[Re]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let l=t,{queryParams:o,fragment:c,routeConfig:u,url:h,outlet:d,params:f,data:p,title:m}=i,g=Qi(s,()=>l({params:f,data:p,queryParams:o,fragment:c,routeConfig:u,url:h,outlet:d,title:m}));if(g instanceof fo)throw new ap(g);t=g}let a=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new ap(a);return a}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new fo(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let l=s.substring(1);r[i]=t[l]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),a={};return Object.entries(t.children).forEach(([l,o])=>{a[l]=this.createSegmentGroup(e,o,r,i)}),new it(s,a)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new fe(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},Ow={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function jj(n,e,t,r,i){let s=mD(n,e,t);return s.matched?(r=cj(e,r),Bj(r,e,t,i).pipe(Pe(a=>a===!0?s:W({},Ow)))):Te(s)}function mD(n,e,t){if(e.path==="**")return Gj(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?W({},Ow):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||L3)(t,n,e);if(!i)return W({},Ow);let s={};Object.entries(i.posParams??{}).forEach(([l,o])=>{s[l]=o.path});let a=i.consumed.length>0?W(W({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:a,positionalParamSegments:i.posParams??{}}}function Gj(n){return{matched:!0,parameters:n.length>0?zI(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function HI(n,e,t,r){return t.length>0&&Wj(n,t,r)?{segmentGroup:new it(e,Hj(r,new it(t,n.children))),slicedSegments:[]}:t.length===0&&Yj(n,t,r)?{segmentGroup:new it(n.segments,$j(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new it(n.segments,n.children),slicedSegments:t}}function $j(n,e,t,r){let i={};for(let s of t)if(Xy(n,e,s)&&!r[ts(s)]){let a=new it([],{});i[ts(s)]=a}return W(W({},r),i)}function Hj(n,e){let t={};t[Re]=e;for(let r of n)if(r.path===""&&ts(r)!==Re){let i=new it([],{});t[ts(r)]=i}return t}function Wj(n,e,t){return t.some(r=>Xy(n,e,r)&&ts(r)!==Re)}function Yj(n,e,t){return t.some(r=>Xy(n,e,r))}function Xy(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Xj(n,e,t){return e.length===0&&!n.children[t]}var Nw=class{};function zj(n,e,t,r,i,s,a="emptyOnly"){return new Fw(n,e,t,r,i,a,s).recognize()}var qj=31,Fw=class{constructor(e,t,r,i,s,a,l){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new Pw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new fe(4002,`'${e.segmentGroup}'`)}recognize(){let e=HI(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(Pe(({children:t,rootSnapshot:r})=>{let i=new ni(r,t),s=new $y("",i),a=nj(r,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(a),{state:s,tree:a}}))}match(e){let t=new lh([],Object.freeze({}),Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),Re,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,Re,t).pipe(Pe(r=>({children:r,rootSnapshot:t})),In(r=>{if(r instanceof ap)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof op?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(Pe(a=>a instanceof ni?[a]:[]))}processChildren(e,t,r,i){let s=[];for(let a of Object.keys(r.children))a==="primary"?s.unshift(a):s.push(a);return zt(s).pipe(Yo(a=>{let l=r.children[a],o=uj(t,a);return this.processSegmentGroup(e,o,l,a,i)}),Lv((a,l)=>(a.push(...l),a)),Xo(null),kv(),sn(a=>{if(a===null)return sh(r);let l=gD(a);return Zj(l),Te(l)}))}processSegment(e,t,r,i,s,a,l){return zt(t).pipe(Yo(o=>this.processSegmentAgainstRoute(o._injector??e,t,o,r,i,s,a,l).pipe(In(c=>{if(c instanceof op)return Te(null);throw c}))),_s(o=>!!o),In(o=>{if(fD(o))return Xj(r,i,s)?Te(new Nw):sh(r);throw o}))}processSegmentAgainstRoute(e,t,r,i,s,a,l,o){return ts(r)!==a&&(a===Re||!Xy(i,s,r))?sh(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,a,o):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,a,o):sh(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,a,l){let{matched:o,parameters:c,consumedSegments:u,positionalParamSegments:h,remainingSegments:d}=mD(t,i,s);if(!o)return sh(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>qj&&(this.allowRedirects=!1));let f=new lh(s,c,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,WI(i),ts(i),i.component??i._loadedComponent??null,i,YI(i)),p=Gy(f,l,this.paramsInheritanceStrategy);f.params=Object.freeze(p.params),f.data=Object.freeze(p.data);let m=this.applyRedirects.applyRedirectCommands(u,i.redirectTo,h,f,e);return this.applyRedirects.lineralizeSegments(i,m).pipe(sn(g=>this.processSegment(e,r,t,g.concat(d),a,!1,l)))}matchSegmentAgainstRoute(e,t,r,i,s,a){let l=jj(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),l.pipe(Kr(o=>o.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Kr(({routes:c})=>{let u=r._loadedInjector??e,{parameters:h,consumedSegments:d,remainingSegments:f}=o,p=new lh(d,h,Object.freeze(W({},this.urlTree.queryParams)),this.urlTree.fragment,WI(r),ts(r),r.component??r._loadedComponent??null,r,YI(r)),m=Gy(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(m.params),p.data=Object.freeze(m.data);let{segmentGroup:g,slicedSegments:v}=HI(t,d,f,c);if(v.length===0&&g.hasChildren())return this.processChildren(u,c,g,p).pipe(Pe(y=>new ni(p,y)));if(c.length===0&&v.length===0)return Te(new ni(p,[]));let x=ts(r)===s;return this.processSegment(u,c,g,v,x?Re:s,!0,p).pipe(Pe(y=>new ni(p,y instanceof ni?[y]:[])))}))):sh(t)))}getChildConfig(e,t,r){return t.children?Te({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?Te({routes:t._loadedRoutes,injector:t._loadedInjector}):Lj(e,t,r,this.urlSerializer).pipe(sn(i=>i?this.configLoader.loadChildren(e,t).pipe(mn(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Uj(t))):Te({routes:[],injector:e})}};function Zj(n){n.sort((e,t)=>e.value.outlet===Re?-1:t.value.outlet===Re?1:e.value.outlet.localeCompare(t.value.outlet))}function Qj(n){let e=n.value.routeConfig;return e&&e.path===""}function gD(n){let e=[],t=new Set;for(let r of n){if(!Qj(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=gD(r.children);e.push(new ni(r.value,i))}return e.filter(r=>!t.has(r))}function WI(n){return n.data||{}}function YI(n){return n.resolve||{}}function Kj(n,e,t,r,i,s){return sn(a=>zj(n,e,t,r,a.extractedUrl,i,s).pipe(Pe(({state:l,tree:o})=>ve(W({},a),{targetSnapshot:l,urlAfterRedirects:o}))))}function Jj(n,e){return sn(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Te(t);let s=new Set(i.map(o=>o.route)),a=new Set;for(let o of s)if(!a.has(o))for(let c of yD(o))a.add(c);let l=0;return zt(a).pipe(Yo(o=>s.has(o)?e4(o,r,n,e):(o.data=Gy(o,o.parent,n).resolve,Te(void 0))),mn(()=>l++),Mu(1),sn(o=>l===a.size?Te(t):Zr))})}function yD(n){let e=n.children.map(t=>yD(t)).flat();return[n,...e]}function e4(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!cD(i)&&(s[lp]=i.title),t4(s,n,e,r).pipe(Pe(a=>(n._resolvedData=a,n.data=Gy(n,n.parent,t).resolve,null)))}function t4(n,e,t,r){let i=hw(n);if(i.length===0)return Te({});let s={};return zt(i).pipe(sn(a=>n4(n[a],e,t,r).pipe(_s(),mn(l=>{if(l instanceof sp)throw Hy(new Kf,l);s[a]=l}))),Mu(1),Fv(s),In(a=>fD(a)?Zr:_i(a)))}function n4(n,e,t,r){let i=cp(e)??r,s=fh(n,i),a=s.resolve?s.resolve(e,t):Qi(i,()=>s(e,t));return fa(a)}function cw(n){return Kr(e=>{let t=n(e);return t?zt(t).pipe(Pe(()=>e)):Te(e)})}var xD=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===Re);return r}getResolvedTitleForRoute(t){return t.data[lp]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>te(r4),providedIn:"root"})}}return n})(),r4=(()=>{class n extends xD{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(he(VI))}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Uw=new xe("",{providedIn:"root",factory:()=>({})}),i4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=gn({type:n,selectors:[["ng-component"]],standalone:!0,features:[xn],decls:1,vars:0,template:function(r,i){r&1&&re(0,"router-outlet")},dependencies:[dj],encapsulation:2})}}return n})();function jw(n){let e=n.children&&n.children.map(jw),t=e?ve(W({},n),{children:e}):W({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==Re&&(t.component=i4),t}var Gw=new xe(""),s4=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=te(Gb)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=fa(t.loadComponent()).pipe(Pe(vD),mn(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),ql(()=>{this.componentLoaders.delete(t)})),i=new Cu(r,()=>new pn).pipe(Su());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=o4(r,this.compiler,t,this.onLoadEndListener).pipe(ql(()=>{this.childrenLoaders.delete(r)})),a=new Cu(s,()=>new pn).pipe(Su());return this.childrenLoaders.set(r,a),a}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function o4(n,e,t,r){return fa(n.loadChildren()).pipe(Pe(vD),sn(i=>i instanceof Df||Array.isArray(i)?Te(i):zt(e.compileModuleAsync(i))),Pe(i=>{r&&r(n);let s,a,l=!1;return Array.isArray(i)?(a=i,l=!0):(s=i.create(t).injector,a=s.get(Gw,[],{optional:!0,self:!0}).flat()),{routes:a.map(jw),injector:s}}))}function a4(n){return n&&typeof n=="object"&&"default"in n}function vD(n){return a4(n)?n.default:n}var $w=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>te(l4),providedIn:"root"})}}return n})(),l4=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),c4=new xe("");var u4=new xe(""),h4=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new pn,this.transitionAbortSubject=new pn,this.configLoader=te(s4),this.environmentInjector=te(Tr),this.urlSerializer=te(Lw),this.rootContexts=te(Yy),this.location=te(Bf),this.inputBindingEnabled=te(Vw,{optional:!0})!==null,this.titleStrategy=te(xD),this.options=te(Uw,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=te($w),this.createViewTransition=te(c4,{optional:!0}),this.navigationErrorHandler=te(u4,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Te(void 0),this.rootComponentType=null;let t=i=>this.events.next(new _w(i)),r=i=>this.events.next(new bw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ve(W(W({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new Mn({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Zf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qr(s=>s.id!==0),Pe(s=>ve(W({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Kr(s=>{let a=!1,l=!1;return Te(s).pipe(Kr(o=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",ri.SupersededByNewNavigation),Zr;this.currentTransition=s,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?ve(W({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let c=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!c&&u!=="reload"){let h="";return this.events.next(new uc(o.id,this.urlSerializer.serialize(o.rawUrl),h,mw.IgnoredSameUrlNavigation)),o.resolve(!1),Zr}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return Te(o).pipe(Kr(h=>{let d=this.transitions?.getValue();return this.events.next(new tp(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),d!==this.transitions?.getValue()?Zr:Promise.resolve(h)}),Kj(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),mn(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=ve(W({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let d=new Vy(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(d)}));if(c&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:h,extractedUrl:d,source:f,restoredState:p,extras:m}=o,g=new tp(h,this.urlSerializer.serialize(d),f,p);this.events.next(g);let v=aD(this.rootComponentType).snapshot;return this.currentTransition=s=ve(W({},o),{targetSnapshot:v,urlAfterRedirects:d,extras:ve(W({},m),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=d,Te(s)}else{let h="";return this.events.next(new uc(o.id,this.urlSerializer.serialize(o.extractedUrl),h,mw.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Zr}}),mn(o=>{let c=new gw(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(c)}),Pe(o=>(this.currentTransition=s=ve(W({},o),{guards:xj(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),s)),Ij(this.environmentInjector,o=>this.events.next(o)),mn(o=>{if(s.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Hy(this.urlSerializer,o.guardsResult);let c=new yw(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(c)}),Qr(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ri.GuardRejected),!1)),cw(o=>{if(o.guards.canActivateChecks.length)return Te(o).pipe(mn(c=>{let u=new xw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),Kr(c=>{let u=!1;return Te(c).pipe(Jj(this.paramsInheritanceStrategy,this.environmentInjector),mn({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(c,"",ri.NoDataFromResolver)}}))}),mn(c=>{let u=new vw(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}))}),cw(o=>{let c=u=>{let h=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(u.routeConfig).pipe(mn(d=>{u.component=d}),Pe(()=>{})));for(let d of u.children)h.push(...c(d));return h};return vg(c(o.targetSnapshot.root)).pipe(Xo(null),ro(1))}),cw(()=>this.afterPreactivation()),Kr(()=>{let{currentSnapshot:o,targetSnapshot:c}=s,u=this.createViewTransition?.(this.environmentInjector,o.root,c.root);return u?zt(u).pipe(Pe(()=>s)):Te(s)}),Pe(o=>{let c=fj(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=s=ve(W({},o),{targetRouterState:c}),this.currentNavigation.targetRouterState=c,s}),mn(()=>{this.events.next(new rp)}),yj(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),ro(1),mn({next:o=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new cc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{a=!0}}),Vv(this.transitionAbortSubject.pipe(mn(o=>{throw o}))),ql(()=>{!a&&!l&&this.cancelNavigationTransition(s,"",ri.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),In(o=>{if(l=!0,dD(o))this.events.next(new ho(s.id,this.urlSerializer.serialize(s.extractedUrl),o.message,o.cancellationCode)),gj(o)?this.events.next(new hh(o.url,o.navigationBehaviorOptions)):s.resolve(!1);else{let c=new np(s.id,this.urlSerializer.serialize(s.extractedUrl),o,s.targetSnapshot??void 0);try{let u=Qi(this.environmentInjector,()=>this.navigationErrorHandler?.(c));if(u instanceof sp){let{message:h,cancellationCode:d}=Hy(this.urlSerializer,u);this.events.next(new ho(s.id,this.urlSerializer.serialize(s.extractedUrl),h,d)),this.events.next(new hh(u.redirectTo,u.navigationBehaviorOptions))}else{this.events.next(c);let h=t.errorHandler(o);s.resolve(!!h)}}catch(u){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(u)}}return Zr}))}))}cancelNavigationTransition(t,r,i){let s=new ho(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function d4(n){return n!==Zf}var f4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>te(p4),providedIn:"root"})}}return n})(),kw=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},p4=(()=>{class n extends kw{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ay(n)))(i||n)}})()}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_D=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:()=>te(m4),providedIn:"root"})}}return n})(),m4=(()=>{class n extends _D{constructor(){super(...arguments),this.location=te(Bf),this.urlSerializer=te(Lw),this.options=te(Uw,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=te($w),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fo,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=aD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof tp)this.stateMemento=this.createStateMemento();else if(t instanceof uc)this.rawUrlTree=r.initialUrl;else if(t instanceof Vy){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof rp?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof ho&&(t.code===ri.GuardRejected||t.code===ri.NoDataFromResolver)?this.restoreHistory(r):t instanceof np?this.restoreHistory(r,!0):t instanceof cc&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof fo?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,a=W(W({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",a)}else{let s=W(W({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=ay(n)))(i||n)}})()}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(zf||{});function g4(n,e){n.events.pipe(Qr(t=>t instanceof cc||t instanceof ho||t instanceof np||t instanceof uc),Pe(t=>t instanceof cc||t instanceof uc?zf.COMPLETE:(t instanceof ho?t.code===ri.Redirect||t.code===ri.SupersededByNewNavigation:!1)?zf.REDIRECTING:zf.FAILED),Qr(t=>t!==zf.REDIRECTING),ro(1)).subscribe(()=>{e()})}function y4(n){throw n}var x4={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},v4={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},bD=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=te(xy),this.stateManager=te(_D),this.options=te(Uw,{optional:!0})||{},this.pendingTasks=te(sa),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=te(h4),this.urlSerializer=te(Lw),this.location=te(Bf),this.urlHandlingStrategy=te($w),this._events=new pn,this.errorHandler=this.options.errorHandler||y4,this.navigated=!1,this.routeReuseStrategy=te(f4),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=te(Gw,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!te(Vw,{optional:!0}),this.eventsSubscription=new Bt,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof ho&&r.code!==ri.Redirect&&r.code!==ri.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof cc)this.navigated=!0;else if(r instanceof hh){let a=r.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o=W({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||d4(i.source)},a);this.scheduleNavigation(l,Zf,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}b4(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Zf,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},a=i?.navigationId?i:null;if(i){let o=W({},i);delete o.navigationId,delete o.\u0275routerPageId,Object.keys(o).length!==0&&(s.state=o)}let l=this.parseUrl(t);this.scheduleNavigation(l,r,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jw),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:a,queryParamsHandling:l,preserveFragment:o}=r,c=o?this.currentUrlTree.fragment:a,u=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":u=W(W({},this.currentUrlTree.queryParams),s);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=s||null}u!==null&&(u=this.removeEmptyProps(u));let h;try{let d=i?i.snapshot:this.routerState.snapshot.root;h=rD(d)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return iD(h,t,u,c??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Jf(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Zf,null,r)}navigate(t,r={skipLocationChange:!1}){return _4(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=W({},x4):r===!1?i=W({},v4):i=r,Jf(t))return UI(this.currentUrlTree,t,i);let s=this.parseUrl(t);return UI(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,a){if(this.disposed)return Promise.resolve(!1);let l,o,c;a?(l=a.resolve,o=a.reject,c=a.promise):c=new Promise((h,d)=>{l=h,o=d});let u=this.pendingTasks.add();return g4(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(u))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:l,reject:o,promise:c,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),c.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _4(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new fe(4008,!1)}function b4(n){return!(n instanceof rp)&&!(n instanceof hh)}var w4=new xe("");function wD(n,...e){return Yu([{provide:Gw,multi:!0,useValue:n},[],{provide:da,useFactory:E4,deps:[bD]},{provide:vy,multi:!0,useFactory:S4},e.map(t=>t.\u0275providers)])}function E4(n){return n.routerState.root}function S4(){let n=te(Ko);return e=>{let t=n.get(la);if(e!==t.components[0])return;let r=n.get(bD),i=n.get(C4);n.get(A4)===1&&r.initialNavigation(),n.get(T4,null,Fe.Optional)?.setUpPreloading(),n.get(w4,null,Fe.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var C4=new xe("",{factory:()=>new pn}),A4=new xe("",{providedIn:"root",factory:()=>1});var T4=new xe("");var ED=[];var SD={providers:[sI({eventCoalescing:!0}),wD(ED),DI()]};var kD=Ul(FD());var ee=new kD.EventEmitter,Ww=(()=>{class n{http;httpOptions={headers:new ti({"Content-Type":"application/x-www-form-urlencoded"})};constructor(t){this.http=t}getInitData(t,r){let i=this.convertToUrlEncoded(r);return this.http.post(t,i,this.httpOptions).pipe(io(1),In(this.handleError))}getSpinData(t,r){let i=this.convertToUrlEncoded(r);return this.http.post(t,i,this.httpOptions).pipe(io(1),In(this.handleError))}getBonusData(t,r){let i=this.convertToUrlEncoded(r);return this.http.post(t,i,this.httpOptions).pipe(io(1),In(this.handleError))}handleError(t){let r="";return t.error instanceof ErrorEvent?r=t.error.message:r=`Error Code: ${t.status}
Message: ${t.message}`,_i(()=>r)}onError(t){console.log(t)}convertToUrlEncoded(t){let r=[];for(let i in t)Object.prototype.hasOwnProperty.call(t,i)&&r.push(`${encodeURIComponent(i)}=${encodeURIComponent(t[i])}`);return r.join("&")}static \u0275fac=function(r){return new(r||n)(he(uo))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var k4=n=>({width:n}),LD=(()=>{class n{isLoader=!0;loading=0;constructor(){ee.on("appProgress",this.onProgress.bind(this))}onProgress(t){console.log("LoaderComponent:: appProgress =",t.status),this.loading=t.status}ngOnDestroy(){ee.off("appProgress",this.onProgress.bind(this))}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gn({type:n,selectors:[["app-loader"]],standalone:!0,features:[xn],decls:7,vars:5,consts:[[1,"wrap-loader"],["src","./assets/common/images/logo.png","alt","*",1,"logo"],[1,"loader"],[1,"bg"],[1,"fill"],[1,"text"]],template:function(r,i){r&1&&(A(0,"div",0),re(1,"img",1),A(2,"div",2),re(3,"div",3)(4,"div",4),A(5,"div",5),M(6),T()()()),r&2&&(yt(4),Ju(Mr(3,k4,i.loading+"%")),yt(2),eh("",i.loading.toFixed(),"%"))},dependencies:[Dn],styles:[".wrap-loader[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:center;align-items:center;background:#000;gap:30px}.wrap-loader[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]{width:300px;height:40px;position:relative;display:block}.wrap-loader[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{width:100%;height:8px;border-radius:4px;background:#fff;position:absolute;top:0;left:0}.wrap-loader[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .fill[_ngcontent-%COMP%]{width:100%;height:8px;border-radius:4px;background:#e70a7b;position:absolute;top:0;left:0;transition:width .2s}.wrap-loader[_ngcontent-%COMP%]   .loader[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:center;position:absolute;top:20px;color:#fff;font-size:16px}.wrap-loader[_ngcontent-%COMP%]   .provider[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.wrap-loader[_ngcontent-%COMP%]   .provider[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:14px;color:#fff;margin-bottom:5px}.wrap-loader[_ngcontent-%COMP%]   .provider[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{font-size:42px;color:#cb3d3d}"]})}return n})();var L4={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},XQ=ve(W({},L4),{"[class.ng-submitted]":"isSubmitted"});var B4=new xe("CallSetDisabledState",{providedIn:"root",factory:()=>BD}),BD="always";var V4=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ta({type:n})}static{this.\u0275inj=ea({})}}return n})();var VD=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:B4,useValue:t.callSetDisabledState??BD}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=ta({type:n})}static{this.\u0275inj=ea({imports:[V4]})}}return n})();var U4=Ul(Yw());var UD={extension:{type:ye.Environment,name:"browser",priority:-1},test:()=>!0,load:()=>B(void 0,null,function*(){yield import("./chunk-4LZEGADE.js")})};var jD={extension:{type:ye.Environment,name:"webworker",priority:0},test:()=>typeof self<"u"&&self.WorkerGlobalScope!==void 0,load:()=>B(void 0,null,function*(){yield import("./chunk-QJCDIUXL.js")})};var Qy;function GD(n){return Qy!==void 0||(Qy=(()=>{let e={stencil:!0,failIfMajorPerformanceCaveat:n??Zm.defaultOptions.failIfMajorPerformanceCaveat};try{if(!Lt.get().getWebGLRenderingContext())return!1;let r=Lt.get().createCanvas().getContext("webgl",e),i=!!r?.getContextAttributes()?.stencil;if(r){let s=r.getExtension("WEBGL_lose_context");s&&s.loseContext()}return r=null,i}catch{return!1}})()),Qy}var Ky;function $D(){return B(this,arguments,function*(n={}){return Ky!==void 0||(Ky=yield B(this,null,function*(){let e=Lt.get().getNavigator().gpu;if(!e)return!1;try{return yield(yield e.requestAdapter(n)).requestDevice(),!0}catch{return!1}})),Ky})}var HD=["webgl","webgpu","canvas"];function WD(n){return B(this,null,function*(){let e=[];n.preference?(e.push(n.preference),HD.forEach(s=>{s!==n.preference&&e.push(s)})):e=HD.slice();let t,r={};for(let s=0;s<e.length;s++){let a=e[s];if(a==="webgpu"&&(yield $D())){let{WebGPURenderer:l}=yield import("./chunk-XIJD7DTS.js");t=l,r=W(W({},n),n.webgpu);break}else if(a==="webgl"&&GD(n.failIfMajorPerformanceCaveat??Zm.defaultOptions.failIfMajorPerformanceCaveat)){let{WebGLRenderer:l}=yield import("./chunk-ILB5ATSP.js");t=l,r=W(W({},n),n.webgl);break}else if(a==="canvas")throw r=W({},n),new Error("CanvasRenderer is not yet implemented")}if(delete r.webgpu,delete r.webgl,!t)throw new Error("No available renderer for the current environment");let i=new t;return yield i.init(r),i})}var j4=(()=>{let n=class Xw{constructor(...t){this.stage=new Gl,t[0]!==void 0&&qr(jl,"Application constructor options are deprecated, please use Application.init() instead.")}init(t){return B(this,null,function*(){t=W({},t),this.renderer=yield WD(t),Xw._plugins.forEach(r=>{r.init.call(this,t)})})}render(){this.renderer.render({container:this.stage})}get canvas(){return this.renderer.canvas}get view(){return qr(jl,"Application.view is deprecated, please use Application.canvas instead."),this.renderer.canvas}get screen(){return this.renderer.screen}destroy(t=!1,r=!1){let i=Xw._plugins.slice(0);i.reverse(),i.forEach(s=>{s.destroy.call(this)}),this.stage.destroy(r),this.stage=null,this.renderer.destroy(t),this.renderer=null}};return n._plugins=[],n})(),Jy=j4;$i.handleByList(ye.Application,Jy._plugins);$i.add(EA);var hp=class extends wA{constructor(e,t){super();let{textures:r,data:i}=e;Object.keys(i.pages).forEach(s=>{let a=i.pages[parseInt(s,10)],l=r[a.id];this.pages.push({texture:l})}),Object.keys(i.chars).forEach(s=>{let a=i.chars[s],{frame:l,source:o}=r[a.page],c=new dA(a.x+l.x,a.y+l.y,a.width,a.height),u=new rn({source:o,frame:c});this.chars[s]={id:s.codePointAt(0),xOffset:a.xOffset,yOffset:a.yOffset,xAdvance:a.xAdvance,kerning:a.kerning??{},texture:u}}),this.baseRenderedFontSize=i.fontSize,this.baseMeasurementFontSize=i.fontSize,this.fontMetrics={ascent:0,descent:0,fontSize:i.fontSize},this.baseLineOffset=i.baseLineOffset,this.lineHeight=i.lineHeight,this.fontFamily=i.fontFamily,this.distanceField=i.distanceField??{type:"none",range:0},this.url=t}destroy(){super.destroy();for(let e=0;e<this.pages.length;e++){let{texture:t}=this.pages[e];t.destroy(!0)}this.pages=null}static install(e){ff.install(e)}static uninstall(e){ff.uninstall(e)}};var e0={test(n){return typeof n=="string"&&n.startsWith("info face=")},parse(n){let e=n.match(/^[a-z]+\s+.+$/gm),t={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(let h in e){let d=e[h].match(/^[a-z]+/gm)[0],f=e[h].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),p={};for(let m in f){let g=f[m].split("="),v=g[0],x=g[1].replace(/"/gm,""),y=parseFloat(x),_=isNaN(y)?x:y;p[v]=_}t[d].push(p)}let r={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},[i]=t.info,[s]=t.common,[a]=t.distanceField??[];a&&(r.distanceField={range:parseInt(a.distanceRange,10),type:a.fieldType}),r.fontSize=parseInt(i.size,10),r.fontFamily=i.face,r.lineHeight=parseInt(s.lineHeight,10);let l=t.page;for(let h=0;h<l.length;h++)r.pages.push({id:parseInt(l[h].id,10)||0,file:l[h].file});let o={};r.baseLineOffset=r.lineHeight-parseInt(s.base,10);let c=t.char;for(let h=0;h<c.length;h++){let d=c[h],f=parseInt(d.id,10),p=d.letter??d.char??String.fromCharCode(f);p==="space"&&(p=" "),o[f]=p,r.chars[p]={id:f,page:parseInt(d.page,10)||0,x:parseInt(d.x,10),y:parseInt(d.y,10),width:parseInt(d.width,10),height:parseInt(d.height,10),xOffset:parseInt(d.xoffset,10),yOffset:parseInt(d.yoffset,10),xAdvance:parseInt(d.xadvance,10),kerning:{}}}let u=t.kerning||[];for(let h=0;h<u.length;h++){let d=parseInt(u[h].first,10),f=parseInt(u[h].second,10),p=parseInt(u[h].amount,10);r.chars[o[f]].kerning[o[d]]=p}return r}};var zw={test(n){let e=n;return typeof e!="string"&&"getElementsByTagName"in e&&e.getElementsByTagName("page").length&&e.getElementsByTagName("info")[0].getAttribute("face")!==null},parse(n){let e={chars:{},pages:[],lineHeight:0,fontSize:0,fontFamily:"",distanceField:null,baseLineOffset:0},t=n.getElementsByTagName("info")[0],r=n.getElementsByTagName("common")[0],i=n.getElementsByTagName("distanceField")[0];i&&(e.distanceField={type:i.getAttribute("fieldType"),range:parseInt(i.getAttribute("distanceRange"),10)});let s=n.getElementsByTagName("page"),a=n.getElementsByTagName("char"),l=n.getElementsByTagName("kerning");e.fontSize=parseInt(t.getAttribute("size"),10),e.fontFamily=t.getAttribute("face"),e.lineHeight=parseInt(r.getAttribute("lineHeight"),10);for(let c=0;c<s.length;c++)e.pages.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});let o={};e.baseLineOffset=e.lineHeight-parseInt(r.getAttribute("base"),10);for(let c=0;c<a.length;c++){let u=a[c],h=parseInt(u.getAttribute("id"),10),d=u.getAttribute("letter")??u.getAttribute("char")??String.fromCharCode(h);d==="space"&&(d=" "),o[h]=d,e.chars[d]={id:h,page:parseInt(u.getAttribute("page"),10)||0,x:parseInt(u.getAttribute("x"),10),y:parseInt(u.getAttribute("y"),10),width:parseInt(u.getAttribute("width"),10),height:parseInt(u.getAttribute("height"),10),xOffset:parseInt(u.getAttribute("xoffset"),10),yOffset:parseInt(u.getAttribute("yoffset"),10),xAdvance:parseInt(u.getAttribute("xadvance"),10),kerning:{}}}for(let c=0;c<l.length;c++){let u=parseInt(l[c].getAttribute("first"),10),h=parseInt(l[c].getAttribute("second"),10),d=parseInt(l[c].getAttribute("amount"),10);e.chars[o[h]].kerning[o[u]]=d}return e}};var qw={test(n){return typeof n=="string"&&n.includes("<font>")?zw.test(Lt.get().parseXML(n)):!1},parse(n){return zw.parse(Lt.get().parseXML(n))}};var G4=[".xml",".fnt"],YD={extension:{type:ye.CacheParser,name:"cacheBitmapFont"},test:n=>n instanceof hp,getCacheableAssets(n,e){let t={};return n.forEach(r=>{t[r]=e,t[`${r}-bitmap`]=e}),t[`${e.fontFamily}-bitmap`]=e,t}},XD={extension:{type:ye.LoadParser,priority:yi.Normal},name:"loadBitmapFont",test(n){return G4.includes(xi.extname(n).toLowerCase())},testParse(n){return B(this,null,function*(){return e0.test(n)||qw.test(n)})},parse(n,e,t){return B(this,null,function*(){let r=e0.test(n)?e0.parse(n):qw.parse(n),{src:i}=e,{pages:s}=r,a=[],l=r.distanceField?{scaleMode:"linear",alphaMode:"premultiply-alpha-on-upload",autoGenerateMipmaps:!1,resolution:1}:{};for(let h=0;h<s.length;++h){let d=s[h].file,f=xi.join(xi.dirname(i),d);f=pA(f,i),a.push({src:f,data:l})}let o=yield t.load(a),c=a.map(h=>o[h.src]);return new hp({data:r,textures:c},i)})},load(n,e){return B(this,null,function*(){return yield(yield Lt.get().fetch(n)).text()})},unload(n,e,t){return B(this,null,function*(){yield Promise.all(n.pages.map(r=>t.unload(r.texture.source._sourceOrigin))),n.destroy()})}};var t0=class{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}_next(){return B(this,null,function*(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());yield this._loader.load(e),this._isLoading=!1,this._next()}})}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}};var zD={extension:{type:ye.CacheParser,name:"cacheTextureArray"},test:n=>Array.isArray(n)&&n.every(e=>e instanceof rn),getCacheableAssets:(n,e)=>{let t={};return n.forEach(r=>{e.forEach((i,s)=>{t[r+(s===0?"":s+1)]=i})}),t}};function n0(n){return B(this,null,function*(){if("Image"in globalThis)return new Promise(e=>{let t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let e=yield(yield fetch(n)).blob();yield createImageBitmap(e)}catch{return!1}return!0}return!1})}var qD={extension:{type:ye.DetectionParser,priority:1},test:()=>B(void 0,null,function*(){return n0("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=")}),add:n=>B(void 0,null,function*(){return[...n,"avif"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="avif")})};var ZD=["png","jpg","jpeg"],QD={extension:{type:ye.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:n=>B(void 0,null,function*(){return[...n,...ZD]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>!ZD.includes(e))})};var $4="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function mh(n){return $4?!1:document.createElement("video").canPlayType(n)!==""}var KD={extension:{type:ye.DetectionParser,priority:0},test:()=>B(void 0,null,function*(){return mh("video/mp4")}),add:n=>B(void 0,null,function*(){return[...n,"mp4","m4v"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="mp4"&&e!=="m4v")})};var JD={extension:{type:ye.DetectionParser,priority:0},test:()=>B(void 0,null,function*(){return mh("video/ogg")}),add:n=>B(void 0,null,function*(){return[...n,"ogv"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="ogv")})};var eR={extension:{type:ye.DetectionParser,priority:0},test:()=>B(void 0,null,function*(){return mh("video/webm")}),add:n=>B(void 0,null,function*(){return[...n,"webm"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="webm")})};var tR={extension:{type:ye.DetectionParser,priority:0},test:()=>B(void 0,null,function*(){return n0("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")}),add:n=>B(void 0,null,function*(){return[...n,"webp"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="webp")})};var r0=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){let r={promise:null,parser:null};return r.promise=B(this,null,function*(){let i=null,s=null;if(t.loadParser&&(s=this._parserHash[t.loadParser],s||gi(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!s){for(let a=0;a<this.parsers.length;a++){let l=this.parsers[a];if(l.load&&l.test?.(e,t,this)){s=l;break}}if(!s)return gi(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=yield s.load(e,t,this),r.parser=s;for(let a=0;a<this.parsers.length;a++){let l=this.parsers[a];l.parse&&l.parse&&(yield l.testParse?.(i,t,this))&&(i=(yield l.parse(i,t,this))||i,r.parser=l)}return i}),r}load(e,t){return B(this,null,function*(){this._parsersValidated||this._validateParsers();let r=0,i={},s=Wm(e),a=$l(e,c=>({alias:[c],src:c,data:{}})),l=a.length,o=a.map(c=>B(this,null,function*(){let u=xi.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,c)),i[c.src]=yield this.promiseCache[u].promise,t&&t(++r/l)}catch(h){throw delete this.promiseCache[u],delete i[c.src],new Error(`[Loader.load] Failed to load ${u}.
${h}`)}}));return yield Promise.all(o),s?i[a[0].src]:i})}unload(e){return B(this,null,function*(){let r=$l(e,i=>({alias:[i],src:i})).map(i=>B(this,null,function*(){let s=xi.toAbsolute(i.src),a=this.promiseCache[s];if(a){let l=yield a.promise;delete this.promiseCache[s],yield a.parser?.unload?.(l,i,this)}}));yield Promise.all(r)})}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(t.name?e[t.name]&&gi(`[Assets] loadParser name conflict "${t.name}"`):gi("[Assets] loadParser should have a name"),ve(W({},e),{[t.name]:t})),{})}};function Ai(n,e){if(Array.isArray(e)){for(let t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function Ti(n,e){let t=n.split("?")[0],r=xi.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}var H4=".json",W4="application/json",nR={extension:{type:ye.LoadParser,priority:yi.Low},name:"loadJson",test(n){return Ai(n,W4)||Ti(n,H4)},load(n){return B(this,null,function*(){return yield(yield Lt.get().fetch(n)).json()})}};var Y4=".txt",X4="text/plain",rR={name:"loadTxt",extension:{type:ye.LoadParser,priority:yi.Low,name:"loadTxt"},test(n){return Ai(n,X4)||Ti(n,Y4)},load(n){return B(this,null,function*(){return yield(yield Lt.get().fetch(n)).text()})}};var z4=["normal","bold","100","200","300","400","500","600","700","800","900"],q4=[".ttf",".otf",".woff",".woff2"],Z4=["font/ttf","font/otf","font/woff","font/woff2"],Q4=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function K4(n){let e=xi.extname(n),i=xi.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(l=>l.charAt(0).toUpperCase()+l.slice(1)),s=i.length>0;for(let l of i)if(!l.match(Q4)){s=!1;break}let a=i.join(" ");return s||(a=`"${a.replace(/[\\"]/g,"\\$&")}"`),a}var J4=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function eG(n){return J4.test(n)?n:encodeURI(n)}var iR={extension:{type:ye.LoadParser,priority:yi.Low},name:"loadWebFont",test(n){return Ai(n,Z4)||Ti(n,q4)},load(n,e){return B(this,null,function*(){let t=Lt.get().getFontFaceSet();if(t){let r=[],i=e.data?.family??K4(n),s=e.data?.weights?.filter(l=>z4.includes(l))??["normal"],a=e.data??{};for(let l=0;l<s.length;l++){let o=s[l],c=new FontFace(i,`url(${eG(n)})`,ve(W({},a),{weight:o}));yield c.load(),t.add(c),r.push(c)}return vi.set(`${i}-and-url`,{url:n,fontFaces:r}),r.length===1?r[0]:r}return gi("[loadWebFont] FontFace API is not supported. Skipping loading font"),null})},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>{vi.remove(e.family),Lt.get().getFontFaceSet().delete(e)})}};function gh(n,e=1){let t=Go.RETINA_PREFIX?.exec(n);return t?parseFloat(t[1]):e}function yh(n,e,t){n.label=t,n._sourceOrigin=t;let r=new rn({source:n,label:t}),i=()=>{delete e.promiseCache[t],vi.has(t)&&vi.remove(t)};return r.source.once("destroy",()=>{e.promiseCache[t]&&(gi("[Assets] A TextureSource managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the TextureSource."),i())}),r.once("destroy",()=>{n.destroyed||(gi("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),r}var tG=".svg",nG="image/svg+xml",sR={extension:{type:ye.LoadParser,priority:yi.Low,name:"loadSVG"},name:"loadSVG",config:{crossOrigin:"anonymous",parseAsGraphicsContext:!1},test(n){return Ai(n,nG)||Ti(n,tG)},load(n,e,t){return B(this,null,function*(){return e.data.parseAsGraphicsContext??this.config.parseAsGraphicsContext?iG(n):rG(n,e,t,this.config.crossOrigin)})},unload(n){n.destroy(!0)}};function rG(n,e,t,r){return B(this,null,function*(){let s=yield(yield Lt.get().fetch(n)).blob(),a=URL.createObjectURL(s),l=new Image;l.src=a,l.crossOrigin=r,yield l.decode(),URL.revokeObjectURL(a);let o=document.createElement("canvas"),c=o.getContext("2d"),u=e.data?.resolution||gh(n),h=e.data?.width??l.width,d=e.data?.height??l.height;o.width=h*u,o.height=d*u,c.drawImage(l,0,0,h*u,d*u);let g=e.data,{parseAsGraphicsContext:f}=g,p=Gi(g,["parseAsGraphicsContext"]),m=new Ym(W({resource:o,alphaMode:"premultiply-alpha-on-upload",resolution:u},p));return yh(m,t,n)})}function iG(n){return B(this,null,function*(){let t=yield(yield Lt.get().fetch(n)).text(),r=new _A;return r.svg(t),r})}var sG=`(function () {
    'use strict';

    const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
    async function checkImageBitmap() {
      try {
        if (typeof createImageBitmap !== "function")
          return false;
        const response = await fetch(WHITE_PNG);
        const imageBlob = await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);
        return imageBitmap.width === 1 && imageBitmap.height === 1;
      } catch (e) {
        return false;
      }
    }
    void checkImageBitmap().then((result) => {
      self.postMessage(result);
    });

})();
`,xh=null,Zw=(()=>{class n{constructor(){xh||(xh=URL.createObjectURL(new Blob([sG],{type:"application/javascript"}))),this.worker=new Worker(xh)}}return n.revokeObjectURL=function(){xh&&(URL.revokeObjectURL(xh),xh=null)},n})();var oG=`(function () {
    'use strict';

    async function loadImageBitmap(url, alphaMode) {
      const response = await fetch(url);
      if (!response.ok) {
        throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
      }
      const imageBlob = await response.blob();
      return alphaMode === "premultiplied-alpha" ? createImageBitmap(imageBlob, { premultiplyAlpha: "none" }) : createImageBitmap(imageBlob);
    }
    self.onmessage = async (event) => {
      try {
        const imageBitmap = await loadImageBitmap(event.data.data[0], event.data.data[1]);
        self.postMessage({
          data: imageBitmap,
          uuid: event.data.uuid,
          id: event.data.id
        }, [imageBitmap]);
      } catch (e) {
        self.postMessage({
          error: e,
          uuid: event.data.uuid,
          id: event.data.id
        });
      }
    };

})();
`,vh=null,oR=(()=>{class n{constructor(){vh||(vh=URL.createObjectURL(new Blob([oG],{type:"application/javascript"}))),this.worker=new Worker(vh)}}return n.revokeObjectURL=function(){vh&&(URL.revokeObjectURL(vh),vh=null)},n})();var aR=0,Qw,Kw=class{constructor(){this._initialized=!1,this._createdWorkers=0,this._workerPool=[],this._queue=[],this._resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{let{worker:t}=new Zw;t.addEventListener("message",r=>{t.terminate(),Zw.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e,t){return this._run("loadImageBitmap",[e,t?.data?.alphaMode])}_initWorkers(){return B(this,null,function*(){this._initialized||(this._initialized=!0)})}_getWorker(){Qw===void 0&&(Qw=navigator.hardwareConcurrency||4);let e=this._workerPool.pop();return!e&&this._createdWorkers<Qw&&(this._createdWorkers++,e=new oR().worker,e.addEventListener("message",t=>{this._complete(t.data),this._returnWorker(t.target),this._next()})),e}_returnWorker(e){this._workerPool.push(e)}_complete(e){e.error!==void 0?this._resolveHash[e.uuid].reject(e.error):this._resolveHash[e.uuid].resolve(e.data),this._resolveHash[e.uuid]=null}_run(e,t){return B(this,null,function*(){yield this._initWorkers();let r=new Promise((i,s)=>{this._queue.push({id:e,arguments:t,resolve:i,reject:s})});return this._next(),r})}_next(){if(!this._queue.length)return;let e=this._getWorker();if(!e)return;let t=this._queue.pop(),r=t.id;this._resolveHash[aR]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:aR++,id:r})}},Jw=new Kw;var aG=[".jpeg",".jpg",".png",".webp",".avif"],lG=["image/jpeg","image/png","image/webp","image/avif"];function cG(n,e){return B(this,null,function*(){let t=yield Lt.get().fetch(n);if(!t.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${t.status} ${t.statusText}`);let r=yield t.blob();return e?.data?.alphaMode==="premultiplied-alpha"?createImageBitmap(r,{premultiplyAlpha:"none"}):createImageBitmap(r)})}var i0={name:"loadTextures",extension:{type:ye.LoadParser,priority:yi.High,name:"loadTextures"},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return Ai(n,lG)||Ti(n,aG)},load(n,e,t){return B(this,null,function*(){let r=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&(yield Jw.isImageBitmapSupported())?r=yield Jw.loadImageBitmap(n,e):r=yield cG(n,e):r=yield new Promise(s=>{r=new Image,r.crossOrigin=this.config.crossOrigin,r.src=n,r.complete?s(r):r.onload=()=>{s(r)}});let i=new Ym(W({resource:r,alphaMode:"premultiply-alpha-on-upload",resolution:e.data?.resolution||gh(n)},e.data));return yh(i,t,n)})},unload(n){n.destroy(!0)}};var lR=[".mp4",".m4v",".webm",".ogg",".ogv",".h264",".avi",".mov"],uG=lR.map(n=>`video/${n.substring(1)}`);function hG(n,e,t){t===void 0&&!e.startsWith("data:")?n.crossOrigin=fG(e):t!==!1&&(n.crossOrigin=typeof t=="string"?t:"anonymous")}function dG(n){return new Promise((e,t)=>{n.addEventListener("canplaythrough",r),n.addEventListener("error",i),n.load();function r(){s(),e()}function i(a){s(),t(a)}function s(){n.removeEventListener("canplaythrough",r),n.removeEventListener("error",i)}})}function fG(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location;let t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}var cR={name:"loadVideo",extension:{type:ye.LoadParser,name:"loadVideo"},test(n){let e=Ai(n,uG),t=Ti(n,lR);return e||t},load(n,e,t){return B(this,null,function*(){let r=W(ve(W({},Xm.defaultOptions),{resolution:e.data?.resolution||gh(n),alphaMode:e.data?.alphaMode||(yield gA())}),e.data),i=document.createElement("video"),s={preload:r.autoLoad!==!1?"auto":void 0,"webkit-playsinline":r.playsinline!==!1?"":void 0,playsinline:r.playsinline!==!1?"":void 0,muted:r.muted===!0?"":void 0,loop:r.loop===!0?"":void 0,autoplay:r.autoPlay!==!1?"":void 0};Object.keys(s).forEach(o=>{let c=s[o];c!==void 0&&i.setAttribute(o,c)}),r.muted===!0&&(i.muted=!0),hG(i,n,r.crossorigin);let a=document.createElement("source"),l;if(n.startsWith("data:"))l=n.slice(5,n.indexOf(";"));else if(!n.startsWith("blob:")){let o=n.split("?")[0].slice(n.lastIndexOf(".")+1).toLowerCase();l=Xm.MIME_TYPES[o]||`video/${o}`}return a.src=n,l&&(a.type=l),new Promise(o=>{let c=()=>B(this,null,function*(){let u=new Xm(ve(W({},r),{resource:i}));i.removeEventListener("canplay",c),e.data.preload&&(yield dG(i)),o(yh(u,t,n))});i.addEventListener("canplay",c),i.appendChild(a)})})},unload(n){n.destroy(!0)}};var s0={extension:{type:ye.ResolveParser,name:"resolveTexture"},test:i0.test,parse:n=>({resolution:parseFloat(Go.RETINA_PREFIX.exec(n)?.[1]??"1"),format:n.split(".").pop(),src:n})};var uR={extension:{type:ye.ResolveParser,priority:-2,name:"resolveJson"},test:n=>Go.RETINA_PREFIX.test(n)&&n.endsWith(".json"),parse:s0.parse};var o0=class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Go,this.loader=new r0,this.cache=vi,this._backgroundLoader=new t0(this.loader),this._backgroundLoader.active=!0,this.reset()}init(){return B(this,arguments,function*(e={}){if(this._initialized){gi("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let s=e.manifest;typeof s=="string"&&(s=yield this.load(s)),this.resolver.addManifest(s)}let t=e.texturePreference?.resolution??1,r=typeof t=="number"?[t]:t,i=yield this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)})}add(e){this.resolver.add(e)}load(e,t){return B(this,null,function*(){this._initialized||(yield this.init());let r=Wm(e),i=$l(e).map(l=>{if(typeof l!="string"){let o=this.resolver.getAlias(l);return o.some(c=>!this.resolver.hasKey(c))&&this.add(l),Array.isArray(o)?o[0]:o}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),s=this.resolver.resolve(i),a=yield this._mapLoadToResolve(s,t);return r?a[i[0]]:a})}addBundle(e,t){this.resolver.addBundle(e,t)}loadBundle(e,t){return B(this,null,function*(){this._initialized||(yield this.init());let r=!1;typeof e=="string"&&(r=!0,e=[e]);let i=this.resolver.resolveBundle(e),s={},a=Object.keys(i),l=0,o=0,c=()=>{t?.(++l/o)},u=a.map(h=>{let d=i[h];return o+=Object.keys(d).length,this._mapLoadToResolve(d,c).then(f=>{s[h]=f})});return yield Promise.all(u),r?s[e[0]]:s})}backgroundLoad(e){return B(this,null,function*(){this._initialized||(yield this.init()),typeof e=="string"&&(e=[e]);let t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))})}backgroundLoadBundle(e){return B(this,null,function*(){this._initialized||(yield this.init()),typeof e=="string"&&(e=[e]);let t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return vi.get(e);let t={};for(let r=0;r<e.length;r++)t[r]=vi.get(e[r]);return t}_mapLoadToResolve(e,t){return B(this,null,function*(){let r=[...new Set(Object.values(e))];this._backgroundLoader.active=!1;let i=yield this.loader.load(r,t);this._backgroundLoader.active=!0;let s={};return r.forEach(a=>{let l=i[a.src],o=[a.src];a.alias&&o.push(...a.alias),o.forEach(c=>{s[c]=l}),vi.set(o,l)}),s})}unload(e){return B(this,null,function*(){this._initialized||(yield this.init());let t=$l(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(t);yield this._unloadFromResolved(r)})}unloadBundle(e){return B(this,null,function*(){this._initialized||(yield this.init()),e=$l(e);let t=this.resolver.resolveBundle(e),r=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));yield Promise.all(r)})}_unloadFromResolved(e){return B(this,null,function*(){let t=Object.values(e);t.forEach(r=>{vi.remove(r.src)}),yield this.loader.unload(t)})}_detectFormats(e){return B(this,null,function*(){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(let r of e.detections)e.skipDetections||(yield r.test())?t=yield r.add(t):e.skipDetections||(t=yield r.remove(t));return t=t.filter((r,i)=>t.indexOf(r)===i),t})}get detections(){return this._detections}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}},ii=new o0;$i.handleByList(ye.LoadParser,ii.loader.parsers).handleByList(ye.ResolveParser,ii.resolver.parsers).handleByList(ye.CacheParser,ii.cache.parsers).handleByList(ye.DetectionParser,ii.detections);$i.add(zD,QD,qD,tR,KD,JD,eR,nR,rR,iR,sR,i0,cR,XD,YD,s0,uR);var hR={loader:ye.LoadParser,resolver:ye.ResolveParser,cache:ye.CacheParser,detection:ye.DetectionParser};$i.handle(ye.Asset,n=>{let e=n.ref;Object.entries(hR).filter(([t])=>!!e[t]).forEach(([t,r])=>$i.add(Object.assign(e[t],{extension:e[t].extension??r})))},n=>{let e=n.ref;Object.keys(hR).filter(t=>!!e[t]).forEach(t=>$i.remove(e[t]))});var a0={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]};var pG=["in vec2 vBlurTexCoords[%size%];","uniform sampler2D uTexture;","out vec4 finalColor;","void main(void)","{","    finalColor = vec4(0.0);","    %blur%","}"].join(`
`);function dR(n){let e=a0[n],t=e.length,r=pG,i="",s="finalColor += texture(uTexture, vBlurTexCoords[%index%]) * %value%;",a;for(let l=0;l<n;l++){let o=s.replace("%index%",l.toString());a=l,l>=t&&(a=n-l-1),o=o.replace("%value%",e[a].toString()),i+=o,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",n.toString()),r}var mG=`
    in vec2 aPosition;

    uniform float uStrength;

    out vec2 vBlurTexCoords[%size%];

    uniform vec4 uInputSize;
    uniform vec4 uOutputFrame;
    uniform vec4 uOutputTexture;

    vec4 filterVertexPosition( void )
{
    vec2 position = aPosition * uOutputFrame.zw + uOutputFrame.xy;
    
    position.x = position.x * (2.0 / uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*uOutputTexture.z / uOutputTexture.y) - uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

    vec2 filterTextureCoord( void )
    {
        return aPosition * (uOutputFrame.zw * uInputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        float pixelStrength = uInputSize.%dimension% * uStrength;

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function fR(n,e){let t=Math.ceil(n/2),r=mG,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * pixelStrength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * pixelStrength);";for(let a=0;a<n;a++){let l=s.replace("%index%",a.toString());l=l.replace("%sampleIndex%",`${a-(t-1)}.0`),i+=l,i+=`
`}return r=r.replace("%blur%",i),r=r.replace("%size%",n.toString()),r=r.replace("%dimension%",e?"z":"w"),r}function pR(n,e){let t=fR(e,n),r=dR(e);return yA.from({vertex:t,fragment:r,name:`blur-${n?"horizontal":"vertical"}-pass-filter`})}var mR=`

struct GlobalFilterUniforms {
  uInputSize:vec4<f32>,
  uInputPixel:vec4<f32>,
  uInputClamp:vec4<f32>,
  uOutputFrame:vec4<f32>,
  uGlobalFrame:vec4<f32>,
  uOutputTexture:vec4<f32>,
};

struct BlurUniforms {
  uStrength:f32,
};

@group(0) @binding(0) var<uniform> gfu: GlobalFilterUniforms;
@group(0) @binding(1) var uTexture: texture_2d<f32>;
@group(0) @binding(2) var uSampler : sampler;

@group(1) @binding(0) var<uniform> blurUniforms : BlurUniforms;


struct VSOutput {
    @builtin(position) position: vec4<f32>,
    %blur-struct%
  };

fn filterVertexPosition(aPosition:vec2<f32>) -> vec4<f32>
{
    var position = aPosition * gfu.uOutputFrame.zw + gfu.uOutputFrame.xy;

    position.x = position.x * (2.0 / gfu.uOutputTexture.x) - 1.0;
    position.y = position.y * (2.0*gfu.uOutputTexture.z / gfu.uOutputTexture.y) - gfu.uOutputTexture.z;

    return vec4(position, 0.0, 1.0);
}

fn filterTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
    return aPosition * (gfu.uOutputFrame.zw * gfu.uInputSize.zw);
}

fn globalTextureCoord( aPosition:vec2<f32> ) -> vec2<f32>
{
  return  (aPosition.xy / gfu.uGlobalFrame.zw) + (gfu.uGlobalFrame.xy / gfu.uGlobalFrame.zw);  
}

fn getSize() -> vec2<f32>
{
  return gfu.uGlobalFrame.zw;
}


@vertex
fn mainVertex(
  @location(0) aPosition : vec2<f32>, 
) -> VSOutput {

  let filteredCord = filterTextureCoord(aPosition);

  let pixelStrength = gfu.uInputSize.%dimension% * blurUniforms.uStrength;

  return VSOutput(
   filterVertexPosition(aPosition),
    %blur-vertex-out%
  );
}

@fragment
fn mainFragment(
  @builtin(position) position: vec4<f32>,
  %blur-fragment-in%
) -> @location(0) vec4<f32> {

    var   finalColor = vec4(0.0);

    %blur-sampling%

    return finalColor;
}`;function gR(n,e){let t=a0[e],r=t.length,i=[],s=[],a=[];for(let h=0;h<e;h++){i[h]=`@location(${h}) offset${h}: vec2<f32>,`,n?s[h]=`filteredCord + vec2(${h-r+1} * pixelStrength, 0.0),`:s[h]=`filteredCord + vec2(0.0, ${h-r+1} * pixelStrength),`;let d=h<r?h:e-h-1,f=t[d].toString();a[h]=`finalColor += textureSample(uTexture, uSampler, offset${h}) * ${f};`}let l=i.join(`
`),o=s.join(`
`),c=a.join(`
`),u=mR.replace("%blur-struct%",l).replace("%blur-vertex-out%",o).replace("%blur-fragment-in%",l).replace("%blur-sampling%",c).replace("%dimension%",n?"z":"w");return xA.from({vertex:{source:u,entryPoint:"mainVertex"},fragment:{source:u,entryPoint:"mainFragment"}})}var gG=(()=>{let n=class yR extends qm{constructor(t){t=W(W({},yR.defaultOptions),t);let r=pR(t.horizontal,t.kernelSize),i=gR(t.horizontal,t.kernelSize);super(W({glProgram:r,gpuProgram:i,resources:{blurUniforms:{uStrength:{value:0,type:"f32"}}}},t)),this.horizontal=t.horizontal,this._quality=0,this.quality=t.quality,this.blur=t.strength,this._uniforms=this.resources.blurUniforms.uniforms}apply(t,r,i,s){if(this._uniforms.uStrength=this.strength/this.passes,this.passes===1)t.applyFilter(this,r,i,s);else{let a=vu.getSameSizeTexture(r),l=r,o=a;this._state.blend=!1;let c=t.renderer.type===zm.WEBGPU;for(let u=0;u<this.passes-1;u++){t.applyFilter(this,l,o,u===0?!0:c);let h=o;o=l,l=h}this._state.blend=!0,t.applyFilter(this,l,i,s),vu.returnTexture(a)}}get blur(){return this.strength}set blur(t){this.padding=1+Math.abs(t)*2,this.strength=t}get quality(){return this._quality}set quality(t){this._quality=t,this.passes=t}};return n.defaultOptions={strength:8,quality:4,kernelSize:5},n})(),l0=gG;var eE=(()=>{class n extends qm{constructor(...t){let r=t[0]??{};typeof r=="number"&&(qr(jl,"BlurFilter constructor params are now options object. See params: { strength, quality, resolution, kernelSize }"),r={strength:r},t[1]!==void 0&&(r.quality=t[1]),t[2]!==void 0&&(r.resolution=t[2]||"inherit"),t[3]!==void 0&&(r.kernelSize=t[3])),r=W(W({},l0.defaultOptions),r);let c=r,{strength:i,strengthX:s,strengthY:a,quality:l}=c,o=Gi(c,["strength","strengthX","strengthY","quality"]);super(ve(W({},o),{compatibleRenderers:zm.BOTH,resources:{}})),this._repeatEdgePixels=!1,this.blurXFilter=new l0(W({horizontal:!0},r)),this.blurYFilter=new l0(W({horizontal:!1},r)),this.quality=l,this.strengthX=s??i,this.strengthY=a??i,this.repeatEdgePixels=!1}apply(t,r,i,s){let a=Math.abs(this.blurXFilter.strength),l=Math.abs(this.blurYFilter.strength);if(a&&l){let o=vu.getSameSizeTexture(r);this.blurXFilter.blendMode="normal",this.blurXFilter.apply(t,r,o,!0),this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(t,o,i,s),vu.returnTexture(o)}else l?(this.blurYFilter.blendMode=this.blendMode,this.blurYFilter.apply(t,r,i,s)):(this.blurXFilter.blendMode=this.blendMode,this.blurXFilter.apply(t,r,i,s))}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.blur),Math.abs(this.blurYFilter.blur))*2}get strength(){if(this.strengthX!==this.strengthY)throw new Error("BlurFilter's strengthX and strengthY are different");return this.strengthX}set strength(t){this.blurXFilter.blur=this.blurYFilter.blur=t,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(t){this.blurXFilter.quality=this.blurYFilter.quality=t}get strengthX(){return this.blurXFilter.blur}set strengthX(t){this.blurXFilter.blur=t,this.updatePadding()}get strengthY(){return this.blurYFilter.blur}set strengthY(t){this.blurYFilter.blur=t,this.updatePadding()}get blur(){return qr("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength}set blur(t){qr("8.3.0","BlurFilter.blur is deprecated, please use BlurFilter.strength instead."),this.strength=t}get blurX(){return qr("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX}set blurX(t){qr("8.3.0","BlurFilter.blurX is deprecated, please use BlurFilter.strengthX instead."),this.strengthX=t}get blurY(){return qr("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY}set blurY(t){qr("8.3.0","BlurFilter.blurY is deprecated, please use BlurFilter.strengthY instead."),this.strengthY=t}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(t){this._repeatEdgePixels=t,this.updatePadding()}}return n.defaultOptions={strength:8,quality:4,kernelSize:5},n})();var pa=class n extends $o{constructor(...e){let t=e[0];Array.isArray(e[0])&&(t={textures:e[0],autoUpdate:e[1]});let l=t,{textures:r,autoUpdate:i}=l,s=Gi(l,["textures","autoUpdate"]),[a]=r;super(ve(W({},s),{texture:a instanceof rn?a:a.texture})),this._textures=null,this._durations=null,this._autoUpdate=i??!0,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=r}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(df.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(df.shared.add(this.update,this,fA.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;let t=e.deltaTime,r=this.animationSpeed*t,i=this.currentFrame;if(this._durations!==null){let s=this._currentTime%1*this._durations[this.currentFrame];for(s+=r/60*1e3;s<0;)this._currentTime--,s+=this._durations[this.currentFrame];let a=Math.sign(this.animationSpeed*t);for(this._currentTime=Math.floor(this._currentTime);s>=this._durations[this.currentFrame];)s-=this._durations[this.currentFrame]*a,this._currentTime+=a;this._currentTime+=s/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):i!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<i||this.animationSpeed<0&&this.currentFrame>i)&&this.onLoop(),this._updateTexture())}_updateTexture(){let e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this.texture=this._textures[e],this.updateAnchor&&this.anchor.copyFrom(this.texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(){this.stop(),super.destroy(),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){let t=[];for(let r=0;r<e.length;++r)t.push(rn.from(e[r]));return new n(t)}static fromImages(e){let t=[];for(let r=0;r<e.length;++r)t.push(rn.from(e[r]));return new n(t)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof rn)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}this._previousFrame=null,this.gotoAndStop(0),this._updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);let t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this._updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(df.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(df.shared.add(this.update,this),this._isConnectedToTicker=!0))}};var _h=class extends mA{constructor(e,t){let h=e,{text:r,resolution:i,style:s,anchor:a,width:l,height:o,roundPixels:c}=h,u=Gi(h,["text","resolution","style","anchor","width","height","roundPixels"]);super(W({},u)),this.batched=!0,this._resolution=null,this._autoResolution=!0,this._didTextUpdate=!0,this._styleClass=t,this.text=r??"",this.style=s,this.resolution=i??null,this.allowChildren=!1,this._anchor=new hA({_onUpdate:()=>{this.onViewUpdate()}}),a&&(this.anchor=a),this.roundPixels=c??!1,l!==void 0&&(this.width=l),o!==void 0&&(this.height=o)}get anchor(){return this._anchor}set anchor(e){typeof e=="number"?this._anchor.set(e):this._anchor.copyFrom(e)}set text(e){e=e.toString(),this._text!==e&&(this._text=e,this.onViewUpdate())}get text(){return this._text}set resolution(e){this._autoResolution=e===null,this._resolution=e,this.onViewUpdate()}get resolution(){return this._resolution}get style(){return this._style}set style(e){e=e||{},this._style?.off("update",this.onViewUpdate,this),e instanceof this._styleClass?this._style=e:this._style=new this._styleClass(e),this._style.on("update",this.onViewUpdate,this),this.onViewUpdate()}get bounds(){return this._boundsDirty&&(this._updateBounds(),this._boundsDirty=!1),this._bounds}get width(){return Math.abs(this.scale.x)*this.bounds.width}set width(e){this._setWidth(e,this.bounds.width)}get height(){return Math.abs(this.scale.y)*this.bounds.height}set height(e){this._setHeight(e,this.bounds.height)}getSize(e){return e||(e={}),e.width=Math.abs(this.scale.x)*this.bounds.width,e.height=Math.abs(this.scale.y)*this.bounds.height,e}setSize(e,t){typeof e=="object"?(t=e.height??e.width,e=e.width):t??(t=e),e!==void 0&&this._setWidth(e,this.bounds.width),t!==void 0&&this._setHeight(t,this.bounds.height)}addBounds(e){let t=this.bounds;e.addFrame(t.minX,t.minY,t.maxX,t.maxY)}containsPoint(e){let t=this.bounds.width,r=this.bounds.height,i=-t*this.anchor.x,s=0;return e.x>=i&&e.x<=i+t&&(s=-r*this.anchor.y,e.y>=s&&e.y<=s+r)}onViewUpdate(){if(this._didViewChangeTick++,this._boundsDirty=!0,this.didViewUpdate)return;this.didViewUpdate=!0,this._didTextUpdate=!0;let e=this.renderGroup||this.parentRenderGroup;e&&e.onChildViewUpdate(this)}_getKey(){return`${this.text}:${this._style.styleKey}:${this._resolution}`}destroy(e=!1){super.destroy(e),this.owner=null,this._bounds=null,this._anchor=null,(typeof e=="boolean"?e:e?.style)&&this._style.destroy(e),this._style=null,this._text=null}};function c0(n,e){let t=n[0]??{};return(typeof t=="string"||n[1])&&(qr(jl,`use new ${e}({ text: "hi!", style }) instead`),t={text:t,style:n[1]}),t}var ma=class extends _h{constructor(...e){let t=c0(e,"Text");super(t,Hl),this.renderPipeId="text"}_updateBounds(){let e=this._bounds,t=this._anchor,r=bA.measureText(this._text,this._style),{width:i,height:s}=r;e.minX=-t._x*i,e.maxX=e.minX+i,e.minY=-t._y*s,e.maxY=e.minY+s}};var hc=class extends _h{constructor(...e){var t;let r=c0(e,"BitmapText");r.style??(r.style=r.style||{}),(t=r.style).fill??(t.fill=16777215),super(r,Hl),this.renderPipeId="bitmapText"}_updateBounds(){let e=this._bounds,t=this._anchor,r=ff.measureText(this.text,this._style),i=r.scale,s=r.offsetY*i,a=r.width*i,l=r.height*i,o=this._style._stroke;o&&(a+=o.width,l+=o.width),e.minX=-t._x*a,e.maxX=e.minX+a,e.minY=-t._y*(l+s),e.maxY=e.minY+l}};var yG=Ul(vA(),1);$i.add(UD,jD);var De=class extends Gl{vo;constructor(){super()}};var ue=class n{static doSomething(e){return e}static doSomethingElse(e){return e}static updateValues(e,t,r){Object.keys(e).forEach(i=>{Object.prototype.hasOwnProperty.call(e,i)&&(e[i]=e[i].replace(t,r))})}static updateValue(e,t,r){return e.replace(t,r)}static replaceGameName(e,t){return e.replace("${gameName}",t)}static replaceKey(e,t,r){let i=new RegExp(`\\$\\{${t}\\}`,"g");return e.replace(i,r)}static customMerge(e,t){let r=W({},e);return Object.keys(t).forEach(i=>{Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e[i]&&typeof e[i]=="object"?this.customMerge(e[i],t[i]):t[i])}),r}static getContainer(e,t){let r=new De;return r.label=e.label||"",n.setProp(r,e.prop),t.addChild(r),r}static getSprite(e){typeof e=="string"&&(e={frameId:e});let t=$o.from(e.frameId);return t.label=e.frameId,n.setProp(t,e.prop),t}static getSpriteAdd(e,t){let r=n.getSprite(e);return t.addChild(r),r}static getTexture(e){e?typeof e=="string"&&(e={frameId:e}):(console.log("getSprite ==> obj = ",e),e={frameId:""});let t={};try{t=rn.from(e.frameId)}catch(r){console.log("PixiUtils:: getTexture ==> error = ",e.frameId,r)}return t}static setProp(e,t){t&&(e.anchor={x:t?.ax||0,y:t?.ay||0},e.pivot={x:t?.px||0,y:t?.py||0},e.scale={x:t?.sx||1,y:t?.sy||1},e.position.set(t?.x||0,t?.y||0),e.visible=t?.visible??!0)}static setTxtProp(e,t){t&&(e.anchor.set(0,0),e.x=t.x||0,e.y=t.y||0)}static getTextFromCode(e){return e}static getText(e,t){typeof e.txtCode=="string"&&(e={txtCode:e.txtCode,sty:e.sty,prop:e.prop});let r=new ma({text:n.getTextFromCode(e.txtCode),style:e.sty});return r.label=e.txtCode,n.setProp(r,e.prop),e.sty&&n.updateFontSize(r,e.sty.fontSize),t&&t.addChild(r),r}static updateFontSize(e,t){e.style.fontSize=2*Number(t),e.scale.set(.5)}static getManifestBundle(e,t,r){let i={manifest:{bundles:[]}},s={};return Object.keys(e[t]).forEach(a=>{s[a]=r+e[t][a]}),i.manifest.bundles.push({name:t,assets:s}),i}static get isMobile(){return Hi.any}static get isLandscape(){return document.documentElement.clientWidth>document.documentElement.clientHeight}};var dc=class extends $o{constructor(){super()}};var Gn=class extends dc{isHover=!1;isDown=!1;callback;normalTxr;hoverTxr;downTxr;disableTxr;constructor(e,t,r){super(),this.callback=r,this.normalTxr=ue.getTexture(`${e.frameId}_normal`),this.hoverTxr=ue.getTexture(`${e.frameId}_hover`),this.downTxr=ue.getTexture(`${e.frameId}_down`),this.disableTxr=ue.getTexture(`${e.frameId}_disabled`),this.label=e.label,this.texture=this.normalTxr,this.anchor.set(e.ax,e.ay),this.setDisable(!1),this.on("pointerdown",this.onButtonDown.bind(this)).on("pointerup",this.onButtonUp.bind(this)).on("pointerupoutside",this.onButtonUpOutSide.bind(this)).on("pointerover",this.onButtonHover.bind(this)).on("pointerout",this.onButtonOut.bind(this)),ue.setProp(this,e.prop),t&&t.addChild(this)}setDisable(e){this.eventMode=e?"none":"static",this.cursor=e?"auto":"pointer",this.texture=e?this.disableTxr:this.normalTxr}onButtonDown(){this.isDown||(this.isDown=!0,this.isHover=!0,this.texture=this.downTxr)}onButtonUp(){this.isDown&&(this.isDown=!1,this.texture=this.isHover?this.hoverTxr:this.normalTxr,this.callback())}onButtonUpOutSide(){}onButtonHover(){this.isDown||(this.isHover=!0,this.texture=this.hoverTxr)}onButtonOut(){this.isDown||(this.isHover=!1,this.texture=this.normalTxr)}updateCurTexture(){this.texture=this.isHover?this.hoverTxr:this.normalTxr}};var Ds=class extends De{onBtn;offBtn;isOn=!1;callback;constructor(e,t,r){super(),this.vo=e,this.label=e.name,this.callback=r,this.onBtn=new Gn(this.vo.on,this,this.onButtonUp.bind(this)),this.offBtn=new Gn(this.vo.off,this,this.onButtonUp.bind(this)),this.toggleBtn(!1),ue.setProp(this,this.vo.prop),t&&t.addChild(this)}toggleBtn(e){this.isOn=e,this.onBtn.visible=!e,this.offBtn.visible=e}setDisable(e){this.eventMode=e?"none":"static",this.cursor=e?"auto":"pointer",this.onBtn.setDisable(e),this.offBtn.setDisable(e)}onButtonUp(){this.toggleBtn(!this.isOn),this.callback()}};var Rs=class extends rn{constructor(){super()}};var Dr=class extends uv{constructor(){super()}};var tE=(()=>{class n{http;_httpOptions={headers:new ti({"Content-Type":"application/json"})};config={path:"./assets/common/data/config.json",gamePath:"assets/${gameName}/"};callback;constructor(t){this.http=t}getData(t){return this.http.get(t).pipe(io(1),In(this.handleError))}getGameBg(t){return this.config.commonPath=this.replaceKey(this.config.gamePath,"gameName","common"),this.config.gamePath=this.replaceKey(this.config.gamePath,"gameName",t),`${this.config.gamePath}images/background.png`}loadConfig(t){this.callback=t,console.log("App:: Loading Common Config.."),this.getData(this.config.path).subscribe(r=>{this.config=this.customMerge(this.config,r),t(this.config,{type:"init",status:10}),this.loadGameConfig(t)})}loadGameConfig(t){console.log("App:: Loading Game Config..");let r=`${this.config.gamePath}${this.config.gameConfig.filePaths.config}`;this.getData(r).subscribe(i=>{this.config=this.customMerge(this.config,i),t(this.config,{type:"config",status:20}),this.loadFonts(this.config.resources.fonts,t)})}loadFont(t){return new FontFace(t.id,`url(${t.files[0]})`).load()}loadFonts(t,r){console.log("App:: Loading Fonts..");let i=t.families.map(s=>{s.files[0]=`${this.config.gamePath}${t.directory}${s.files[0]}`;let a=document.createElement("style");return a.textContent=`@font-face { font-family: "${s.id}"; src: url("${s.files[0]}"); }`,document.head.appendChild(a),this.loadFont(s)});Promise.all(i).then(()=>{r(this.config,{type:"font",status:30}),this.updateManifest(r)})}updateManifest(t){this.config.commonPath=this.replaceKey(`${this.config.commonPath+this.config.resources.images.path}`,"resolution","1"),this.config.gamePath=this.replaceKey(`${this.config.gamePath+this.config.resources.images.path}`,"resolution","1");let r=this.getManifest();ii.init({manifest:r}),this.loadGameAssets(t)}loadGameAssets(t){console.log("App:: Loading Assets..");let r=Object.keys(this.config.resources.images.bundles);ii.loadBundle(r,this.onAssetsProgress.bind(this)).then(i=>{this.config.textures=i,t(this.config,{type:"assets",status:100})})}onAssetsProgress(t){console.log("App:: Assets Loading Progress..",t),this.callback(this.config,{type:"progress",status:t*100})}handleError(t){let r=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}
Message: ${t.message}`;return window.alert(r),_i(()=>r)}replaceKey(t,r,i){return t.replace(new RegExp(`\\$\\{${r}\\}`,"g"),i)}customMerge(t,r){let i=W({},t);for(let s in r)Object.prototype.hasOwnProperty.call(r,s)&&(i[s]=t[s]&&t[s].toString()==="[object Object]"?this.customMerge(t[s],r[s]):r[s]);return i}getManifest(){let t={bundles:[]},r=this.config.resources.images.bundles;for(let i in r)if(Object.prototype.hasOwnProperty.call(r,i)){let s=r[i]||[],a=Hi.any?"desktop":"mobile",l=s.filter(o=>o.alias!==a).map(o=>ve(W({},o),{src:o.alias==="common"?`${this.config.commonPath}${o.src}`:`${this.config.gamePath}${o.src}`}));t.bundles.push({name:i,assets:l})}return t}static \u0275fac=function(r){return new(r||n)(he(uo))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var fc=class extends Gl{preload(){}create(){}update(e,t){}onResize(e,t,r,i){}get device(){return Hi.any?"mobile":"desktop"}};var st=function(n){return n.INITIALIZE_COMPLETE="initializeComplete",n.INITIALIZE_ERROR="initializeError",n.RESIZE="resize",n.UPDATE="update",n.FOCUS="focus",n.VOLUME="volume",n.SETTINGS="settings",n}(st||{}),dp=class extends lv{app;_canvasId;gameConfig;constructor(e="pixiCanvas",t){super(),this.gameConfig=t,this.app=new Jy,this._canvasId=e}initApp(){return B(this,null,function*(){try{console.log("PixiApp:: Initializing..."),yield this.app.init(this.gameConfig);let e=document.getElementById(this._canvasId);e&&e.appendChild(this.app.canvas),globalThis.__PIXI_APP__=this.app,console.log(`Application v${Qm} initialized successfully!`),this.emit(st.INITIALIZE_COMPLETE,this),this.setupResizeHandling(),this.setupFocusHandling(),this.app.ticker.add(t=>this.update(t))}catch(e){console.error(`Application v${Qm} failed. Error: ${e}`),this.emit(st.INITIALIZE_ERROR,e)}})}removeChild(e){this.app.stage.removeChild(e)}addChild(e){this.app.stage.addChild(e)}onResize(){try{let e=Math.max(document.documentElement.clientWidth||0),t=Math.max(document.documentElement.clientHeight||0),r=Math.min(e/this.gameConfig.width,t/this.gameConfig.height),i=e/this.gameConfig.width,s=t/this.gameConfig.height;console.log("PixiApp:: onResize =>",e,t,i,s),Hi.any?(this.app.renderer.resize(e,t),this.emit(st.RESIZE,e,t,i,s)):(this.app.stage.scale.set(r),this.app.renderer.resize(r*this.gameConfig.width,r*this.gameConfig.height),this.emit(st.RESIZE,this.gameConfig.width,this.gameConfig.height,r,r))}catch(e){console.log("PixiApp:: onResize =>",e)}}update(e){this.emit(st.UPDATE,e,this.app.ticker.elapsedMS)}setupResizeHandling(){window.addEventListener("resize",this.resizeHandler.bind(this)),window.addEventListener("orientationchange",this.resizeHandler.bind(this)),this.onResize()}resizeHandler(){this.onResize(),setTimeout(this.onResize.bind(this),100)}setupFocusHandling(){window.addEventListener("blur",this.lostFocus.bind(this),!1),window.addEventListener("focus",this.hasFocus.bind(this),!1)}lostFocus(){console.log("FOCUS LOST!"),ee.emit(st.FOCUS,!1)}hasFocus(){console.log("Has FOCUS"),ee.emit(st.FOCUS,!0)}onDestroy(){window.removeEventListener("resize",this.onResize.bind(this)),window.removeEventListener("orientationchange",this.resizeHandler.bind(this)),window.removeEventListener("blur",this.lostFocus.bind(this),!1),window.removeEventListener("focus",this.hasFocus.bind(this),!1)}};var pc=class extends De{animSym;constructor(e){super();let t=[];for(let r=e.startFrame;r<=e.endFrame;r++){let i=r.toString().padStart(3,"0");t.push(Rs.from(e.filename+i))}try{this.animSym=new pa(t),this.animSym.anchor.set(e.anchorX,e.anchorY),this.animSym.animationSpeed=e.speed,this.animSym.play(),this.addChild(this.animSym)}catch(r){console.log("PixiAnimation :: ==> ",r)}}stop(){this.animSym?.stop()}play(){this.animSym?.play()}};var xR=n=>({enabled:n}),vG=n=>({active:n});function _G(n,e){if(n&1){let t=aa();A(0,"div",12)(1,"label",14)(2,"input",15),bt("input",function(i){let s=ra(t).$implicit,a=Ms();return ia(a.updateCheckbox(i,s))}),T(),re(3,"span",16),A(4,"div",17),M(5),T()()()}if(n&2){let t=e.$implicit;yt(2),er("checked",t.checked),yt(3),Lf(t.content)}}function bG(n,e){if(n&1){let t=aa();A(0,"div",26),bt("click",function(i){let s=ra(t).$implicit,a=Ms();return ia(a.updateAutoPlay(i,s))}),M(1),T()}if(n&2){let t=e.$implicit;er("ngClass",Mr(2,vG,t.checked)),yt(),eh(" ",t.content," ")}}var vR=(()=>{class n{isOptionActive=!0;options=[{title:"sound_effect",content:"Sound Effects",checked:!0},{title:"ambience_sound",content:"Ambience Sound",checked:!0},{title:"skip_big_win_sound",content:"Skip Big Win Animation",checked:!1},{title:"quick_spin",content:"Quick Spin",checked:!1},{title:"space_bar",content:"Press space bar to spin/stop",checked:!0}];autoSpinNumOptions=[{title:"10",content:"10",checked:!0},{title:"50",content:"50",checked:!1},{title:"100",content:"100",checked:!1},{title:"500",content:"500",checked:!1},{title:"1000",content:"1000",checked:!1}];panelClosed=ly();curVolume=100;curWinLimit=10;curLossLimit=10;isWinLimitActive=!1;isLossLimitActive=!1;stopOnAnyWin;stopOnSingleWinLimit;stopOnSessionLossLimit;onMuteVolume(t){this.log("onMuteVolume",t),this.curVolume=t?100:0,ee.emit(st.VOLUME,this.curVolume)}updateVolume(t){this.curVolume=t.target.value,ee.emit(st.VOLUME,this.curVolume)}updateCheckbox(t,r){r.checked=t.target.checked,this.log("updateCheckbox",t,r.title,r,t.target.checked),ee.emit(st.SETTINGS,r)}updateStopOnAnyWin(t){this.stopOnAnyWin=t.target.checked,this.stopOnAnyWin&&(this.isWinLimitActive=!1),this.log("updateAutoSpinOption stopOnAnyWin => ",t,t.target.checked,this.stopOnAnyWin),ee.emit(st.SETTINGS,{title:"stopOnAnyWin",checked:t.target.checked})}updateWinLimit(t){this.curWinLimit=t.target.value,ee.emit(st.SETTINGS,{title:"winLimit",value:this.curWinLimit})}updateLossLimit(t){this.curLossLimit=t.target.value,ee.emit(st.SETTINGS,{title:"lossLimit",value:this.curLossLimit})}updateWinLimitState(t){this.isWinLimitActive=t.target.checked,this.isWinLimitActive&&(this.stopOnAnyWin=!1),this.log("updateWinLimitState",t,t.target.checked),ee.emit(st.SETTINGS,{title:"winLimitState",value:this.curWinLimit,checked:t.target.checked})}updateLossLimitState(t){this.isLossLimitActive=t.target.checked,this.log("updateLossLimitState",t,t.target.checked),ee.emit(st.SETTINGS,{title:"lossLimitState",value:this.curLossLimit,checked:t.target.checked})}updateAutoPlay(t,r){this.autoSpinNumOptions.forEach(i=>{i.checked=!1}),r.checked=!0,this.log("updateAutoPlay",t,t.target,r),ee.emit(st.SETTINGS,{title:"updateAutoPlay",value:r.content})}onHistoryBtn(){this.log("onHistoryBtn"),this.panelClosed.emit()}getContent(){let t=this.autoSpinNumOptions.find(r=>r.checked);return t?t.content:null}onAutoPlayBtn(){this.log("onHistoryBtn"),ee.emit(st.SETTINGS,{title:"autoPlayStart",value:this.getContent()}),this.panelClosed.emit()}onClose(){this.log("onClose"),this.panelClosed.emit()}onOptions(){ee.emit("option",!1),this.isOptionActive=!0}onAutoSpin(){ee.emit("autospin",!1),this.isOptionActive=!1}log(t,r,i,s,a){console.log(t,r,i,s,a)}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gn({type:n,selectors:[["app-settings"]],outputs:{panelClosed:"panelClosed"},standalone:!0,features:[xn],decls:63,vars:14,consts:[[1,"wrap-settings","prevent-select"],[1,"settings-header"],[1,"settings-header-title"],[1,"settings-header-close",3,"click"],[1,"settings-content"],[1,"settings-options"],[1,"settings-content-title"],[1,"settings-volume"],[1,"volumeRange"],["src","assets/common/images/settings/muteIcon.png","alt","Mute Icon",3,"click"],["type","range","min","0","max","100","id","myRange",1,"volumeSlider",3,"input","value"],["src","assets/common/images/settings/unmuteIcon.png","alt","Unmute Icon",3,"click"],[1,"checkBox"],[1,"settings-autospin"],[1,"container"],["type","checkbox",3,"input","checked"],[1,"checkmark"],[1,"checklabel"],[1,"winLimit",3,"ngClass"],[1,"num"],["type","range","min","1","max","200","id","myRange",1,"volumeSlider",3,"input","value"],[1,"losslimit",3,"ngClass"],[1,"auto-play"],[1,"num-container"],[1,"num",3,"ngClass"],[1,"historyBtn",3,"click"],[1,"num",3,"click","ngClass"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1)(2,"div",2),M(3,"Game Settings"),T(),A(4,"span",3),bt("click",function(){return i.onClose()}),T()(),A(5,"div",4)(6,"div",5)(7,"div",6),M(8,"Options Settings"),T(),A(9,"div",7)(10,"div"),M(11,"Volume"),T(),A(12,"div",8)(13,"img",9),bt("click",function(){return i.onMuteVolume(!1)}),T(),A(14,"input",10),bt("input",function(a){return i.updateVolume(a)}),T(),A(15,"img",11),bt("click",function(){return i.onMuteVolume(!0)}),T()()(),Bb(16,_G,6,2,"div",12,Lb),T(),A(18,"div",13)(19,"div",6),M(20,"Auto Spin Settings"),T(),A(21,"div",12)(22,"label",14)(23,"input",15),bt("input",function(a){return i.updateStopOnAnyWin(a)}),T(),re(24,"span",16),A(25,"div",17),M(26,"Stop on any win"),T()()(),A(27,"div",12)(28,"label",14)(29,"input",15),bt("input",function(a){return i.updateWinLimitState(a)}),T(),re(30,"span",16),A(31,"div",17),M(32,"Stop on single win limit"),T()()(),A(33,"div",18)(34,"div",19),M(35),T(),A(36,"span"),M(37,"1"),T(),A(38,"input",20),bt("input",function(a){return i.updateWinLimit(a)}),T(),A(39,"span"),M(40,"200"),T()(),A(41,"div",12)(42,"label",14)(43,"input",15),bt("input",function(a){return i.updateLossLimitState(a)}),T(),re(44,"span",16),A(45,"div",17),M(46,"Stop on session loss limit"),T()()(),A(47,"div",21)(48,"div",19),M(49),T(),A(50,"span"),M(51,"1"),T(),A(52,"input",20),bt("input",function(a){return i.updateLossLimit(a)}),T(),A(53,"span"),M(54,"200"),T()(),A(55,"div",22)(56,"div"),M(57,"Auto Play"),T(),A(58,"div",23),Bb(59,bG,2,4,"div",24,Lb),T()(),A(61,"div",25),bt("click",function(){return i.onAutoPlayBtn()}),M(62,"START"),T()()()()),r&2&&(yt(14),er("value",i.curVolume),yt(2),Vb(i.options),yt(7),er("checked",i.stopOnAnyWin),yt(6),er("checked",i.isWinLimitActive),yt(4),er("ngClass",Mr(10,xR,i.isWinLimitActive)),yt(2),Lf(i.curWinLimit),yt(3),er("value",i.curWinLimit),yt(5),er("checked",i.isLossLimitActive),yt(4),er("ngClass",Mr(12,xR,i.isLossLimitActive)),yt(2),Lf(i.curLossLimit),yt(3),er("value",i.curLossLimit),yt(7),Vb(i.autoSpinNumOptions))},dependencies:[Dn,Ey,VD],styles:['.wrap-settings[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;width:100%;height:100%;color:#fff;gap:14px}.wrap-settings[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;position:relative;width:100%}.wrap-settings[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]   .settings-header-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;text-align:center;width:100%}.wrap-settings[_ngcontent-%COMP%]   .settings-header[_ngcontent-%COMP%]   .settings-header-close[_ngcontent-%COMP%]{background:url(./assets/common/images/rules/close.png) no-repeat center/contain;width:35px;height:35px;cursor:pointer}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]{display:flex;gap:50px;max-width:740px;width:100%;overflow-y:auto}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-content-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:20px;width:50%}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]{display:flex;flex-direction:column;font-size:18px;width:300px}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;height:40px;width:100%}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   img[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:36px;cursor:pointer}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:100%;height:10px;border-radius:4px;background:#680141;outline:none;transition:opacity .2s}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]:hover, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]:hover{opacity:1}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-webkit-slider-thumb, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:50%;background:#e70a7b;cursor:pointer}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-moz-range-thumb, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-moz-range-thumb{appearance:none;width:25px;height:25px;border-radius:50%;background:#e70a7b;cursor:pointer}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-moz-range-progress, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .settings-volume[_ngcontent-%COMP%]   .volumeRange[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-moz-range-progress{background-color:green;height:1em}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]{display:block;font-size:18px;-webkit-user-select:none;user-select:none}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:12px;height:30px;position:relative}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .checklabel[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .checklabel[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{cursor:pointer}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{position:absolute;opacity:0;height:0;width:0}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background-color:#e70a7b;border:1px solid #e70a7b}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]{width:26px;height:24px;border-radius:2px;border:1px solid #78178c}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .checkBox[_ngcontent-%COMP%]   .checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:9px;top:6px;width:6px;height:12px;border:solid #01091c;border-width:0 3px 3px 0;transform:rotate(45deg)}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]{display:flex;gap:12px;align-items:center;width:300px;opacity:.4;pointer-events:none}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]{appearance:none;-webkit-appearance:none;width:100%;height:10px;border-radius:4px;background:#680141;outline:none;transition:opacity .2s}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]:hover, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]:hover, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]:hover, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]:hover{opacity:1}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-webkit-slider-thumb, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-webkit-slider-thumb, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-webkit-slider-thumb, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;border-radius:50%;background:#e70a7b;cursor:pointer}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-moz-range-thumb, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-moz-range-thumb, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-moz-range-thumb, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .volumeSlider[_ngcontent-%COMP%]::-moz-range-thumb{appearance:none;width:25px;height:25px;border-radius:50%;background:#e70a7b;cursor:pointer}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .num[_ngcontent-%COMP%]{width:70px;text-align:center;border:1px solid #78178c;border-radius:2px;height:32px;display:flex;justify-content:center;align-items:center}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .winLimit[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .losslimit[_ngcontent-%COMP%]   .range[_ngcontent-%COMP%]{display:flex;gap:10px;align-items:center}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .winLimit.enabled[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .losslimit.enabled[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .winLimit.enabled[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .losslimit.enabled[_ngcontent-%COMP%]{pointer-events:auto;opacity:1}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]{display:flex;gap:8px;flex-direction:column;padding-top:2px}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]   .num-container[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]   .num-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]   .num-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]   .num-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:50px;text-align:center;border:1px solid #78178c;cursor:pointer;border-radius:2px;padding:4px}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]   .num-container[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]   .num-container[_ngcontent-%COMP%]   div.active[_ngcontent-%COMP%]{background-color:#e70a7b;border:1px solid #e70a7b}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]   .num-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover, .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .auto-play[_ngcontent-%COMP%]   .num-container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:hover{background-color:#e70a7b}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%]   .historyBtn[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]   .historyBtn[_ngcontent-%COMP%]{cursor:pointer;width:120px;height:36px;display:flex;align-items:center;justify-content:center;background-color:#e70a7b;color:#fff;border-radius:2px;font-size:18px;font-weight:700}@media screen and (max-width: 768px){.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]{flex-direction:column;gap:40px;padding-right:60px;width:auto}.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-options[_ngcontent-%COMP%], .wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]   .settings-autospin[_ngcontent-%COMP%]{width:100%}}@media screen and (max-width: 430px){.wrap-settings[_ngcontent-%COMP%]   .settings-content[_ngcontent-%COMP%]{padding-right:0;width:100%}}']})}return n})();var _R=(()=>{class n{panelClosed=ly();onClose(){console.log("onClose"),this.panelClosed.emit()}static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gn({type:n,selectors:[["app-game-rules"]],outputs:{panelClosed:"panelClosed"},standalone:!0,features:[xn],decls:375,vars:0,consts:[[1,"wrap-rules","prevent-select"],[1,"rules-header"],[1,"rules-header-title"],[1,"rules-header-close",3,"click"],[1,"rules-content"],[1,"txtCenter"],[1,""],["type","none"],[1,"centerContent"],["src","./assets/scarybook/images/symbols/w.png","alt","","srcset","",2,"width","160px"],[1,"paytableGrid"],[1,"highPaySym"],[1,"paySym","paySymHeader"],["src","./assets/scarybook/images/symbols/a.png"],[1,"payGrid"],[1,"paySym"],["src","./assets/scarybook/images/symbols/b.png"],["src","./assets/scarybook/images/symbols/c.png"],["src","./assets/scarybook/images/symbols/d.png"],[1,"lowPaySym"],["src","./assets/scarybook/images/symbols/e.png"],["src","./assets/scarybook/images/symbols/f.png"],["src","./assets/scarybook/images/symbols/g.png"],["src","./assets/scarybook/images/symbols/h.png"],["src","./assets/scarybook/images/symbols/i.png"],["src","./assets/scarybook/images/symbols/j.png"],["src","./assets/scarybook/images/symbols/k.png"],[1,"settingsPanel"],["src","./assets/scarybook/images/symbols/winLines.png"],[2,"width","16%"],[1,"iconTD"],["src","./assets/common/images/rules/menuIcon.png"],["src","./assets/common/images/rules/settingIcon.png"],["src","./assets/common/images/rules/infoIcon.png"],["src","./assets/common/images/rules/unmuteIcon.png"],["src","./assets/common/images/rules/spinBtn.png"],["src","./assets/common/images/rules/quickBtn.png"],["src","./assets/common/images/rules/autoSpinBtn.png"],["src","./assets/common/images/rules/closeIcon.png"],[1,"para"],["src","./assets/common/images/rules/settings.png"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1)(2,"div",2),M(3,"Scary Book Game Rules"),T(),A(4,"span",3),bt("click",function(){return i.onClose()}),T()(),A(5,"div",4)(6,"p",5),M(7,"By playing our games, you agree that you do not find them offensive, unfair or indecent. "),T(),A(8,"h4",6),M(9,"How to Play Slots:"),T(),A(10,"ul")(11,"li"),M(12,"Choose the amount you would like to bet with. Control the bet amount by clicking the plus or minus button next to the Stake/Bet. "),T(),A(13,"li"),M(14,"Your winnings are automatically added to your account balance. You can see your Total Win displayed in the "),A(15,"b"),M(16,"WINNING"),T(),M(17," on the screen."),T()(),A(18,"h4",6),M(19,"Game Rules:"),T(),A(20,"ul")(21,"li"),M(22,"The game is played with 10 fixed paylines."),T(),A(23,"li"),M(24,"Payouts are made according to the paytable."),T(),A(25,"li"),M(26,"All symbols pay from left to right in consecutive order."),T(),A(27,"li"),M(28,"Pay line wins are multiplied by coin value."),T(),A(29,"li"),M(30,"Only the highest win per active pay line is paid."),T(),A(31,"li"),M(32,"Malfunction voids all pays and plays."),T(),A(33,"li"),M(34,"For this game, the long-term expected payback is 96.00%"),T()(),A(35,"h4",6),M(36,"GAME FEATURES:"),T(),A(37,"h4",6),M(38,"FREE SPINS FEATURE:"),T(),A(39,"ul")(40,"li"),M(41,"3 or more Scatter Symbols appearing on the reels awards 45 Free Spins."),T(),A(42,"li"),M(43,"3 or more Scatter symbols awards Free Spins and prize in both Main game and Free game."),T()(),A(44,"ul")(45,"li"),M(46,"During Main game, if player is triggered with"),T(),A(47,"li",7),M(48,"2 Scatter symbols awards 2x bet."),T(),A(49,"li",7),M(50,"3 Scatter symbol awards 45 free spins and 5 x Bet."),T(),A(51,"li",7),M(52,"4 Scatter symbol awards 45 free spins and 20 x Bet."),T(),A(53,"li",7),M(54,"5 Scatter symbol awards 45 free spins and 500 x Bet."),T()(),A(55,"ul")(56,"li"),M(57,"Free Spins can be re-triggered."),T(),A(58,"li"),M(59,"During Free game, if player is triggered with"),T(),A(60,"li",7),M(61,"2 Scatter symbols awards 2x bet."),T(),A(62,"li",7),M(63,"3 Scatter symbol awards 45 free spins and 5 x Bet."),T(),A(64,"li",7),M(65,"4 Scatter symbol awards 45 free spins and 20 x Bet."),T(),A(66,"li",7),M(67,"5 Scatter symbol awards 45 free spins and 500 x Bet."),T()(),A(68,"div",8)(69,"h5",6),M(70,"Wild Symbol"),T(),re(71,"img",9),A(72,"span"),M(73,"Wild Symbol substitute for all except Scatter Symbols."),T(),A(74,"span"),M(75,"WILD symbols in a winning combination double the prize."),T()(),A(76,"h5",6),M(77,"SYMBOLS:"),T(),A(78,"div",10)(79,"div",11)(80,"div",12),re(81,"img",13),A(82,"div",14)(83,"p",6),M(84,"x5"),T(),A(85,"p",6),M(86,"x4"),T(),A(87,"p",6),M(88,"x3"),T(),A(89,"p",6),M(90,"x2"),T()()(),A(91,"div",15),re(92,"img",13),A(93,"div",14)(94,"p",6),M(95,"100"),T(),A(96,"p",6),M(97,"30"),T(),A(98,"p",6),M(99,"4"),T(),A(100,"p",6),M(101,"2"),T()()(),A(102,"div",15),re(103,"img",16),A(104,"div",14)(105,"p",6),M(106,"100"),T(),A(107,"p",6),M(108,"30"),T(),A(109,"p",6),M(110,"4"),T()()(),A(111,"div",15),re(112,"img",17),A(113,"div",14)(114,"p",6),M(115,"100"),T(),A(116,"p",6),M(117,"30"),T(),A(118,"p",6),M(119,"4"),T()()(),A(120,"div",15),re(121,"img",18),A(122,"div",14)(123,"p",6),M(124,"100"),T(),A(125,"p",6),M(126,"30"),T(),A(127,"p",6),M(128,"4"),T()()()(),A(129,"div",19)(130,"div",12),re(131,"img",20),A(132,"div",14)(133,"p",6),M(134,"x5"),T(),A(135,"p",6),M(136,"x4"),T(),A(137,"p",6),M(138,"x3"),T()()(),A(139,"div",15),re(140,"img",20),A(141,"div",14)(142,"p",6),M(143,"120"),T(),A(144,"p",6),M(145,"50"),T(),A(146,"p",6),M(147,"10"),T()()(),A(148,"div",15),re(149,"img",21),A(150,"div",14)(151,"p",6),M(152,"120"),T(),A(153,"p",6),M(154,"50"),T(),A(155,"p",6),M(156,"10"),T()()(),A(157,"div",15),re(158,"img",22),A(159,"div",14)(160,"p",6),M(161,"250"),T(),A(162,"p",6),M(163,"70"),T(),A(164,"p",6),M(165,"20"),T()()(),A(166,"div",15),re(167,"img",23),A(168,"div",14)(169,"p",6),M(170,"250"),T(),A(171,"p",6),M(172,"70"),T(),A(173,"p",6),M(174,"20"),T()()(),A(175,"div",15),re(176,"img",24),A(177,"div",14)(178,"p",6),M(179,"400"),T(),A(180,"p",6),M(181,"100"),T(),A(182,"p",6),M(183,"20"),T()()()(),A(184,"div",19)(185,"div",12),re(186,"img",20),A(187,"div",14)(188,"p",6),M(189,"x5"),T(),A(190,"p",6),M(191,"x4"),T(),A(192,"p",6),M(193,"x3"),T(),A(194,"p",6),M(195,"x2"),T()()(),A(196,"div",15),re(197,"img",25),A(198,"div",14)(199,"p",6),M(200,"800"),T(),A(201,"p",6),M(202,"120"),T(),A(203,"p",6),M(204,"30"),T(),A(205,"p",6),M(206,"2"),T()()(),A(207,"div",15),re(208,"img",26),A(209,"div",14)(210,"p",6),M(211,"800"),T(),A(212,"p",6),M(213,"120"),T(),A(214,"p",6),M(215,"30"),T(),A(216,"p",6),M(217,"2"),T()()()()(),A(218,"h5",6),M(219,"PAYLINES"),T(),A(220,"div",27),re(221,"img",28),T(),re(222,"br"),A(223,"h4",6),M(224,"Game Controls:"),T(),A(225,"p",6),M(226,"This section lists the different buttons found in the game and describes their functions."),T(),re(227,"br"),A(228,"table")(229,"tr")(230,"th",29),M(231,"Buttons"),T(),A(232,"th"),M(233,"Function"),T()(),A(234,"tr")(235,"td",30),re(236,"img",31),T(),A(237,"td"),M(238,"Click/Tap to open menu"),T()(),A(239,"tr")(240,"td",30),re(241,"img",32),T(),A(242,"td"),M(243,"Click/Tap to open the GAME SETTINGS"),T()(),A(244,"tr")(245,"td",30),re(246,"img",33),T(),A(247,"td"),M(248,"Click to open the GAME RULES"),T()(),A(249,"tr")(250,"td",30),re(251,"img",34),T(),A(252,"td"),M(253,"Click/Tap to switch Sound on/off"),T()(),A(254,"tr")(255,"td",30),re(256,"img",35),T(),A(257,"td"),M(258,"Click/Tap to Spin"),T()(),A(259,"tr")(260,"td",30),re(261,"img",36),T(),A(262,"td"),M(263,"Click to Quick spin to spin fast "),T()(),A(264,"tr")(265,"td",30),re(266,"img",37),T(),A(267,"td"),M(268,"Click/Tap to open Auto-bet"),T()(),A(269,"tr")(270,"td",30),re(271,"img",38),T(),A(272,"td"),M(273,"Click/Tap the X button to return to the game"),T()()(),re(274,"br"),A(275,"p",39),M(276,"You can place restrictions on gameplay by following any of these options:"),T(),A(277,"ul")(278,"li"),M(279,"Stop on any win: "),A(280,"b"),M(281,"Auto-bet"),T(),M(282," function is stopped when you get any winning combination."),T(),A(283,"li"),M(284,"Stop on single win limit: Based on the limit value selected, the "),A(285,"b"),M(286,"Auto-bet"),T(),M(287," function is stopped when your total win in a single game reaches the selected value."),T(),A(288,"li"),M(289,"Stop on session loss limit: Based on the limit value selected, the "),A(290,"b"),M(291,"Auto-bet"),T(),M(292," function is stopped when your total loss in the session reaches the selected value, which is derived by bets minus wins."),T()(),re(293,"br"),A(294,"div",27),re(295,"img",40),T(),re(296,"br"),A(297,"ul")(298,"li"),M(299,"All games are tested to level 3 standards in accordance with the UKGC Testing Strategy for Compliance with the Remote Gambling and Software Technical Standards."),T(),A(300,"li"),M(301,"If the game is interrupted due to connection loss during Free Spins or Bonus Rounds, the game will resume the remaining Free Spins or the pending Bonus Round upon re-opening."),T()(),A(302,"h4",6),M(303,"Auto Play Game Rules:"),T(),A(304,"ul")(305,"li")(306,"b"),M(307,"Auto Play"),T(),M(308," is like a regular spin; you can choose "),A(309,"b"),M(310,"Auto Play"),T(),M(311," for a selected number of spins."),T(),A(312,"li"),M(313,"As soon as "),A(314,"b"),M(315,"Auto Play"),T(),M(316," begins, the "),A(317,"b"),M(318,"Auto Spin"),T(),M(319," button is replaced by a counter displaying the remaining "),A(320,"b"),M(321,"Auto-bet"),T(),M(322," rounds. The "),A(323,"b"),M(324,"Auto Spin"),T(),M(325," button changes to the "),A(326,"b"),M(327,"Stop Auto Spin"),T(),M(328," icon."),T(),A(329,"li")(330,"b"),M(331,"Auto Play"),T(),M(332," automatically plays the game for the selected number of rounds."),T(),A(333,"li")(334,"b"),M(335,"Auto Play"),T(),M(336," can be stopped at any time by clicking the "),A(337,"b"),M(338,"Auto Spin"),T(),M(339," (Auto Stop) button."),T(),A(340,"li")(341,"b"),M(342,"Auto Play"),T(),M(343," settings will return to default when you trigger any Feature round (Free Spins/Bonus Round)."),T(),A(344,"li"),M(345,"If you are disconnected while playing, all "),A(346,"b"),M(347,"Auto-play"),T(),M(348," settings will return to default when you reload the game."),T()(),A(349,"h4",6),M(350,"Additional Information:"),T(),A(351,"ul")(352,"li"),M(353,"Guidance on RTP/Bonus Feature/Wild/Free Spins is covered under Pay table section of respective games. You can access this by clicking the Paytable button."),T(),A(354,"li"),M(355,"Any stakes that you place are non-refundable, unless a system malfunction occurs, in which case, all stakes placed on the particular game being played at the time of the malfunction will be refunded. We have no obligation to repay players who abuse these occurrences, and therefore, an alternative action may be deemed suitable depending on the individual circumstances."),T(),A(356,"li"),M(357,"The in-game pay table shows symbol payouts as the multipliers on the total bet amount, which is calculated as 'total bet = (lines * coin value * number of fixed coins)'. Hence the actual payouts will be coins * coin value * paytable factor when bet lines are kept constant."),T(),A(358,"li"),M(359,"If a query arises as a result of a gaming session, where there is a mismatch between your records and the data recorded by our servers, the latter will be considered correct."),T(),A(360,"li"),M(361,"In the event of any disagreement between yourself and this website, the management's decision will be considered final."),T(),A(362,"li"),M(363,"If the game is interrupted due to connection loss, "),A(364,"b"),M(365,"Balance"),T(),M(366," and "),A(367,"b"),M(368,"Win"),T(),M(369," information can be viewed using Game Logs."),T(),A(370,"li"),M(371,"In the event of malfunction of gaming hardware/software, all affected game bets and payouts are rendered void and all affected bets are refunded."),T()(),re(372,"br")(373,"ul")(374,"br"),T()())},dependencies:[Dn],styles:[".wrap-rules[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:24px;width:100%;height:100%;color:#fff}.wrap-rules[_ngcontent-%COMP%]   .rules-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;gap:12px;position:relative;width:100%}.wrap-rules[_ngcontent-%COMP%]   .rules-header[_ngcontent-%COMP%]   .rules-header-title[_ngcontent-%COMP%]{font-size:28px;font-weight:700;text-align:center;width:100%}.wrap-rules[_ngcontent-%COMP%]   .rules-header[_ngcontent-%COMP%]   .rules-header-close[_ngcontent-%COMP%]{background:url(./assets/common/images/rules/close.png) no-repeat center/contain;width:35px;height:35px;cursor:pointer}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]{display:flex;gap:12px;overflow-y:auto;flex-direction:column;padding-right:20px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:20px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .highPaySym[_ngcontent-%COMP%]{display:flex;gap:40px}@media screen and (max-width: 430px){.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .highPaySym[_ngcontent-%COMP%]{gap:10px}}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .lowPaySym[_ngcontent-%COMP%]{display:flex;gap:10px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .paySym[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:12px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .paySym[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100px}@media screen and (max-width: 430px){.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .paySym[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:70px}}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .paySym[_ngcontent-%COMP%]   .payGrid[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:12px;width:30px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .paySym[_ngcontent-%COMP%]   .payGrid[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:right;justify-content:flex-end}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .paySymHeader[_ngcontent-%COMP%]{margin-right:-20px;font-weight:700}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .paySymHeader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:0px;height:100px}@media screen and (max-width: 430px){.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .paytableGrid[_ngcontent-%COMP%]   .paySymHeader[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:70px}}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{font-size:20px;font-weight:700;padding-top:12px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:22px;font-weight:700;padding-top:12px;text-align:center}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .rules-content-title[_ngcontent-%COMP%]{font-size:20px;font-weight:700;line-height:24px;width:100%}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{padding-left:30px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:6px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding-bottom:10px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{font-family:arial,sans-serif;border-collapse:collapse;width:100%;border:1px solid #ffffff}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], .wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:1px solid #ffffff;text-align:left;padding:12px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{min-width:100px;text-align:center}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .iconTD[_ngcontent-%COMP%]{text-align:center}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .iconTD[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:36px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .centerContent[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;gap:24px;padding-top:24px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .centerContent[_ngcontent-%COMP%]   .rowStyle[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .center[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:40px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .settingsPanel[_ngcontent-%COMP%]{display:flex;justify-content:center;padding:24px}.wrap-rules[_ngcontent-%COMP%]   .rules-content[_ngcontent-%COMP%]   .settingsPanel[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{max-width:660px;width:100%}"]})}return n})();var bR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gn({type:n,selectors:[["app-game-history"]],standalone:!0,features:[xn],decls:245,vars:0,consts:[[1,"wrap-history"],[1,"subTitle","left","cssclass"],[1,"title","center","cssclass"],[1,"center"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/k.png",1,"image","splSymbol1"],[1,"listStyle","left","cssclass"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/ss.png",1,"image","splSymbol1"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/buy.png",1,"image","splSymbol1"],[1,"center","undefined"],[1,"payoutStyle"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/w.png",1,"payoutSymbol","undefined"],[1,"HorizontalText"],[1,"valuesStyle","azSubtitle"],[1,"valuesStyle","symValue"],[1,"listStyle_w","left","cssclass"],[1,"floatLeft","col-xs-6","col-sm-6","col-md-6","col-lg-6"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/a.png",1,"payoutSymbol","undefined"],[1,"verticalText"],[1,"valuesStyle","undefined"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/b.png",1,"payoutSymbol","undefined"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/c.png",1,"payoutSymbol","undefined"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/d.png",1,"payoutSymbol","undefined"],[1,"floatLeft","col-xs-6","col-sm-6","col-lg-6"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/e.png",1,"payoutSymbol","undefined"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/f.png",1,"payoutSymbol","undefined"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/g.png",1,"payoutSymbol","undefined"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/h.png",1,"payoutSymbol","undefined"],[1,"title","center","clearfix"],["src","games/mohoneymomoney/dist/infoAssets/images/symbols/ptWinLines.png",1,"image","splSymbol2"],[1,"title","center","nextLine"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1),M(2,"GAME HISTORY"),T(),A(3,"div",2),M(4,"BEEHIVE BONUS GAME"),T(),A(5,"div",3),re(6,"img",4),T(),A(7,"div")(8,"ul",5)(9,"li"),M(10,"In the main game, during each spin there is a chance for a Special symbol (Queen Bee) to be collected. "),T(),A(11,"li"),M(12,"When Beehive next to the reel is full, player will trigger Beehive Bonus game."),T(),A(13,"li"),M(14,"There are 6 levels in BEEHIVE BONUS GAME, player has to pick a pot and can either win a multiplier, move up to another level or collect winnings up to that point and then return to main game."),T(),A(15,"li"),M(16,"In level 1, player is guaranteed to move to next level."),T(),A(17,"li"),M(18,"When player picks a pot and gets Collect option, total of multipliers collected up to that point will be multiplied by bet and player will return to main game where BEEHIVE Bonus collection will be restarted. "),T(),A(19,"li"),M(20,"Max win \u2013 4000xbet, player will be awarded max win."),T(),A(21,"li"),M(22,"Win is not guaranteed."),T(),A(23,"li"),M(24,"If maximum win amount is reached, rounds ends immediately and all remaining free spins and features are forfeited."),T()()(),A(25,"div",2),M(26,"FREE SPINS FEATURE"),T(),A(27,"div",3),re(28,"img",6),T(),A(29,"div")(30,"ul",5)(31,"li"),M(32,"3 Scatter Symbols appear on the main game screen awards a Free Game."),T(),A(33,"li"),M(34,"Scatter symbols appear on the reels 1,3 and 5 only."),T(),A(35,"li"),M(36,"Random Wilds appear during the base game, 1 to 7 WILDS will be randomly appearing on the reel."),T(),A(37,"li"),M(38,"When player gets 3 Scatter symbols, player will be presented with 2 features and have an option to choose themselves: "),re(39,"br"),M(40," Sticky Wilds \u2013 10 free awarded "),re(41,"br"),M(42," Expanding Wilds \u2013 6 free awarded"),T(),A(43,"li"),M(44,"Free Game cannot be re-triggered"),T()()(),A(45,"div",2),M(46,"BUY BONUS"),T(),A(47,"div",3),re(48,"img",7),T(),A(49,"div")(50,"ul",5)(51,"li"),M(52,"Bonus Buy cost is 40x total bet \u2013 user will have the choice to pick between either feature."),T()()(),A(53,"div",2),M(54,"WILD"),T(),A(55,"div",8)(56,"div",9),re(57,"img",10),A(58,"div",11)(59,"ul",12)(60,"li"),M(61,"x5"),T(),A(62,"li"),M(63,"x4"),T(),A(64,"li"),M(65,"x3"),T()(),A(66,"ul",13)(67,"li"),M(68,"- 1000"),T(),A(69,"li"),M(70,"- 300"),T(),A(71,"li"),M(72,"- 100"),T()()()()(),A(73,"div")(74,"ul",14)(75,"li"),M(76,"Wild Symbol substitute for all except Scatter Symbols and Special (Queen Bee) Symbol."),T()()(),A(77,"div",15)(78,"div",9),re(79,"img",16),A(80,"div",17)(81,"ul",12)(82,"li"),M(83,"x5"),T(),A(84,"li"),M(85,"x4"),T(),A(86,"li"),M(87,"x3"),T()(),A(88,"ul",18)(89,"li"),M(90,"- 1000"),T(),A(91,"li"),M(92,"- 300"),T(),A(93,"li"),M(94,"- 100"),T()()()()(),A(95,"div",15)(96,"div",9),re(97,"img",19),A(98,"div",17)(99,"ul",12)(100,"li"),M(101,"x5"),T(),A(102,"li"),M(103,"x4"),T(),A(104,"li"),M(105,"x3"),T()(),A(106,"ul",18)(107,"li"),M(108,"- 400"),T(),A(109,"li"),M(110,"- 100"),T(),A(111,"li"),M(112,"- 50"),T()()()()(),A(113,"div",15)(114,"div",9),re(115,"img",20),A(116,"div",17)(117,"ul",12)(118,"li"),M(119,"x5"),T(),A(120,"li"),M(121,"x4"),T(),A(122,"li"),M(123,"x3"),T()(),A(124,"ul",18)(125,"li"),M(126,"- 300"),T(),A(127,"li"),M(128,"- 75"),T(),A(129,"li"),M(130,"- 40"),T()()()()(),A(131,"div",15)(132,"div",9),re(133,"img",21),A(134,"div",17)(135,"ul",12)(136,"li"),M(137,"x5"),T(),A(138,"li"),M(139,"x4"),T(),A(140,"li"),M(141,"x3"),T()(),A(142,"ul",18)(143,"li"),M(144,"- 200"),T(),A(145,"li"),M(146,"- 60"),T(),A(147,"li"),M(148,"- 30"),T()()()()(),A(149,"div",22)(150,"div",9),re(151,"img",23),A(152,"div",17)(153,"ul",12)(154,"li"),M(155,"x5"),T(),A(156,"li"),M(157,"x4"),T(),A(158,"li"),M(159,"x3"),T()(),A(160,"ul",18)(161,"li"),M(162,"- 100"),T(),A(163,"li"),M(164,"- 40"),T(),A(165,"li"),M(166,"- 20"),T()()()()(),A(167,"div",22)(168,"div",9),re(169,"img",24),A(170,"div",17)(171,"ul",12)(172,"li"),M(173,"x5"),T(),A(174,"li"),M(175,"x4"),T(),A(176,"li"),M(177,"x3"),T()(),A(178,"ul",18)(179,"li"),M(180,"- 80"),T(),A(181,"li"),M(182,"- 25"),T(),A(183,"li"),M(184,"- 10"),T()()()()(),A(185,"div",22)(186,"div",9),re(187,"img",25),A(188,"div",17)(189,"ul",12)(190,"li"),M(191,"x5"),T(),A(192,"li"),M(193,"x4"),T(),A(194,"li"),M(195,"x3"),T()(),A(196,"ul",18)(197,"li"),M(198,"- 50"),T(),A(199,"li"),M(200,"- 10"),T(),A(201,"li"),M(202,"- 5"),T()()()()(),A(203,"div",22)(204,"div",9),re(205,"img",26),A(206,"div",17)(207,"ul",12)(208,"li"),M(209,"x5"),T(),A(210,"li"),M(211,"x4"),T(),A(212,"li"),M(213,"x3"),T()(),A(214,"ul",18)(215,"li"),M(216,"- 50"),T(),A(217,"li"),M(218,"- 10"),T(),A(219,"li"),M(220,"- 5"),T()()()()(),A(221,"div",27),M(222,"WIN LINES"),T(),A(223,"div",3),re(224,"img",28),T(),A(225,"div",29),M(226,"GAME RULES"),T(),A(227,"div")(228,"ul",5)(229,"li"),M(230,"The game is played with 20 fixed pay lines and each game costs a minimum of 20 fixed coins."),T(),A(231,"li"),M(232,"Payouts are made according to the pay table."),T(),A(233,"li"),M(234,"All symbols pay from left to right in consecutive order."),T(),A(235,"li"),M(236,"Pay line wins are multiplied by coin value."),T(),A(237,"li"),M(238,"Only the highest win per active pay line is paid."),T(),A(239,"li"),M(240,"Malfunction voids all pays and plays."),T(),A(241,"li"),M(242,"For this game, the long-term expected payback is 95.40%"),T(),A(243,"li"),M(244,"The RTP was calculated by simulating 10 Million rounds."),T()()()())},dependencies:[Dn],styles:[".wrap-history[_ngcontent-%COMP%]{display:flex;width:calc(100% - 82px);height:calc(100% - 82px);overflow-y:auto;color:#fff;align-items:center;flex-direction:column;padding:32px;margin-top:8px}"]})}return n})();var wR=(()=>{class n{static \u0275fac=function(r){return new(r||n)};static \u0275cmp=gn({type:n,selectors:[["app-paytables"]],standalone:!0,features:[xn],decls:222,vars:0,consts:[[1,"wrap-paytable"],[1,"subTitle","left","cssclass"],[1,"title","center","cssclass"],[1,"listStyle","left","cssclass"],[1,"center","undefined"],[1,"payoutStyle"],["src","assets/common/images/symbols/w.png",1,"payoutSymbol","undefined"],[1,"HorizontalText"],[1,"valuesStyle","azSubtitle"],[1,"valuesStyle","symValue"],[1,"listStyle_w","left","cssclass"],[1,"floatLeft","col-xs-6","col-sm-6","col-md-6","col-lg-6"],["src","assets/common/images/symbols/a.png",1,"payoutSymbol","undefined"],[1,"verticalText"],[1,"valuesStyle","undefined"],["src","assets/common/images/symbols/b.png",1,"payoutSymbol","undefined"],["src","assets/common/images/symbols/c.png",1,"payoutSymbol","undefined"],["src","assets/common/images/symbols/d.png",1,"payoutSymbol","undefined"],[1,"floatLeft","col-xs-6","col-sm-6","col-lg-6"],["src","assets/common/images/symbols/e.png",1,"payoutSymbol","undefined"],["src","assets/common/images/symbols/f.png",1,"payoutSymbol","undefined"],["src","assets/common/images/symbols/g.png",1,"payoutSymbol","undefined"],[1,"title","center","clearfix"],[1,"title","center","nextLine"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1),M(2,"Paytable"),T(),A(3,"div",2),M(4,"GAME FEATURES"),T(),A(5,"div",2),M(6,"BEEHIVE BONUS GAME"),T(),A(7,"div")(8,"ul",3)(9,"li"),M(10,"In the main game, during each spin there is a chance for a Special symbol (Queen Bee) to be collected. "),T(),A(11,"li"),M(12,"When Beehive next to the reel is full, player will trigger Beehive Bonus game."),T(),A(13,"li"),M(14,"There are 6 levels in BEEHIVE BONUS GAME, player has to pick a pot and can either win a multiplier, move up to another level or collect winnings up to that point and then return to main game."),T(),A(15,"li"),M(16,"In level 1, player is guaranteed to move to next level."),T(),A(17,"li"),M(18,"When player picks a pot and gets Collect option, total of multipliers collected up to that point will be multiplied by bet and player will return to main game where BEEHIVE Bonus collection will be restarted. "),T(),A(19,"li"),M(20,"Max win \u2013 4000xbet, player will be awarded max win."),T(),A(21,"li"),M(22,"Win is not guaranteed."),T(),A(23,"li"),M(24,"If maximum win amount is reached, rounds ends immediately and all remaining free spins and features are forfeited."),T()()(),A(25,"div",2),M(26,"FREE SPINS FEATURE"),T(),A(27,"div")(28,"ul",3)(29,"li"),M(30,"3 Scatter Symbols appear on the main game screen awards a Free Game."),T(),A(31,"li"),M(32,"Scatter symbols appear on the reels 1,3 and 5 only."),T(),A(33,"li"),M(34,"Random Wilds appear during the base game, 1 to 7 WILDS will be randomly appearing on the reel."),T(),A(35,"li"),M(36,"When player gets 3 Scatter symbols, player will be presented with 2 features and have an option to choose themselves: "),re(37,"br"),M(38," Sticky Wilds \u2013 10 free awarded "),re(39,"br"),M(40," Expanding Wilds \u2013 6 free awarded"),T(),A(41,"li"),M(42,"Free Game cannot be re-triggered"),T()()(),A(43,"div",2),M(44,"BUY BONUS"),T(),A(45,"div")(46,"ul",3)(47,"li"),M(48,"Bonus Buy cost is 40x total bet \u2013 user will have the choice to pick between either feature."),T()()(),A(49,"div",2),M(50,"WILD"),T(),A(51,"div",4)(52,"div",5),re(53,"img",6),A(54,"div",7)(55,"ul",8)(56,"li"),M(57,"x5"),T(),A(58,"li"),M(59,"x4"),T(),A(60,"li"),M(61,"x3"),T()(),A(62,"ul",9)(63,"li"),M(64,"- 1000"),T(),A(65,"li"),M(66,"- 300"),T(),A(67,"li"),M(68,"- 100"),T()()()()(),A(69,"div")(70,"ul",10)(71,"li"),M(72,"Wild Symbol substitute for all except Scatter Symbols and Special (Queen Bee) Symbol."),T()()(),A(73,"div",11)(74,"div",5),re(75,"img",12),A(76,"div",13)(77,"ul",8)(78,"li"),M(79,"x5"),T(),A(80,"li"),M(81,"x4"),T(),A(82,"li"),M(83,"x3"),T()(),A(84,"ul",14)(85,"li"),M(86,"- 1000"),T(),A(87,"li"),M(88,"- 300"),T(),A(89,"li"),M(90,"- 100"),T()()()()(),A(91,"div",11)(92,"div",5),re(93,"img",15),A(94,"div",13)(95,"ul",8)(96,"li"),M(97,"x5"),T(),A(98,"li"),M(99,"x4"),T(),A(100,"li"),M(101,"x3"),T()(),A(102,"ul",14)(103,"li"),M(104,"- 400"),T(),A(105,"li"),M(106,"- 100"),T(),A(107,"li"),M(108,"- 50"),T()()()()(),A(109,"div",11)(110,"div",5),re(111,"img",16),A(112,"div",13)(113,"ul",8)(114,"li"),M(115,"x5"),T(),A(116,"li"),M(117,"x4"),T(),A(118,"li"),M(119,"x3"),T()(),A(120,"ul",14)(121,"li"),M(122,"- 300"),T(),A(123,"li"),M(124,"- 75"),T(),A(125,"li"),M(126,"- 40"),T()()()()(),A(127,"div",11)(128,"div",5),re(129,"img",17),A(130,"div",13)(131,"ul",8)(132,"li"),M(133,"x5"),T(),A(134,"li"),M(135,"x4"),T(),A(136,"li"),M(137,"x3"),T()(),A(138,"ul",14)(139,"li"),M(140,"- 200"),T(),A(141,"li"),M(142,"- 60"),T(),A(143,"li"),M(144,"- 30"),T()()()()(),A(145,"div",18)(146,"div",5),re(147,"img",19),A(148,"div",13)(149,"ul",8)(150,"li"),M(151,"x5"),T(),A(152,"li"),M(153,"x4"),T(),A(154,"li"),M(155,"x3"),T()(),A(156,"ul",14)(157,"li"),M(158,"- 100"),T(),A(159,"li"),M(160,"- 40"),T(),A(161,"li"),M(162,"- 20"),T()()()()(),A(163,"div",18)(164,"div",5),re(165,"img",20),A(166,"div",13)(167,"ul",8)(168,"li"),M(169,"x5"),T(),A(170,"li"),M(171,"x4"),T(),A(172,"li"),M(173,"x3"),T()(),A(174,"ul",14)(175,"li"),M(176,"- 80"),T(),A(177,"li"),M(178,"- 25"),T(),A(179,"li"),M(180,"- 10"),T()()()()(),A(181,"div",18)(182,"div",5),re(183,"img",21),A(184,"div",13)(185,"ul",8)(186,"li"),M(187,"x5"),T(),A(188,"li"),M(189,"x4"),T(),A(190,"li"),M(191,"x3"),T()(),A(192,"ul",14)(193,"li"),M(194,"- 50"),T(),A(195,"li"),M(196,"- 10"),T(),A(197,"li"),M(198,"- 5"),T()()()()(),re(199,"div",18),A(200,"div",22),M(201,"WIN LINES"),T(),A(202,"div",23),M(203,"GAME RULES"),T(),A(204,"div")(205,"ul",3)(206,"li"),M(207,"The game is played with 20 fixed pay lines and each game costs a minimum of 20 fixed coins."),T(),A(208,"li"),M(209,"Payouts are made according to the pay table."),T(),A(210,"li"),M(211,"All symbols pay from left to right in consecutive order."),T(),A(212,"li"),M(213,"Pay line wins are multiplied by coin value."),T(),A(214,"li"),M(215,"Only the highest win per active pay line is paid."),T(),A(216,"li"),M(217,"Malfunction voids all pays and plays."),T(),A(218,"li"),M(219,"For this game, the long-term expected payback is 95.40%"),T(),A(220,"li"),M(221,"The RTP was calculated by simulating 10 Million rounds."),T()()()())},dependencies:[Dn],styles:[".wrap-paytable[_ngcontent-%COMP%]{display:flex;width:100%;height:100%;overflow-y:auto;color:#fff;align-items:center;flex-direction:column;gap:24px}"]})}return n})();function po(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function DR(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}var Nr={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},wh={duration:.5,overwrite:!1,delay:0},_E,$n,Et,Ii=1e8,xt=1/Ii,cE=Math.PI*2,wG=cE/4,EG=0,RR=Math.sqrt,SG=Math.cos,CG=Math.sin,ln=function(e){return typeof e=="string"},jt=function(e){return typeof e=="function"},go=function(e){return typeof e=="number"},v0=function(e){return typeof e>"u"},Ns=function(e){return typeof e=="object"},Or=function(e){return e!==!1},bE=function(){return typeof window<"u"},u0=function(e){return jt(e)||ln(e)},PR=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Hn=Array.isArray,uE=/(?:-?\.?\d|\.)+/gi,wE=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,vc=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,nE=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,EE=/[+-]=-?[.\d]+/,OR=/[^,'"\[\]\s]+/gi,AG=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,Mt,Ps,hE,SE,oi={},p0={},NR,FR=function(e){return(p0=xc(e,oi))&&Wn},_0=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},xp=function(e,t){return!t&&console.warn(e)},kR=function(e,t){return e&&(oi[e]=t)&&p0&&(p0[e]=t)||oi},vp=function(){return 0},TG={suppressEvents:!0,isStart:!0,kill:!1},h0={suppressEvents:!0,kill:!1},MG={suppressEvents:!0},CE={},ya=[],dE={},LR,Rr={},rE={},ER=30,d0=[],AE="",TE=function(e){var t=e[0],r,i;if(Ns(t)||jt(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=d0.length;i--&&!d0[i].targetTest(t););r=d0[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new DE(e[i],r)))||e.splice(i,1);return e},xa=function(e){return e._gsap||TE(Di(e))[0]._gsap},ME=function(e,t,r){return(r=e[t])&&jt(r)?e[t]():v0(r)&&e.getAttribute&&e.getAttribute(t)||r},tr=function(e,t){return(e=e.split(",")).forEach(t)||e},Gt=function(e){return Math.round(e*1e5)/1e5||0},vn=function(e){return Math.round(e*1e7)/1e7||0},_c=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},IG=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},m0=function(){var e=ya.length,t=ya.slice(0),r,i;for(dE={},ya.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},BR=function(e,t,r,i){ya.length&&!$n&&m0(),e.render(t,r,i||$n&&t<0&&(e._initted||e._startAt)),ya.length&&!$n&&m0()},VR=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(OR).length<2?t:ln(e)?e.trim():e},UR=function(e){return e},Ri=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},DG=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},xc=function(e,t){for(var r in t)e[r]=t[r];return e},SR=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Ns(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},g0=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},mp=function(e){var t=e.parent||Mt,r=e.keyframes?DG(Hn(e.keyframes)):Ri;if(Or(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},RG=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},jR=function(e,t,r,i,s){r===void 0&&(r="_first"),i===void 0&&(i="_last");var a=e[i],l;if(s)for(l=t[s];a&&a[s]>l;)a=a._prev;return a?(t._next=a._next,a._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=a,t.parent=t._dp=e,t},b0=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,a=t._next;s?s._next=a:e[r]===t&&(e[r]=a),a?a._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},va=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},mc=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},PG=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},fE=function(e,t,r,i){return e._startAt&&($n?e._startAt.revert(h0):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},OG=function n(e){return!e||e._ts&&n(e.parent)},CR=function(e){return e._repeat?Eh(e._tTime,e=e.duration()+e._rDelay)*e:0},Eh=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},y0=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},w0=function(e){return e._end=vn(e._start+(e._tDur/Math.abs(e._ts||e._rts||xt)||0))},E0=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=vn(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),w0(e),r._dirty||mc(r,e)),e},GR=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=y0(e.rawTime(),t),(!t._dur||wp(0,t.totalDuration(),r)-t._tTime>xt)&&t.render(r,!0)),mc(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-xt}},Os=function(e,t,r,i){return t.parent&&va(t),t._start=vn((go(r)?r:r||e!==Mt?Mi(e,r,t):e._time)+t._delay),t._end=vn(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),jR(e,t,"_first","_last",e._sort?"_start":0),pE(t)||(e._recent=t),i||GR(e,t),e._ts<0&&E0(e,e._tTime),e},$R=function(e,t){return(oi.ScrollTrigger||_0("scrollTrigger",t))&&oi.ScrollTrigger.create(t,e)},HR=function(e,t,r,i,s){if(OE(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!$n&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&LR!==Pr.frame)return ya.push(e),e._lazy=[s,i],1},NG=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},pE=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},FG=function(e,t,r,i){var s=e.ratio,a=t<0||!t&&(!e._start&&NG(e)&&!(!e._initted&&pE(e))||(e._ts<0||e._dp._ts<0)&&!pE(e))?0:1,l=e._rDelay,o=0,c,u,h;if(l&&e._repeat&&(o=wp(0,e._tDur,t),u=Eh(o,l),e._yoyo&&u&1&&(a=1-a),u!==Eh(e._tTime,l)&&(s=1-a,e.vars.repeatRefresh&&e._initted&&e.invalidate())),a!==s||$n||i||e._zTime===xt||!t&&e._zTime){if(!e._initted&&HR(e,t,i,r,o))return;for(h=e._zTime,e._zTime=t||(r?xt:0),r||(r=t&&!h),e.ratio=a,e._from&&(a=1-a),e._time=0,e._tTime=o,c=e._pt;c;)c.r(a,c.d),c=c._next;t<0&&fE(e,t,r,!0),e._onUpdate&&!r&&si(e,"onUpdate"),o&&e._repeat&&!r&&e.parent&&si(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===a&&(a&&va(e,1),!r&&!$n&&(si(e,a?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},kG=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},Sh=function(e,t,r,i){var s=e._repeat,a=vn(t)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=a/e._dur),e._dur=a,e._tDur=s?s<0?1e10:vn(a*(s+1)+e._rDelay*s):a,l>0&&!i&&E0(e,e._tTime=e._tDur*l),e.parent&&w0(e),r||mc(e.parent,e),e},AR=function(e){return e instanceof Pn?mc(e):Sh(e,e._dur)},LG={_start:0,endTime:vp,totalDuration:vp},Mi=function n(e,t,r){var i=e.labels,s=e._recent||LG,a=e.duration()>=Ii?s.endTime(!1):e._dur,l,o,c;return ln(t)&&(isNaN(t)||t in i)?(o=t.charAt(0),c=t.substr(-1)==="%",l=t.indexOf("="),o==="<"||o===">"?(l>=0&&(t=t.replace(/=/,"")),(o==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(c?(l<0?s:r).totalDuration()/100:1)):l<0?(t in i||(i[t]=a),i[t]):(o=parseFloat(t.charAt(l-1)+t.substr(l+1)),c&&r&&(o=o/100*(Hn(r)?r[0]:r).totalDuration()),l>1?n(e,t.substr(0,l-1),r)+o:a+o)):t==null?a:+t},gp=function(e,t,r){var i=go(t[1]),s=(i?2:1)+(e<2?0:1),a=t[s],l,o;if(i&&(a.duration=t[1]),a.parent=r,e){for(l=a,o=r;o&&!("immediateRender"in l);)l=o.vars.defaults||{},o=Or(o.vars.inherit)&&o.parent;a.immediateRender=Or(l.immediateRender),e<2?a.runBackwards=1:a.startAt=t[s-1]}return new qt(t[0],a,t[s+1])},_a=function(e,t){return e||e===0?t(e):t},wp=function(e,t,r){return r<e?e:r>t?t:r},On=function(e,t){return!ln(e)||!(t=AG.exec(e))?"":t[1]},BG=function(e,t,r){return _a(r,function(i){return wp(e,t,i)})},mE=[].slice,WR=function(e,t){return e&&Ns(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ns(e[0]))&&!e.nodeType&&e!==Ps},VG=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return ln(i)&&!t||WR(i,1)?(s=r).push.apply(s,Di(i)):r.push(i)})||r},Di=function(e,t,r){return Et&&!t&&Et.selector?Et.selector(e):ln(e)&&!r&&(hE||!Ch())?mE.call((t||SE).querySelectorAll(e),0):Hn(e)?VG(e,r):WR(e)?mE.call(e,0):e?[e]:[]},gE=function(e){return e=Di(e)[0]||xp("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Di(t,r.querySelectorAll?r:r===e?xp("Invalid scope")||SE.createElement("div"):e)}},YR=function(e){return e.sort(function(){return .5-Math.random()})},XR=function(e){if(jt(e))return e;var t=Ns(e)?e:{each:e},r=gc(t.ease),i=t.from||0,s=parseFloat(t.base)||0,a={},l=i>0&&i<1,o=isNaN(i)||l,c=t.axis,u=i,h=i;return ln(i)?u=h={center:.5,edges:.5,end:1}[i]||0:!l&&o&&(u=i[0],h=i[1]),function(d,f,p){var m=(p||t).length,g=a[m],v,x,y,_,b,w,E,S,C;if(!g){if(C=t.grid==="auto"?0:(t.grid||[1,Ii])[1],!C){for(E=-Ii;E<(E=p[C++].getBoundingClientRect().left)&&C<m;);C<m&&C--}for(g=a[m]=[],v=o?Math.min(C,m)*u-.5:i%C,x=C===Ii?0:o?m*h/C-.5:i/C|0,E=0,S=Ii,w=0;w<m;w++)y=w%C-v,_=x-(w/C|0),g[w]=b=c?Math.abs(c==="y"?_:y):RR(y*y+_*_),b>E&&(E=b),b<S&&(S=b);i==="random"&&YR(g),g.max=E-S,g.min=S,g.v=m=(parseFloat(t.amount)||parseFloat(t.each)*(C>m?m-1:c?c==="y"?m/C:C:Math.max(C,m/C))||0)*(i==="edges"?-1:1),g.b=m<0?s-m:s,g.u=On(t.amount||t.each)||0,r=r&&m<0?nP(r):r}return m=(g[d]-g.min)/g.max||0,vn(g.b+(r?r(m):m)*g.v)+g.u}},yE=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=vn(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(go(r)?0:On(r))}},zR=function(e,t){var r=Hn(e),i,s;return!r&&Ns(e)&&(i=r=e.radius||Ii,e.values?(e=Di(e.values),(s=!go(e[0]))&&(i*=i)):e=yE(e.increment)),_a(t,r?jt(e)?function(a){return s=e(a),Math.abs(s-a)<=i?s:a}:function(a){for(var l=parseFloat(s?a.x:a),o=parseFloat(s?a.y:0),c=Ii,u=0,h=e.length,d,f;h--;)s?(d=e[h].x-l,f=e[h].y-o,d=d*d+f*f):d=Math.abs(e[h]-l),d<c&&(c=d,u=h);return u=!i||c<=i?e[u]:a,s||u===a||go(a)?u:u+On(a)}:yE(e))},qR=function(e,t,r,i){return _a(Hn(e)?!t:r===!0?!!(r=0):!i,function(){return Hn(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},UG=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,a){return a(s)},i)}},jG=function(e,t){return function(r){return e(parseFloat(r))+(t||On(r))}},GG=function(e,t,r){return QR(e,t,0,1,r)},ZR=function(e,t,r){return _a(r,function(i){return e[~~t(i)]})},$G=function n(e,t,r){var i=t-e;return Hn(e)?ZR(e,n(0,e.length),t):_a(r,function(s){return(i+(s-e)%i)%i+e})},HG=function n(e,t,r){var i=t-e,s=i*2;return Hn(e)?ZR(e,n(0,e.length-1),t):_a(r,function(a){return a=(s+(a-e)%s)%s||0,e+(a>i?s-a:a)})},Ah=function(e){for(var t=0,r="",i,s,a,l;~(i=e.indexOf("random(",t));)a=e.indexOf(")",i),l=e.charAt(i+7)==="[",s=e.substr(i+7,a-i-7).match(l?OR:uE),r+=e.substr(t,i-t)+qR(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=a+1;return r+e.substr(t,e.length-t)},QR=function(e,t,r,i,s){var a=t-e,l=i-r;return _a(s,function(o){return r+((o-e)/a*l||0)})},WG=function n(e,t,r,i){var s=isNaN(e+t)?0:function(f){return(1-f)*e+f*t};if(!s){var a=ln(e),l={},o,c,u,h,d;if(r===!0&&(i=1)&&(r=null),a)e={p:e},t={p:t};else if(Hn(e)&&!Hn(t)){for(u=[],h=e.length,d=h-2,c=1;c<h;c++)u.push(n(e[c-1],e[c]));h--,s=function(p){p*=h;var m=Math.min(d,~~p);return u[m](p-m)},r=t}else i||(e=xc(Hn(e)?[]:{},e));if(!u){for(o in t)RE.call(l,e,o,"get",t[o]);s=function(p){return kE(p,l)||(a?e.p:e)}}}return _a(r,s)},TR=function(e,t,r){var i=e.labels,s=Ii,a,l,o;for(a in i)l=i[a]-t,l<0==!!r&&l&&s>(l=Math.abs(l))&&(o=a,s=l);return o},si=function(e,t,r){var i=e.vars,s=i[t],a=Et,l=e._ctx,o,c,u;if(s)return o=i[t+"Params"],c=i.callbackScope||e,r&&ya.length&&m0(),l&&(Et=l),u=o?s.apply(c,o):s.call(c),Et=a,u},fp=function(e){return va(e),e.scrollTrigger&&e.scrollTrigger.kill(!!$n),e.progress()<1&&si(e,"onInterrupt"),e},bh,KR=[],JR=function(e){if(e)if(e=!e.name&&e.default||e,bE()||e.headless){var t=e.name,r=jt(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:vp,render:kE,add:RE,kill:a$,modifier:o$,rawVars:0},a={targetTest:0,get:0,getSetter:S0,aliases:{},register:0};if(Ch(),e!==i){if(Rr[t])return;Ri(i,Ri(g0(e,s),a)),xc(i.prototype,xc(s,g0(e,a))),Rr[i.prop=t]=i,e.targetTest&&(d0.push(i),CE[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}kR(t,i),e.register&&e.register(Wn,i,nr)}else KR.push(e)},pt=255,pp={aqua:[0,pt,pt],lime:[0,pt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,pt],navy:[0,0,128],white:[pt,pt,pt],olive:[128,128,0],yellow:[pt,pt,0],orange:[pt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[pt,0,0],pink:[pt,192,203],cyan:[0,pt,pt],transparent:[pt,pt,pt,0]},iE=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*pt+.5|0},eP=function(e,t,r){var i=e?go(e)?[e>>16,e>>8&pt,e&pt]:0:pp.black,s,a,l,o,c,u,h,d,f,p;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),pp[e])i=pp[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),a=e.charAt(2),l=e.charAt(3),e="#"+s+s+a+a+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&pt,i&pt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&pt,e&pt]}else if(e.substr(0,3)==="hsl"){if(i=p=e.match(uE),!t)o=+i[0]%360/360,c=+i[1]/100,u=+i[2]/100,a=u<=.5?u*(c+1):u+c-u*c,s=u*2-a,i.length>3&&(i[3]*=1),i[0]=iE(o+1/3,s,a),i[1]=iE(o,s,a),i[2]=iE(o-1/3,s,a);else if(~e.indexOf("="))return i=e.match(wE),r&&i.length<4&&(i[3]=1),i}else i=e.match(uE)||pp.transparent;i=i.map(Number)}return t&&!p&&(s=i[0]/pt,a=i[1]/pt,l=i[2]/pt,h=Math.max(s,a,l),d=Math.min(s,a,l),u=(h+d)/2,h===d?o=c=0:(f=h-d,c=u>.5?f/(2-h-d):f/(h+d),o=h===s?(a-l)/f+(a<l?6:0):h===a?(l-s)/f+2:(s-a)/f+4,o*=60),i[0]=~~(o+.5),i[1]=~~(c*100+.5),i[2]=~~(u*100+.5)),r&&i.length<4&&(i[3]=1),i},tP=function(e){var t=[],r=[],i=-1;return e.split(mo).forEach(function(s){var a=s.match(vc)||[];t.push.apply(t,a),r.push(i+=a.length+1)}),t.c=r,t},MR=function(e,t,r){var i="",s=(e+i).match(mo),a=t?"hsla(":"rgba(",l=0,o,c,u,h;if(!s)return e;if(s=s.map(function(d){return(d=eP(d,t,1))&&a+(t?d[0]+","+d[1]+"%,"+d[2]+"%,"+d[3]:d.join(","))+")"}),r&&(u=tP(e),o=r.c,o.join(i)!==u.c.join(i)))for(c=e.replace(mo,"1").split(vc),h=c.length-1;l<h;l++)i+=c[l]+(~o.indexOf(l)?s.shift()||a+"0,0,0,0)":(u.length?u:s.length?s:r).shift());if(!c)for(c=e.split(mo),h=c.length-1;l<h;l++)i+=c[l]+s[l];return i+c[h]},mo=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in pp)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),YG=/hsl[a]?\(/,IE=function(e){var t=e.join(" "),r;if(mo.lastIndex=0,mo.test(t))return r=YG.test(t),e[1]=MR(e[1],r),e[0]=MR(e[0],r,tP(e[1])),!0},_p,Pr=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,a=s,l=[],o,c,u,h,d,f,p=function m(g){var v=n()-i,x=g===!0,y,_,b,w;if((v>e||v<0)&&(r+=v-t),i+=v,b=i-r,y=b-a,(y>0||x)&&(w=++h.frame,d=b-h.time*1e3,h.time=b=b/1e3,a+=y+(y>=s?4:s-y),_=1),x||(o=c(m)),_)for(f=0;f<l.length;f++)l[f](b,d,w,g)};return h={time:0,frame:0,tick:function(){p(!0)},deltaRatio:function(g){return d/(1e3/(g||60))},wake:function(){NR&&(!hE&&bE()&&(Ps=hE=window,SE=Ps.document||{},oi.gsap=Wn,(Ps.gsapVersions||(Ps.gsapVersions=[])).push(Wn.version),FR(p0||Ps.GreenSockGlobals||!Ps.gsap&&Ps||{}),KR.forEach(JR)),u=typeof requestAnimationFrame<"u"&&requestAnimationFrame,o&&h.sleep(),c=u||function(g){return setTimeout(g,a-h.time*1e3+1|0)},_p=1,p(2))},sleep:function(){(u?cancelAnimationFrame:clearTimeout)(o),_p=0,c=vp},lagSmoothing:function(g,v){e=g||1/0,t=Math.min(v||33,e)},fps:function(g){s=1e3/(g||240),a=h.time*1e3+s},add:function(g,v,x){var y=v?function(_,b,w,E){g(_,b,w,E),h.remove(y)}:g;return h.remove(g),l[x?"unshift":"push"](y),Ch(),y},remove:function(g,v){~(v=l.indexOf(g))&&l.splice(v,1)&&f>=v&&f--},_listeners:l},h}(),Ch=function(){return!_p&&Pr.wake()},We={},XG=/^[\d.\-M][\d.\-,\s]/,zG=/["']/g,qG=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,a=r.length,l,o,c;s<a;s++)o=r[s],l=s!==a-1?o.lastIndexOf(","):o.length,c=o.substr(0,l),t[i]=isNaN(c)?c.replace(zG,"").trim():+c,i=o.substr(l+1).trim();return t},ZG=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},QG=function(e){var t=(e+"").split("("),r=We[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[qG(t[1])]:ZG(e).split(",").map(VR)):We._CE&&XG.test(e)?We._CE("",e):r},nP=function(e){return function(t){return 1-e(1-t)}},rP=function n(e,t){for(var r=e._first,i;r;)r instanceof Pn?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},gc=function(e,t){return e&&(jt(e)?e:We[e]||QG(e))||t},bc=function(e,t,r,i){r===void 0&&(r=function(o){return 1-t(1-o)}),i===void 0&&(i=function(o){return o<.5?t(o*2)/2:1-t((1-o)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},a;return tr(e,function(l){We[l]=oi[l]=s,We[a=l.toLowerCase()]=r;for(var o in s)We[a+(o==="easeIn"?".in":o==="easeOut"?".out":".inOut")]=We[l+"."+o]=s[o]}),s},iP=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},sE=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),a=s/cE*(Math.asin(1/i)||0),l=function(u){return u===1?1:i*Math.pow(2,-10*u)*CG((u-a)*s)+1},o=e==="out"?l:e==="in"?function(c){return 1-l(1-c)}:iP(l);return s=cE/s,o.config=function(c,u){return n(e,c,u)},o},oE=function n(e,t){t===void 0&&(t=1.70158);var r=function(a){return a?--a*a*((t+1)*a+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:iP(r);return i.config=function(s){return n(e,s)},i};tr("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;bc(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});We.Linear.easeNone=We.none=We.Linear.easeIn;bc("Elastic",sE("in"),sE("out"),sE());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(l){return l<t?n*l*l:l<r?n*Math.pow(l-1.5/e,2)+.75:l<i?n*(l-=2.25/e)*l+.9375:n*Math.pow(l-2.625/e,2)+.984375};bc("Bounce",function(a){return 1-s(1-a)},s)})(7.5625,2.75);bc("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});bc("Circ",function(n){return-(RR(1-n*n)-1)});bc("Sine",function(n){return n===1?1:-SG(n*wG)+1});bc("Back",oE("in"),oE("out"),oE());We.SteppedEase=We.steps=oi.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,a=1-xt;return function(l){return((i*wp(0,a,l)|0)+s)*r}}};wh.ease=We["quad.out"];tr("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return AE+=n+","+n+"Params,"});var DE=function(e,t){this.id=EG++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:ME,this.set=t?t.getSetter:S0},bp=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,Sh(this,+t.duration,1,1),this.data=t.data,Et&&(this._ctx=Et,Et.data.push(this)),_p||Pr.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,Sh(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(Ch(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(E0(this,r),!s._dp||s.parent||GR(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&Os(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===xt||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),BR(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+CR(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+CR(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?Eh(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-xt?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?y0(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-xt?0:this._rts,this.totalTime(wp(-Math.abs(this._delay),this._tDur,s),i!==!1),w0(this),PG(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(Ch(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==xt&&(this._tTime-=xt)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&Os(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(Or(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?y0(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=MG);var i=$n;return $n=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),$n=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,AR(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,AR(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(Mi(this,r),Or(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,Or(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-xt:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-xt,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-xt)},e.eventCallback=function(r,i,s){var a=this.vars;return arguments.length>1?(i?(a[r]=i,s&&(a[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete a[r],this):a[r]},e.then=function(r){var i=this;return new Promise(function(s){var a=jt(r)?r:UR,l=function(){var c=i.then;i.then=null,jt(a)&&(a=a(i))&&(a.then||a===i)&&(i.then=c),s(a),i.then=c};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){fp(this)},n}();Ri(bp.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-xt,_prom:0,_ps:!1,_rts:1});var Pn=function(n){DR(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=Or(r.sortChildren),Mt&&Os(r.parent||Mt,po(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&$R(po(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,a){return gp(0,arguments,this),this},t.from=function(i,s,a){return gp(1,arguments,this),this},t.fromTo=function(i,s,a,l){return gp(2,arguments,this),this},t.set=function(i,s,a){return s.duration=0,s.parent=this,mp(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new qt(i,s,Mi(this,a),1),this},t.call=function(i,s,a){return Os(this,qt.delayedCall(0,i,s),a)},t.staggerTo=function(i,s,a,l,o,c,u){return a.duration=s,a.stagger=a.stagger||l,a.onComplete=c,a.onCompleteParams=u,a.parent=this,new qt(i,a,Mi(this,o)),this},t.staggerFrom=function(i,s,a,l,o,c,u){return a.runBackwards=1,mp(a).immediateRender=Or(a.immediateRender),this.staggerTo(i,s,a,l,o,c,u)},t.staggerFromTo=function(i,s,a,l,o,c,u,h){return l.startAt=a,mp(l).immediateRender=Or(l.immediateRender),this.staggerTo(i,s,l,o,c,u,h)},t.render=function(i,s,a){var l=this._time,o=this._dirty?this.totalDuration():this._tDur,c=this._dur,u=i<=0?0:vn(i),h=this._zTime<0!=i<0&&(this._initted||!c),d,f,p,m,g,v,x,y,_,b,w,E;if(this!==Mt&&u>o&&i>=0&&(u=o),u!==this._tTime||a||h){if(l!==this._time&&c&&(u+=this._time-l,i+=this._time-l),d=u,_=this._start,y=this._ts,v=!y,h&&(c||(l=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if(w=this._yoyo,g=c+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(g*100+i,s,a);if(d=vn(u%g),u===o?(m=this._repeat,d=c):(m=~~(u/g),m&&m===u/g&&(d=c,m--),d>c&&(d=c)),b=Eh(this._tTime,g),!l&&this._tTime&&b!==m&&this._tTime-b*g-this._dur<=0&&(b=m),w&&m&1&&(d=c-d,E=1),m!==b&&!this._lock){var S=w&&b&1,C=S===(w&&m&1);if(m<b&&(S=!S),l=S?0:u%c?c:u,this._lock=1,this.render(l||(E?0:vn(m*g)),s,!c)._lock=0,this._tTime=u,!s&&this.parent&&si(this,"onRepeat"),this.vars.repeatRefresh&&!E&&(this.invalidate()._lock=1),l&&l!==this._time||v!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(c=this._dur,o=this._tDur,C&&(this._lock=2,l=S?c:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!E&&this.invalidate()),this._lock=0,!this._ts&&!v)return this;rP(this,E)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(x=kG(this,vn(l),vn(d)),x&&(u-=d-(d=x._start))),this._tTime=u,this._time=d,this._act=!y,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&d&&!s&&!m&&(si(this,"onStart"),this._tTime!==u))return this;if(d>=l&&i>=0)for(f=this._first;f;){if(p=f._next,(f._act||d>=f._start)&&f._ts&&x!==f){if(f.parent!==this)return this.render(i,s,a);if(f.render(f._ts>0?(d-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(d-f._start)*f._ts,s,a),d!==this._time||!this._ts&&!v){x=0,p&&(u+=this._zTime=-xt);break}}f=p}else{f=this._last;for(var R=i<0?i:d;f;){if(p=f._prev,(f._act||R<=f._end)&&f._ts&&x!==f){if(f.parent!==this)return this.render(i,s,a);if(f.render(f._ts>0?(R-f._start)*f._ts:(f._dirty?f.totalDuration():f._tDur)+(R-f._start)*f._ts,s,a||$n&&(f._initted||f._startAt)),d!==this._time||!this._ts&&!v){x=0,p&&(u+=this._zTime=R?-xt:xt);break}}f=p}}if(x&&!s&&(this.pause(),x.render(d>=l?0:-xt)._zTime=d>=l?1:-1,this._ts))return this._start=_,w0(this),this.render(i,s,a);this._onUpdate&&!s&&si(this,"onUpdate",!0),(u===o&&this._tTime>=this.totalDuration()||!u&&l)&&(_===this._start||Math.abs(y)!==Math.abs(this._ts))&&(this._lock||((i||!c)&&(u===o&&this._ts>0||!u&&this._ts<0)&&va(this,1),!s&&!(i<0&&!l)&&(u||l||!o)&&(si(this,u===o&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(u<o&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var a=this;if(go(s)||(s=Mi(this,s,i)),!(i instanceof bp)){if(Hn(i))return i.forEach(function(l){return a.add(l,s)}),this;if(ln(i))return this.addLabel(i,s);if(jt(i))i=qt.delayedCall(0,i);else return this}return this!==i?Os(this,i,s):this},t.getChildren=function(i,s,a,l){i===void 0&&(i=!0),s===void 0&&(s=!0),a===void 0&&(a=!0),l===void 0&&(l=-Ii);for(var o=[],c=this._first;c;)c._start>=l&&(c instanceof qt?s&&o.push(c):(a&&o.push(c),i&&o.push.apply(o,c.getChildren(!0,s,a)))),c=c._next;return o},t.getById=function(i){for(var s=this.getChildren(1,1,1),a=s.length;a--;)if(s[a].vars.id===i)return s[a]},t.remove=function(i){return ln(i)?this.removeLabel(i):jt(i)?this.killTweensOf(i):(b0(this,i),i===this._recent&&(this._recent=this._last),mc(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=vn(Pr.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=Mi(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,a){var l=qt.delayedCall(0,s||vp,a);return l.data="isPause",this._hasPause=1,Os(this,l,Mi(this,i))},t.removePause=function(i){var s=this._first;for(i=Mi(this,i);s;)s._start===i&&s.data==="isPause"&&va(s),s=s._next},t.killTweensOf=function(i,s,a){for(var l=this.getTweensOf(i,a),o=l.length;o--;)ga!==l[o]&&l[o].kill(i,s);return this},t.getTweensOf=function(i,s){for(var a=[],l=Di(i),o=this._first,c=go(s),u;o;)o instanceof qt?IG(o._targets,l)&&(c?(!ga||o._initted&&o._ts)&&o.globalTime(0)<=s&&o.globalTime(o.totalDuration())>s:!s||o.isActive())&&a.push(o):(u=o.getTweensOf(l,s)).length&&a.push.apply(a,u),o=o._next;return a},t.tweenTo=function(i,s){s=s||{};var a=this,l=Mi(a,i),o=s,c=o.startAt,u=o.onStart,h=o.onStartParams,d=o.immediateRender,f,p=qt.to(a,Ri({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(c&&"time"in c?c.time:a._time))/a.timeScale())||xt,onStart:function(){if(a.pause(),!f){var g=s.duration||Math.abs((l-(c&&"time"in c?c.time:a._time))/a.timeScale());p._dur!==g&&Sh(p,g,0,1).render(p._time,!0,!0),f=1}u&&u.apply(p,h||[])}},s));return d?p.render(0):p},t.tweenFromTo=function(i,s,a){return this.tweenTo(s,Ri({startAt:{time:Mi(this,i)}},a))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),TR(this,Mi(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),TR(this,Mi(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+xt)},t.shiftChildren=function(i,s,a){a===void 0&&(a=0);for(var l=this._first,o=this.labels,c;l;)l._start>=a&&(l._start+=i,l._end+=i),l=l._next;if(s)for(c in o)o[c]>=a&&(o[c]+=i);return mc(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,a;s;)a=s._next,this.remove(s),s=a;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),mc(this)},t.totalDuration=function(i){var s=0,a=this,l=a._last,o=Ii,c,u,h;if(arguments.length)return a.timeScale((a._repeat<0?a.duration():a.totalDuration())/(a.reversed()?-i:i));if(a._dirty){for(h=a.parent;l;)c=l._prev,l._dirty&&l.totalDuration(),u=l._start,u>o&&a._sort&&l._ts&&!a._lock?(a._lock=1,Os(a,l,u-l._delay,1)._lock=0):o=u,u<0&&l._ts&&(s-=u,(!h&&!a._dp||h&&h.smoothChildTiming)&&(a._start+=u/a._ts,a._time-=u,a._tTime-=u),a.shiftChildren(-u,!1,-1/0),o=0),l._end>s&&l._ts&&(s=l._end),l=c;Sh(a,a===Mt&&a._time>s?a._time:s,1,1),a._dirty=0}return a._tDur},e.updateRoot=function(i){if(Mt._ts&&(BR(Mt,y0(i,Mt)),LR=Pr.frame),Pr.frame>=ER){ER+=Nr.autoSleep||120;var s=Mt._first;if((!s||!s._ts)&&Nr.autoSleep&&Pr._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||Pr.sleep()}}},e}(bp);Ri(Pn.prototype,{_lock:0,_hasPause:0,_forcing:0});var KG=function(e,t,r,i,s,a,l){var o=new nr(this._pt,e,t,0,1,FE,null,s),c=0,u=0,h,d,f,p,m,g,v,x;for(o.b=r,o.e=i,r+="",i+="",(v=~i.indexOf("random("))&&(i=Ah(i)),a&&(x=[r,i],a(x,e,t),r=x[0],i=x[1]),d=r.match(nE)||[];h=nE.exec(i);)p=h[0],m=i.substring(c,h.index),f?f=(f+1)%5:m.substr(-5)==="rgba("&&(f=1),p!==d[u++]&&(g=parseFloat(d[u-1])||0,o._pt={_next:o._pt,p:m||u===1?m:",",s:g,c:p.charAt(1)==="="?_c(g,p)-g:parseFloat(p)-g,m:f&&f<4?Math.round:0},c=nE.lastIndex);return o.c=c<i.length?i.substring(c,i.length):"",o.fp=l,(EE.test(i)||v)&&(o.e=0),this._pt=o,o},RE=function(e,t,r,i,s,a,l,o,c,u){jt(i)&&(i=i(s||0,e,a));var h=e[t],d=r!=="get"?r:jt(h)?c?e[t.indexOf("set")||!jt(e["get"+t.substr(3)])?t:"get"+t.substr(3)](c):e[t]():h,f=jt(h)?c?r$:aP:NE,p;if(ln(i)&&(~i.indexOf("random(")&&(i=Ah(i)),i.charAt(1)==="="&&(p=_c(d,i)+(On(d)||0),(p||p===0)&&(i=p))),!u||d!==i||xE)return!isNaN(d*i)&&i!==""?(p=new nr(this._pt,e,t,+d||0,i-(d||0),typeof h=="boolean"?s$:lP,0,f),c&&(p.fp=c),l&&p.modifier(l,this,e),this._pt=p):(!h&&!(t in e)&&_0(t,i),KG.call(this,e,t,d,i,f,o||Nr.stringFilter,c))},JG=function(e,t,r,i,s){if(jt(e)&&(e=yp(e,s,t,r,i)),!Ns(e)||e.style&&e.nodeType||Hn(e)||PR(e))return ln(e)?yp(e,s,t,r,i):e;var a={},l;for(l in e)a[l]=yp(e[l],s,t,r,i);return a},PE=function(e,t,r,i,s,a){var l,o,c,u;if(Rr[e]&&(l=new Rr[e]).init(s,l.rawVars?t[e]:JG(t[e],i,s,a,r),r,i,a)!==!1&&(r._pt=o=new nr(r._pt,s,e,0,1,l.render,l,0,l.priority),r!==bh))for(c=r._ptLookup[r._targets.indexOf(s)],u=l._props.length;u--;)c[l._props[u]]=o;return l},ga,xE,OE=function n(e,t,r){var i=e.vars,s=i.ease,a=i.startAt,l=i.immediateRender,o=i.lazy,c=i.onUpdate,u=i.runBackwards,h=i.yoyoEase,d=i.keyframes,f=i.autoRevert,p=e._dur,m=e._startAt,g=e._targets,v=e.parent,x=v&&v.data==="nested"?v.vars.targets:g,y=e._overwrite==="auto"&&!_E,_=e.timeline,b,w,E,S,C,R,P,k,N,O,G,q,H;if(_&&(!d||!s)&&(s="none"),e._ease=gc(s,wh.ease),e._yEase=h?nP(gc(h===!0?s:h,wh.ease)):0,h&&e._yoyo&&!e._repeat&&(h=e._yEase,e._yEase=e._ease,e._ease=h),e._from=!_&&!!i.runBackwards,!_||d&&!i.stagger){if(k=g[0]?xa(g[0]).harness:0,q=k&&i[k.prop],b=g0(i,CE),m&&(m._zTime<0&&m.progress(1),t<0&&u&&l&&!f?m.render(-1,!0):m.revert(u&&p?h0:TG),m._lazy=0),a){if(va(e._startAt=qt.set(g,Ri({data:"isStart",overwrite:!1,parent:v,immediateRender:!0,lazy:!m&&Or(o),startAt:null,delay:0,onUpdate:c&&function(){return si(e,"onUpdate")},stagger:0},a))),e._startAt._dp=0,e._startAt._sat=e,t<0&&($n||!l&&!f)&&e._startAt.revert(h0),l&&p&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(u&&p&&!m){if(t&&(l=!1),E=Ri({overwrite:!1,data:"isFromStart",lazy:l&&!m&&Or(o),immediateRender:l,stagger:0,parent:v},b),q&&(E[k.prop]=q),va(e._startAt=qt.set(g,E)),e._startAt._dp=0,e._startAt._sat=e,t<0&&($n?e._startAt.revert(h0):e._startAt.render(-1,!0)),e._zTime=t,!l)n(e._startAt,xt,xt);else if(!t)return}for(e._pt=e._ptCache=0,o=p&&Or(o)||o&&!p,w=0;w<g.length;w++){if(C=g[w],P=C._gsap||TE(g)[w]._gsap,e._ptLookup[w]=O={},dE[P.id]&&ya.length&&m0(),G=x===g?w:x.indexOf(C),k&&(N=new k).init(C,q||b,e,G,x)!==!1&&(e._pt=S=new nr(e._pt,C,N.name,0,1,N.render,N,0,N.priority),N._props.forEach(function(L){O[L]=S}),N.priority&&(R=1)),!k||q)for(E in b)Rr[E]&&(N=PE(E,b,e,G,C,x))?N.priority&&(R=1):O[E]=S=RE.call(e,C,E,"get",b[E],G,x,0,i.stringFilter);e._op&&e._op[w]&&e.kill(C,e._op[w]),y&&e._pt&&(ga=e,Mt.killTweensOf(C,O,e.globalTime(t)),H=!e.parent,ga=0),e._pt&&o&&(dE[P.id]=1)}R&&LE(e),e._onInit&&e._onInit(e)}e._onUpdate=c,e._initted=(!e._op||e._pt)&&!H,d&&t<=0&&_.render(Ii,!0,!0)},e$=function(e,t,r,i,s,a,l,o){var c=(e._pt&&e._ptCache||(e._ptCache={}))[t],u,h,d,f;if(!c)for(c=e._ptCache[t]=[],d=e._ptLookup,f=e._targets.length;f--;){if(u=d[f][t],u&&u.d&&u.d._pt)for(u=u.d._pt;u&&u.p!==t&&u.fp!==t;)u=u._next;if(!u)return xE=1,e.vars[t]="+=0",OE(e,l),xE=0,o?xp(t+" not eligible for reset"):1;c.push(u)}for(f=c.length;f--;)h=c[f],u=h._pt||h,u.s=(i||i===0)&&!s?i:u.s+(i||0)+a*u.c,u.c=r-u.s,h.e&&(h.e=Gt(r)+On(h.e)),h.b&&(h.b=u.s+On(h.b))},t$=function(e,t){var r=e[0]?xa(e[0]).harness:0,i=r&&r.aliases,s,a,l,o;if(!i)return t;s=xc({},t);for(a in i)if(a in s)for(o=i[a].split(","),l=o.length;l--;)s[o[l]]=s[a];return s},n$=function(e,t,r,i){var s=t.ease||i||"power1.inOut",a,l;if(Hn(t))l=r[e]||(r[e]=[]),t.forEach(function(o,c){return l.push({t:c/(t.length-1)*100,v:o,e:s})});else for(a in t)l=r[a]||(r[a]=[]),a==="ease"||l.push({t:parseFloat(e),v:t[a],e:s})},yp=function(e,t,r,i,s){return jt(e)?e.call(t,r,i,s):ln(e)&&~e.indexOf("random(")?Ah(e):e},sP=AE+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",oP={};tr(sP+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return oP[n]=1});var qt=function(n){DR(e,n);function e(r,i,s,a){var l;typeof i=="number"&&(s.duration=i,i=s,s=null),l=n.call(this,a?i:mp(i))||this;var o=l.vars,c=o.duration,u=o.delay,h=o.immediateRender,d=o.stagger,f=o.overwrite,p=o.keyframes,m=o.defaults,g=o.scrollTrigger,v=o.yoyoEase,x=i.parent||Mt,y=(Hn(r)||PR(r)?go(r[0]):"length"in i)?[r]:Di(r),_,b,w,E,S,C,R,P;if(l._targets=y.length?TE(y):xp("GSAP target "+r+" not found. https://gsap.com",!Nr.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=f,p||d||u0(c)||u0(u)){if(i=l.vars,_=l.timeline=new Pn({data:"nested",defaults:m||{},targets:x&&x.data==="nested"?x.vars.targets:y}),_.kill(),_.parent=_._dp=po(l),_._start=0,d||u0(c)||u0(u)){if(E=y.length,R=d&&XR(d),Ns(d))for(S in d)~sP.indexOf(S)&&(P||(P={}),P[S]=d[S]);for(b=0;b<E;b++)w=g0(i,oP),w.stagger=0,v&&(w.yoyoEase=v),P&&xc(w,P),C=y[b],w.duration=+yp(c,po(l),b,C,y),w.delay=(+yp(u,po(l),b,C,y)||0)-l._delay,!d&&E===1&&w.delay&&(l._delay=u=w.delay,l._start+=u,w.delay=0),_.to(C,w,R?R(b,C,y):0),_._ease=We.none;_.duration()?c=u=0:l.timeline=0}else if(p){mp(Ri(_.vars.defaults,{ease:"none"})),_._ease=gc(p.ease||i.ease||"none");var k=0,N,O,G;if(Hn(p))p.forEach(function(q){return _.to(y,q,">")}),_.duration();else{w={};for(S in p)S==="ease"||S==="easeEach"||n$(S,p[S],w,p.easeEach);for(S in w)for(N=w[S].sort(function(q,H){return q.t-H.t}),k=0,b=0;b<N.length;b++)O=N[b],G={ease:O.e,duration:(O.t-(b?N[b-1].t:0))/100*c},G[S]=O.v,_.to(y,G,k),k+=G.duration;_.duration()<c&&_.to({},{duration:c-_.duration()})}}c||l.duration(c=_.duration())}else l.timeline=0;return f===!0&&!_E&&(ga=po(l),Mt.killTweensOf(y),ga=0),Os(x,po(l),s),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(h||!c&&!p&&l._start===vn(x._time)&&Or(h)&&OG(po(l))&&x.data!=="nested")&&(l._tTime=-xt,l.render(Math.max(0,-u)||0)),g&&$R(po(l),g),l}var t=e.prototype;return t.render=function(i,s,a){var l=this._time,o=this._tDur,c=this._dur,u=i<0,h=i>o-xt&&!u?o:i<xt?0:i,d,f,p,m,g,v,x,y,_;if(!c)FG(this,i,s,a);else if(h!==this._tTime||!i||a||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==u){if(d=h,y=this.timeline,this._repeat){if(m=c+this._rDelay,this._repeat<-1&&u)return this.totalTime(m*100+i,s,a);if(d=vn(h%m),h===o?(p=this._repeat,d=c):(p=~~(h/m),p&&p===vn(h/m)&&(d=c,p--),d>c&&(d=c)),v=this._yoyo&&p&1,v&&(_=this._yEase,d=c-d),g=Eh(this._tTime,m),d===l&&!a&&this._initted&&p===g)return this._tTime=h,this;p!==g&&(y&&this._yEase&&rP(y,v),this.vars.repeatRefresh&&!v&&!this._lock&&this._time!==m&&this._initted&&(this._lock=a=1,this.render(vn(m*p),!0).invalidate()._lock=0))}if(!this._initted){if(HR(this,u?i:d,a,s,h))return this._tTime=0,this;if(l!==this._time&&!(a&&this.vars.repeatRefresh&&p!==g))return this;if(c!==this._dur)return this.render(i,s,a)}if(this._tTime=h,this._time=d,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=x=(_||this._ease)(d/c),this._from&&(this.ratio=x=1-x),d&&!l&&!s&&!p&&(si(this,"onStart"),this._tTime!==h))return this;for(f=this._pt;f;)f.r(x,f.d),f=f._next;y&&y.render(i<0?i:y._dur*y._ease(d/this._dur),s,a)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(u&&fE(this,i,s,a),si(this,"onUpdate")),this._repeat&&p!==g&&this.vars.onRepeat&&!s&&this.parent&&si(this,"onRepeat"),(h===this._tDur||!h)&&this._tTime===h&&(u&&!this._onUpdate&&fE(this,i,!0,!0),(i||!c)&&(h===this._tDur&&this._ts>0||!h&&this._ts<0)&&va(this,1),!s&&!(u&&!l)&&(h||l||v)&&(si(this,h===o?"onComplete":"onReverseComplete",!0),this._prom&&!(h<o&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,a,l,o){_p||Pr.wake(),this._ts||this.play();var c=Math.min(this._dur,(this._dp._time-this._start)*this._ts),u;return this._initted||OE(this,c),u=this._ease(c/this._dur),e$(this,i,s,a,l,u,c,o)?this.resetTo(i,s,a,l,1):(E0(this,0),this.parent||jR(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?fp(this):this;if(this.timeline){var a=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,ga&&ga.vars.overwrite!==!0)._first||fp(this),this.parent&&a!==this.timeline.totalDuration()&&Sh(this,this._dur*this.timeline._tDur/a,0,1),this}var l=this._targets,o=i?Di(i):l,c=this._ptLookup,u=this._pt,h,d,f,p,m,g,v;if((!s||s==="all")&&RG(l,o))return s==="all"&&(this._pt=0),fp(this);for(h=this._op=this._op||[],s!=="all"&&(ln(s)&&(m={},tr(s,function(x){return m[x]=1}),s=m),s=t$(l,s)),v=l.length;v--;)if(~o.indexOf(l[v])){d=c[v],s==="all"?(h[v]=s,p=d,f={}):(f=h[v]=h[v]||{},p=s);for(m in p)g=d&&d[m],g&&((!("kill"in g.d)||g.d.kill(m)===!0)&&b0(this,g,"_pt"),delete d[m]),f!=="all"&&(f[m]=1)}return this._initted&&!this._pt&&u&&fp(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return gp(1,arguments)},e.delayedCall=function(i,s,a,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:a,onReverseCompleteParams:a,callbackScope:l})},e.fromTo=function(i,s,a){return gp(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,a){return Mt.killTweensOf(i,s,a)},e}(bp);Ri(qt.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});tr("staggerTo,staggerFrom,staggerFromTo",function(n){qt[n]=function(){var e=new Pn,t=mE.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var NE=function(e,t,r){return e[t]=r},aP=function(e,t,r){return e[t](r)},r$=function(e,t,r,i){return e[t](i.fp,r)},i$=function(e,t,r){return e.setAttribute(t,r)},S0=function(e,t){return jt(e[t])?aP:v0(e[t])&&e.setAttribute?i$:NE},lP=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},s$=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},FE=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},kE=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},o$=function(e,t,r,i){for(var s=this._pt,a;s;)a=s._next,s.p===i&&s.modifier(e,t,r),s=a},a$=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?b0(this,t,"_pt"):t.dep||(r=1),t=i;return!r},l$=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},LE=function(e){for(var t=e._pt,r,i,s,a;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:a)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:a=t,t=r}e._pt=s},nr=function(){function n(t,r,i,s,a,l,o,c,u){this.t=r,this.s=s,this.c=a,this.p=i,this.r=l||lP,this.d=o||this,this.set=c||NE,this.pr=u||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=l$,this.m=r,this.mt=s,this.tween=i},n}();tr(AE+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return CE[n]=1});oi.TweenMax=oi.TweenLite=qt;oi.TimelineLite=oi.TimelineMax=Pn;Mt=new Pn({sortChildren:!1,defaults:wh,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Nr.stringFilter=IE;var yc=[],f0={},c$=[],IR=0,u$=0,aE=function(e){return(f0[e]||c$).map(function(t){return t()})},vE=function(){var e=Date.now(),t=[];e-IR>2&&(aE("matchMediaInit"),yc.forEach(function(r){var i=r.queries,s=r.conditions,a,l,o,c;for(l in i)a=Ps.matchMedia(i[l]).matches,a&&(o=1),a!==s[l]&&(s[l]=a,c=1);c&&(r.revert(),o&&t.push(r))}),aE("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),IR=e,aE("matchMedia"))},cP=function(){function n(t,r){this.selector=r&&gE(r),this.data=[],this._r=[],this.isReverted=!1,this.id=u$++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){jt(r)&&(s=i,i=r,r=jt);var a=this,l=function(){var c=Et,u=a.selector,h;return c&&c!==a&&c.data.push(a),s&&(a.selector=gE(s)),Et=a,h=i.apply(a,arguments),jt(h)&&a._r.push(h),Et=c,a.selector=u,a.isReverted=!1,h};return a.last=l,r===jt?l(a,function(o){return a.add(null,o)}):r?a[r]=l:l},e.ignore=function(r){var i=Et;Et=null,r(this),Et=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof qt&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var l=s.getTweens(),o=s.data.length,c;o--;)c=s.data[o],c.data==="isFlip"&&(c.revert(),c.getChildren(!0,!0,!1).forEach(function(u){return l.splice(l.indexOf(u),1)}));for(l.map(function(u){return{g:u._dur||u._delay||u._sat&&!u._sat.vars.immediateRender?u.globalTime(0):-1/0,t:u}}).sort(function(u,h){return h.g-u.g||-1/0}).forEach(function(u){return u.t.revert(r)}),o=s.data.length;o--;)c=s.data[o],c instanceof Pn?c.data!=="nested"&&(c.scrollTrigger&&c.scrollTrigger.revert(),c.kill()):!(c instanceof qt)&&c.revert&&c.revert(r);s._r.forEach(function(u){return u(r,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var a=yc.length;a--;)yc[a].id===this.id&&yc.splice(a,1)},e.revert=function(r){this.kill(r||{})},n}(),h$=function(){function n(t){this.contexts=[],this.scope=t,Et&&Et.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){Ns(r)||(r={matches:r});var a=new cP(0,s||this.scope),l=a.conditions={},o,c,u;Et&&!a.selector&&(a.selector=Et.selector),this.contexts.push(a),i=a.add("onMatch",i),a.queries=r;for(c in r)c==="all"?u=1:(o=Ps.matchMedia(r[c]),o&&(yc.indexOf(a)<0&&yc.push(a),(l[c]=o.matches)&&(u=1),o.addListener?o.addListener(vE):o.addEventListener("change",vE)));return u&&i(a,function(h){return a.add(null,h)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),x0={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return JR(i)})},timeline:function(e){return new Pn(e)},getTweensOf:function(e,t){return Mt.getTweensOf(e,t)},getProperty:function(e,t,r,i){ln(e)&&(e=Di(e)[0]);var s=xa(e||{}).get,a=r?UR:VR;return r==="native"&&(r=""),e&&(t?a((Rr[t]&&Rr[t].get||s)(e,t,r,i)):function(l,o,c){return a((Rr[l]&&Rr[l].get||s)(e,l,o,c))})},quickSetter:function(e,t,r){if(e=Di(e),e.length>1){var i=e.map(function(u){return Wn.quickSetter(u,t,r)}),s=i.length;return function(u){for(var h=s;h--;)i[h](u)}}e=e[0]||{};var a=Rr[t],l=xa(e),o=l.harness&&(l.harness.aliases||{})[t]||t,c=a?function(u){var h=new a;bh._pt=0,h.init(e,r?u+r:u,bh,0,[e]),h.render(1,h),bh._pt&&kE(1,bh)}:l.set(e,o);return a?c:function(u){return c(e,o,r?u+r:u,l,1)}},quickTo:function(e,t,r){var i,s=Wn.to(e,xc((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),a=function(o,c,u){return s.resetTo(t,o,c,u)};return a.tween=s,a},isTweening:function(e){return Mt.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=gc(e.ease,wh.ease)),SR(wh,e||{})},config:function(e){return SR(Nr,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,a=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!Rr[l]&&!oi[l]&&xp(t+" effect requires "+l+" plugin.")}),rE[t]=function(l,o,c){return r(Di(l),Ri(o||{},s),c)},a&&(Pn.prototype[t]=function(l,o,c){return this.add(rE[t](l,Ns(o)?o:(c=o)&&{},this),c)})},registerEase:function(e,t){We[e]=gc(t)},parseEase:function(e,t){return arguments.length?gc(e,t):We},getById:function(e){return Mt.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Pn(e),i,s;for(r.smoothChildTiming=Or(e.smoothChildTiming),Mt.remove(r),r._dp=0,r._time=r._tTime=Mt._time,i=Mt._first;i;)s=i._next,(t||!(!i._dur&&i instanceof qt&&i.vars.onComplete===i._targets[0]))&&Os(r,i,i._start-i._delay),i=s;return Os(Mt,r,0),r},context:function(e,t){return e?new cP(e,t):Et},matchMedia:function(e){return new h$(e)},matchMediaRefresh:function(){return yc.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||vE()},addEventListener:function(e,t){var r=f0[e]||(f0[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=f0[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:$G,wrapYoyo:HG,distribute:XR,random:qR,snap:zR,normalize:GG,getUnit:On,clamp:BG,splitColor:eP,toArray:Di,selector:gE,mapRange:QR,pipe:UG,unitize:jG,interpolate:WG,shuffle:YR},install:FR,effects:rE,ticker:Pr,updateRoot:Pn.updateRoot,plugins:Rr,globalTimeline:Mt,core:{PropTween:nr,globals:kR,Tween:qt,Timeline:Pn,Animation:bp,getCache:xa,_removeLinkedListItem:b0,reverting:function(){return $n},context:function(e){return e&&Et&&(Et.data.push(e),e._ctx=Et),Et},suppressOverwrites:function(e){return _E=e}}};tr("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return x0[n]=qt[n]});Pr.add(Pn.updateRoot);bh=x0.to({},{duration:0});var d$=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},f$=function(e,t){var r=e._targets,i,s,a;for(i in t)for(s=r.length;s--;)a=e._ptLookup[s][i],a&&(a=a.d)&&(a._pt&&(a=d$(a,i)),a&&a.modifier&&a.modifier(t[i],e,r[s],i))},lE=function(e,t){return{name:e,rawVars:1,init:function(i,s,a){a._onInit=function(l){var o,c;if(ln(s)&&(o={},tr(s,function(u){return o[u]=1}),s=o),t){o={};for(c in s)o[c]=t(s[c]);s=o}f$(l,s)}}}},Wn=x0.registerPlugin({name:"attr",init:function(e,t,r,i,s){var a,l,o;this.tween=r;for(a in t)o=e.getAttribute(a)||"",l=this.add(e,"setAttribute",(o||0)+"",t[a],i,s,0,0,a),l.op=a,l.b=o,this._props.push(a)},render:function(e,t){for(var r=t._pt;r;)$n?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},lE("roundProps",yE),lE("modifiers"),lE("snap",zR))||x0;qt.version=Pn.version=Wn.version="3.12.5";NR=1;bE()&&Ch();var p$=We.Power0,m$=We.Power1,g$=We.Power2,y$=We.Power3,x$=We.Power4,v$=We.Linear,_$=We.Quad,b$=We.Cubic,w$=We.Quart,E$=We.Quint,S$=We.Strong,C$=We.Elastic,A$=We.Back,T$=We.SteppedEase,M$=We.Bounce,I$=We.Sine,D$=We.Expo,R$=We.Circ;var uP,ba,Mh,HE,Cc,P$,hP,WE,O$=function(){return typeof window<"u"},xo={},Sc=180/Math.PI,Ih=Math.PI/180,Th=Math.atan2,dP=1e8,YE=/([A-Z])/g,N$=/(left|right|width|margin|padding|x)/i,F$=/[\s,\(]\S/,Fs={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},UE=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},k$=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},L$=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},B$=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},vP=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},_P=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},V$=function(e,t,r){return e.style[t]=r},U$=function(e,t,r){return e.style.setProperty(t,r)},j$=function(e,t,r){return e._gsap[t]=r},G$=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},$$=function(e,t,r,i,s){var a=e._gsap;a.scaleX=a.scaleY=r,a.renderTransform(s,a)},H$=function(e,t,r,i,s){var a=e._gsap;a[t]=r,a.renderTransform(s,a)},It="transform",Fr=It+"Origin",W$=function n(e,t){var r=this,i=this.target,s=i.style,a=i._gsap;if(e in xo&&s){if(this.tfm=this.tfm||{},e!=="transform")e=Fs[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=yo(i,l)}):this.tfm[e]=a.x?a[e]:yo(i,e),e===Fr&&(this.tfm.zOrigin=a.zOrigin);else return Fs.transform.split(",").forEach(function(l){return n.call(r,l,t)});if(this.props.indexOf(It)>=0)return;a.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Fr,t,"")),e=It}(s||t)&&this.props.push(e,t,s[e])},bP=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},Y$=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,a;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(YE,"-$1").toLowerCase());if(this.tfm){for(a in this.tfm)i[a]=this.tfm[a];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=WE(),(!s||!s.isStart)&&!r[It]&&(bP(r),i.zOrigin&&r[Fr]&&(r[Fr]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},wP=function(e,t){var r={target:e,props:[],revert:Y$,save:W$};return e._gsap||Wn.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},EP,jE=function(e,t){var r=ba.createElementNS?ba.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):ba.createElement(e);return r&&r.style?r:ba.createElement(e)},ks=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(YE,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,Dh(t)||t,1)||""},fP="O,Moz,ms,Ms,Webkit".split(","),Dh=function(e,t,r){var i=t||Cc,s=i.style,a=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);a--&&!(fP[a]+e in s););return a<0?null:(a===3?"ms":a>=0?fP[a]:"")+e},GE=function(){O$()&&window.document&&(uP=window,ba=uP.document,Mh=ba.documentElement,Cc=jE("div")||{style:{}},P$=jE("div"),It=Dh(It),Fr=It+"Origin",Cc.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",EP=!!Dh("perspective"),WE=Wn.core.reverting,HE=1)},BE=function n(e){var t=jE("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,a;if(Mh.appendChild(t),t.appendChild(this),this.style.display="block",e)try{a=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(a=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),Mh.removeChild(t),this.style.cssText=s,a},pP=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},SP=function(e){var t;try{t=e.getBBox()}catch{t=BE.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===BE||(t=BE.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+pP(e,["x","cx","x1"])||0,y:+pP(e,["y","cy","y1"])||0,width:0,height:0}:t},CP=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&SP(e))},Ac=function(e,t){if(t){var r=e.style,i;t in xo&&t!==Fr&&(t=It),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(YE,"-$1").toLowerCase())):r.removeAttribute(t)}},wa=function(e,t,r,i,s,a){var l=new nr(e._pt,t,r,0,1,a?_P:vP);return e._pt=l,l.b=i,l.e=s,e._props.push(r),l},mP={deg:1,rad:1,turn:1},X$={grid:1,flex:1},Ea=function n(e,t,r,i){var s=parseFloat(r)||0,a=(r+"").trim().substr((s+"").length)||"px",l=Cc.style,o=N$.test(t),c=e.tagName.toLowerCase()==="svg",u=(c?"client":"offset")+(o?"Width":"Height"),h=100,d=i==="px",f=i==="%",p,m,g,v;if(i===a||!s||mP[i]||mP[a])return s;if(a!=="px"&&!d&&(s=n(e,t,r,"px")),v=e.getCTM&&CP(e),(f||a==="%")&&(xo[t]||~t.indexOf("adius")))return p=v?e.getBBox()[o?"width":"height"]:e[u],Gt(f?s/p*h:s/100*p);if(l[o?"width":"height"]=h+(d?a:i),m=~t.indexOf("adius")||i==="em"&&e.appendChild&&!c?e:e.parentNode,v&&(m=(e.ownerSVGElement||{}).parentNode),(!m||m===ba||!m.appendChild)&&(m=ba.body),g=m._gsap,g&&f&&g.width&&o&&g.time===Pr.time&&!g.uncache)return Gt(s/g.width*h);if(f&&(t==="height"||t==="width")){var x=e.style[t];e.style[t]=h+i,p=e[u],x?e.style[t]=x:Ac(e,t)}else(f||a==="%")&&!X$[ks(m,"display")]&&(l.position=ks(e,"position")),m===e&&(l.position="static"),m.appendChild(Cc),p=Cc[u],m.removeChild(Cc),l.position="absolute";return o&&f&&(g=xa(m),g.time=Pr.time,g.width=m[u]),Gt(d?p*s/h:p&&s?h/p*s:0)},yo=function(e,t,r,i){var s;return HE||GE(),t in Fs&&t!=="transform"&&(t=Fs[t],~t.indexOf(",")&&(t=t.split(",")[0])),xo[t]&&t!=="transform"?(s=Cp(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:A0(ks(e,Fr))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=C0[t]&&C0[t](e,t,r)||ks(e,t)||ME(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?Ea(e,t,s,r)+r:s},z$=function(e,t,r,i){if(!r||r==="none"){var s=Dh(t,e,1),a=s&&ks(e,s,1);a&&a!==r?(t=s,r=a):t==="borderColor"&&(r=ks(e,"borderTopColor"))}var l=new nr(this._pt,e.style,t,0,1,FE),o=0,c=0,u,h,d,f,p,m,g,v,x,y,_,b;if(l.b=r,l.e=i,r+="",i+="",i==="auto"&&(m=e.style[t],e.style[t]=i,i=ks(e,t)||i,m?e.style[t]=m:Ac(e,t)),u=[r,i],IE(u),r=u[0],i=u[1],d=r.match(vc)||[],b=i.match(vc)||[],b.length){for(;h=vc.exec(i);)g=h[0],x=i.substring(o,h.index),p?p=(p+1)%5:(x.substr(-5)==="rgba("||x.substr(-5)==="hsla(")&&(p=1),g!==(m=d[c++]||"")&&(f=parseFloat(m)||0,_=m.substr((f+"").length),g.charAt(1)==="="&&(g=_c(f,g)+_),v=parseFloat(g),y=g.substr((v+"").length),o=vc.lastIndex-y.length,y||(y=y||Nr.units[t]||_,o===i.length&&(i+=y,l.e+=y)),_!==y&&(f=Ea(e,t,m,y)||0),l._pt={_next:l._pt,p:x||c===1?x:",",s:f,c:v-f,m:p&&p<4||t==="zIndex"?Math.round:0});l.c=o<i.length?i.substring(o,i.length):""}else l.r=t==="display"&&i==="none"?_P:vP;return EE.test(i)&&(l.e=0),this._pt=l,l},gP={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},q$=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=gP[r]||r,t[1]=gP[i]||i,t.join(" ")},Z$=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,a=r._gsap,l,o,c;if(s==="all"||s===!0)i.cssText="",o=1;else for(s=s.split(","),c=s.length;--c>-1;)l=s[c],xo[l]&&(o=1,l=l==="transformOrigin"?Fr:It),Ac(r,l);o&&(Ac(r,It),a&&(a.svg&&r.removeAttribute("transform"),Cp(r,1),a.uncache=1,bP(i)))}},C0={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var a=e._pt=new nr(e._pt,t,r,0,0,Z$);return a.u=i,a.pr=-10,a.tween=s,e._props.push(r),1}}},Sp=[1,0,0,1,0,0],AP={},TP=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},yP=function(e){var t=ks(e,It);return TP(t)?Sp:t.substr(7).match(wE).map(Gt)},XE=function(e,t){var r=e._gsap||xa(e),i=e.style,s=yP(e),a,l,o,c;return r.svg&&e.getAttribute("transform")?(o=e.transform.baseVal.consolidate().matrix,s=[o.a,o.b,o.c,o.d,o.e,o.f],s.join(",")==="1,0,0,1,0,0"?Sp:s):(s===Sp&&!e.offsetParent&&e!==Mh&&!r.svg&&(o=i.display,i.display="block",a=e.parentNode,(!a||!e.offsetParent)&&(c=1,l=e.nextElementSibling,Mh.appendChild(e)),s=yP(e),o?i.display=o:Ac(e,"display"),c&&(l?a.insertBefore(e,l):a?a.appendChild(e):Mh.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},$E=function(e,t,r,i,s,a){var l=e._gsap,o=s||XE(e,!0),c=l.xOrigin||0,u=l.yOrigin||0,h=l.xOffset||0,d=l.yOffset||0,f=o[0],p=o[1],m=o[2],g=o[3],v=o[4],x=o[5],y=t.split(" "),_=parseFloat(y[0])||0,b=parseFloat(y[1])||0,w,E,S,C;r?o!==Sp&&(E=f*g-p*m)&&(S=_*(g/E)+b*(-m/E)+(m*x-g*v)/E,C=_*(-p/E)+b*(f/E)-(f*x-p*v)/E,_=S,b=C):(w=SP(e),_=w.x+(~y[0].indexOf("%")?_/100*w.width:_),b=w.y+(~(y[1]||y[0]).indexOf("%")?b/100*w.height:b)),i||i!==!1&&l.smooth?(v=_-c,x=b-u,l.xOffset=h+(v*f+x*m)-v,l.yOffset=d+(v*p+x*g)-x):l.xOffset=l.yOffset=0,l.xOrigin=_,l.yOrigin=b,l.smooth=!!i,l.origin=t,l.originIsAbsolute=!!r,e.style[Fr]="0px 0px",a&&(wa(a,l,"xOrigin",c,_),wa(a,l,"yOrigin",u,b),wa(a,l,"xOffset",h,l.xOffset),wa(a,l,"yOffset",d,l.yOffset)),e.setAttribute("data-svg-origin",_+" "+b)},Cp=function(e,t){var r=e._gsap||new DE(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,a="px",l="deg",o=getComputedStyle(e),c=ks(e,Fr)||"0",u,h,d,f,p,m,g,v,x,y,_,b,w,E,S,C,R,P,k,N,O,G,q,H,L,U,V,Z,z,Y,$,ae;return u=h=d=m=g=v=x=y=_=0,f=p=1,r.svg=!!(e.getCTM&&CP(e)),o.translate&&((o.translate!=="none"||o.scale!=="none"||o.rotate!=="none")&&(i[It]=(o.translate!=="none"?"translate3d("+(o.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(o.rotate!=="none"?"rotate("+o.rotate+") ":"")+(o.scale!=="none"?"scale("+o.scale.split(" ").join(",")+") ":"")+(o[It]!=="none"?o[It]:"")),i.scale=i.rotate=i.translate="none"),E=XE(e,r.svg),r.svg&&(r.uncache?(L=e.getBBox(),c=r.xOrigin-L.x+"px "+(r.yOrigin-L.y)+"px",H=""):H=!t&&e.getAttribute("data-svg-origin"),$E(e,H||c,!!H||r.originIsAbsolute,r.smooth!==!1,E)),b=r.xOrigin||0,w=r.yOrigin||0,E!==Sp&&(P=E[0],k=E[1],N=E[2],O=E[3],u=G=E[4],h=q=E[5],E.length===6?(f=Math.sqrt(P*P+k*k),p=Math.sqrt(O*O+N*N),m=P||k?Th(k,P)*Sc:0,x=N||O?Th(N,O)*Sc+m:0,x&&(p*=Math.abs(Math.cos(x*Ih))),r.svg&&(u-=b-(b*P+w*N),h-=w-(b*k+w*O))):(ae=E[6],Y=E[7],V=E[8],Z=E[9],z=E[10],$=E[11],u=E[12],h=E[13],d=E[14],S=Th(ae,z),g=S*Sc,S&&(C=Math.cos(-S),R=Math.sin(-S),H=G*C+V*R,L=q*C+Z*R,U=ae*C+z*R,V=G*-R+V*C,Z=q*-R+Z*C,z=ae*-R+z*C,$=Y*-R+$*C,G=H,q=L,ae=U),S=Th(-N,z),v=S*Sc,S&&(C=Math.cos(-S),R=Math.sin(-S),H=P*C-V*R,L=k*C-Z*R,U=N*C-z*R,$=O*R+$*C,P=H,k=L,N=U),S=Th(k,P),m=S*Sc,S&&(C=Math.cos(S),R=Math.sin(S),H=P*C+k*R,L=G*C+q*R,k=k*C-P*R,q=q*C-G*R,P=H,G=L),g&&Math.abs(g)+Math.abs(m)>359.9&&(g=m=0,v=180-v),f=Gt(Math.sqrt(P*P+k*k+N*N)),p=Gt(Math.sqrt(q*q+ae*ae)),S=Th(G,q),x=Math.abs(S)>2e-4?S*Sc:0,_=$?1/($<0?-$:$):0),r.svg&&(H=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!TP(ks(e,It)),H&&e.setAttribute("transform",H))),Math.abs(x)>90&&Math.abs(x)<270&&(s?(f*=-1,x+=m<=0?180:-180,m+=m<=0?180:-180):(p*=-1,x+=x<=0?180:-180)),t=t||r.uncache,r.x=u-((r.xPercent=u&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-u)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+a,r.y=h-((r.yPercent=h&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-h)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+a,r.z=d+a,r.scaleX=Gt(f),r.scaleY=Gt(p),r.rotation=Gt(m)+l,r.rotationX=Gt(g)+l,r.rotationY=Gt(v)+l,r.skewX=x+l,r.skewY=y+l,r.transformPerspective=_+a,(r.zOrigin=parseFloat(c.split(" ")[2])||!t&&r.zOrigin||0)&&(i[Fr]=A0(c)),r.xOffset=r.yOffset=0,r.force3D=Nr.force3D,r.renderTransform=r.svg?K$:EP?MP:Q$,r.uncache=0,r},A0=function(e){return(e=e.split(" "))[0]+" "+e[1]},VE=function(e,t,r){var i=On(t);return Gt(parseFloat(t)+parseFloat(Ea(e,"x",r+"px",i)))+i},Q$=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,MP(e,t)},wc="0deg",Ep="0px",Ec=") ",MP=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,a=r.x,l=r.y,o=r.z,c=r.rotation,u=r.rotationY,h=r.rotationX,d=r.skewX,f=r.skewY,p=r.scaleX,m=r.scaleY,g=r.transformPerspective,v=r.force3D,x=r.target,y=r.zOrigin,_="",b=v==="auto"&&e&&e!==1||v===!0;if(y&&(h!==wc||u!==wc)){var w=parseFloat(u)*Ih,E=Math.sin(w),S=Math.cos(w),C;w=parseFloat(h)*Ih,C=Math.cos(w),a=VE(x,a,E*C*-y),l=VE(x,l,-Math.sin(w)*-y),o=VE(x,o,S*C*-y+y)}g!==Ep&&(_+="perspective("+g+Ec),(i||s)&&(_+="translate("+i+"%, "+s+"%) "),(b||a!==Ep||l!==Ep||o!==Ep)&&(_+=o!==Ep||b?"translate3d("+a+", "+l+", "+o+") ":"translate("+a+", "+l+Ec),c!==wc&&(_+="rotate("+c+Ec),u!==wc&&(_+="rotateY("+u+Ec),h!==wc&&(_+="rotateX("+h+Ec),(d!==wc||f!==wc)&&(_+="skew("+d+", "+f+Ec),(p!==1||m!==1)&&(_+="scale("+p+", "+m+Ec),x.style[It]=_||"translate(0, 0)"},K$=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,a=r.x,l=r.y,o=r.rotation,c=r.skewX,u=r.skewY,h=r.scaleX,d=r.scaleY,f=r.target,p=r.xOrigin,m=r.yOrigin,g=r.xOffset,v=r.yOffset,x=r.forceCSS,y=parseFloat(a),_=parseFloat(l),b,w,E,S,C;o=parseFloat(o),c=parseFloat(c),u=parseFloat(u),u&&(u=parseFloat(u),c+=u,o+=u),o||c?(o*=Ih,c*=Ih,b=Math.cos(o)*h,w=Math.sin(o)*h,E=Math.sin(o-c)*-d,S=Math.cos(o-c)*d,c&&(u*=Ih,C=Math.tan(c-u),C=Math.sqrt(1+C*C),E*=C,S*=C,u&&(C=Math.tan(u),C=Math.sqrt(1+C*C),b*=C,w*=C)),b=Gt(b),w=Gt(w),E=Gt(E),S=Gt(S)):(b=h,S=d,w=E=0),(y&&!~(a+"").indexOf("px")||_&&!~(l+"").indexOf("px"))&&(y=Ea(f,"x",a,"px"),_=Ea(f,"y",l,"px")),(p||m||g||v)&&(y=Gt(y+p-(p*b+m*E)+g),_=Gt(_+m-(p*w+m*S)+v)),(i||s)&&(C=f.getBBox(),y=Gt(y+i/100*C.width),_=Gt(_+s/100*C.height)),C="matrix("+b+","+w+","+E+","+S+","+y+","+_+")",f.setAttribute("transform",C),x&&(f.style[It]=C)},J$=function(e,t,r,i,s){var a=360,l=ln(s),o=parseFloat(s)*(l&&~s.indexOf("rad")?Sc:1),c=o-i,u=i+c+"deg",h,d;return l&&(h=s.split("_")[1],h==="short"&&(c%=a,c!==c%(a/2)&&(c+=c<0?a:-a)),h==="cw"&&c<0?c=(c+a*dP)%a-~~(c/a)*a:h==="ccw"&&c>0&&(c=(c-a*dP)%a-~~(c/a)*a)),e._pt=d=new nr(e._pt,t,r,i,c,k$),d.e=u,d.u="deg",e._props.push(r),d},xP=function(e,t){for(var r in t)e[r]=t[r];return e},eH=function(e,t,r){var i=xP({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",a=r.style,l,o,c,u,h,d,f,p;i.svg?(c=r.getAttribute("transform"),r.setAttribute("transform",""),a[It]=t,l=Cp(r,1),Ac(r,It),r.setAttribute("transform",c)):(c=getComputedStyle(r)[It],a[It]=t,l=Cp(r,1),a[It]=c);for(o in xo)c=i[o],u=l[o],c!==u&&s.indexOf(o)<0&&(f=On(c),p=On(u),h=f!==p?Ea(r,o,c,p):parseFloat(c),d=parseFloat(u),e._pt=new nr(e._pt,l,o,h,d-h,UE),e._pt.u=p||0,e._props.push(o));xP(l,i)};tr("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",a=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(l){return e<2?n+l:"border"+l+n});C0[e>1?"border"+n:n]=function(l,o,c,u,h){var d,f;if(arguments.length<4)return d=a.map(function(p){return yo(l,p,c)}),f=d.join(" "),f.split(d[0]).length===5?d[0]:f;d=(u+"").split(" "),f={},a.forEach(function(p,m){return f[p]=d[m]=d[m]||d[(m-1)/2|0]}),l.init(o,f,h)}});var zE={name:"css",register:GE,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var a=this._props,l=e.style,o=r.vars.startAt,c,u,h,d,f,p,m,g,v,x,y,_,b,w,E,S;HE||GE(),this.styles=this.styles||wP(e),S=this.styles.props,this.tween=r;for(m in t)if(m!=="autoRound"&&(u=t[m],!(Rr[m]&&PE(m,t,r,i,e,s)))){if(f=typeof u,p=C0[m],f==="function"&&(u=u.call(r,i,e,s),f=typeof u),f==="string"&&~u.indexOf("random(")&&(u=Ah(u)),p)p(this,e,m,u,r)&&(E=1);else if(m.substr(0,2)==="--")c=(getComputedStyle(e).getPropertyValue(m)+"").trim(),u+="",mo.lastIndex=0,mo.test(c)||(g=On(c),v=On(u)),v?g!==v&&(c=Ea(e,m,c,v)+v):g&&(u+=g),this.add(l,"setProperty",c,u,i,s,0,0,m),a.push(m),S.push(m,0,l[m]);else if(f!=="undefined"){if(o&&m in o?(c=typeof o[m]=="function"?o[m].call(r,i,e,s):o[m],ln(c)&&~c.indexOf("random(")&&(c=Ah(c)),On(c+"")||c==="auto"||(c+=Nr.units[m]||On(yo(e,m))||""),(c+"").charAt(1)==="="&&(c=yo(e,m))):c=yo(e,m),d=parseFloat(c),x=f==="string"&&u.charAt(1)==="="&&u.substr(0,2),x&&(u=u.substr(2)),h=parseFloat(u),m in Fs&&(m==="autoAlpha"&&(d===1&&yo(e,"visibility")==="hidden"&&h&&(d=0),S.push("visibility",0,l.visibility),wa(this,l,"visibility",d?"inherit":"hidden",h?"inherit":"hidden",!h)),m!=="scale"&&m!=="transform"&&(m=Fs[m],~m.indexOf(",")&&(m=m.split(",")[0]))),y=m in xo,y){if(this.styles.save(m),_||(b=e._gsap,b.renderTransform&&!t.parseTransform||Cp(e,t.parseTransform),w=t.smoothOrigin!==!1&&b.smooth,_=this._pt=new nr(this._pt,l,It,0,1,b.renderTransform,b,0,-1),_.dep=1),m==="scale")this._pt=new nr(this._pt,b,"scaleY",b.scaleY,(x?_c(b.scaleY,x+h):h)-b.scaleY||0,UE),this._pt.u=0,a.push("scaleY",m),m+="X";else if(m==="transformOrigin"){S.push(Fr,0,l[Fr]),u=q$(u),b.svg?$E(e,u,0,w,0,this):(v=parseFloat(u.split(" ")[2])||0,v!==b.zOrigin&&wa(this,b,"zOrigin",b.zOrigin,v),wa(this,l,m,A0(c),A0(u)));continue}else if(m==="svgOrigin"){$E(e,u,1,w,0,this);continue}else if(m in AP){J$(this,b,m,d,x?_c(d,x+u):u);continue}else if(m==="smoothOrigin"){wa(this,b,"smooth",b.smooth,u);continue}else if(m==="force3D"){b[m]=u;continue}else if(m==="transform"){eH(this,u,e);continue}}else m in l||(m=Dh(m)||m);if(y||(h||h===0)&&(d||d===0)&&!F$.test(u)&&m in l)g=(c+"").substr((d+"").length),h||(h=0),v=On(u)||(m in Nr.units?Nr.units[m]:g),g!==v&&(d=Ea(e,m,c,v)),this._pt=new nr(this._pt,y?b:l,m,d,(x?_c(d,x+h):h)-d,!y&&(v==="px"||m==="zIndex")&&t.autoRound!==!1?B$:UE),this._pt.u=v||0,g!==v&&v!=="%"&&(this._pt.b=c,this._pt.r=L$);else if(m in l)z$.call(this,e,m,c,x?x+u:u);else if(m in e)this.add(e,m,c||e[m],x?x+u:u,i,s);else if(m!=="parseTransform"){_0(m,u);continue}y||(m in l?S.push(m,0,l[m]):S.push(m,1,c||e[m])),a.push(m)}}E&&LE(this)},render:function(e,t){if(t.tween._time||!WE())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:yo,aliases:Fs,getSetter:function(e,t,r){var i=Fs[t];return i&&i.indexOf(",")<0&&(t=i),t in xo&&t!==Fr&&(e._gsap.x||yo(e,"x"))?r&&hP===r?t==="scale"?G$:j$:(hP=r||{})&&(t==="scale"?$$:H$):e.style&&!v0(e.style[t])?V$:~t.indexOf("-")?U$:S0(e,t)},core:{_removeProperty:Ac,_getMatrix:XE}};Wn.utils.checkPrefix=Dh;Wn.core.getStyleSaver=wP;(function(n,e,t,r){var i=tr(n+","+e+","+t,function(s){xo[s]=1});tr(e,function(s){Nr.units[s]="deg",AP[s]=1}),Fs[i[13]]=n+","+e,tr(r,function(s){var a=s.split(":");Fs[a[1]]=i[a[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");tr("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Nr.units[n]="px"});Wn.registerPlugin(zE);var Ap=Wn.registerPlugin(zE)||Wn,gie=Ap.core.Tween;var Pi=function(n){return n.AUDIO="audioEvent",n.HOME="homeEvent",n.MENU="menuEvent",n.SETTINGS="settingsEvent",n.RULES="rulesEvent",n.OVERLAY_TOGGLE="overlayToggle",n}(Pi||{}),qE=class{isMuted;constructor(e=!1){this.isMuted=e}toggle(){this.isMuted=!this.isMuted}getState(){return this.isMuted}},T0=class extends De{gameService;menuBtn;soundBtn;options;option;muteState;isMenuOpen=!1;constructor(e,t){super(),this.gameService=t,this.vo=e,this.muteState=new qE,this.options=new De,this.options.label="options",this.options.x=this.vo.menuBtn.prop.x,this.options.y=this.vo.menuBtn.prop.y,this.addChild(this.options),this.options.visible=!1,this.createOptions(),this.menuBtn=new Ds(this.vo.menuBtn,this,this.onMenu.bind(this)),this.soundBtn=new Ds(this.vo.soundBtn,this,this.onMute.bind(this))}createOptions(){let e=this.vo.optionsCtn.length;for(let t=0;t<e;t++){let r=new Gn(this.vo.optionsCtn[t],this.options,this.onOptions.bind(this,t));r.label=this.vo.optionsCtn[t].name}}openMenu(){let e=0,t=this.options.children.length;for(this.options.visible=!0,e=0;e<t;e++)this.option=this.options.children[e],this.option.y=this.menuBtn.y,Ap.to(this.option,{y:-(60*(e+1)),ease:"ease.out",duration:.2*(e/5)});this.isMenuOpen=!0}closeMenu(){let e=0;this.options.visible=!1;let t=this.options.children.length;for(e=0;e<t;e++)this.option=this.options.children[e],Ap.to(this.option,{y:this.menuBtn.y,ease:"ease.out",duration:.2*(e/5)});this.isMenuOpen=!1,this.menuBtn.toggleBtn(!1)}onMenu(){this.isMenuOpen?this.closeMenu():this.openMenu(),this.gameService.playBtnSound()}onMute(){this.muteState.toggle(),ee.emit(Pi.AUDIO,this.muteState.getState())}onOptions(e){switch(this.gameService.playBtnSound(),this.option=this.options.children[e],console.log("onOptions == ",this.option.label),ee.emit(Pi.OVERLAY_TOGGLE,!0),this.option.label){case"infoIcon":ee.emit(Pi.RULES,"gamerules");break;case"settingIcon":ee.emit(Pi.SETTINGS,"settings");break}Ap.delayedCall(.4,this.closeMenu.bind(this))}onResize(e,t){console.log("Menu:: onResize => ",e,t),this.x=this.vo.view.x,this.y=this.vo.view.y,ue.isMobile&&this.adjustForMobile(e,t)}adjustForMobile(e,t){ue.isLandscape?(this.x=0,this.soundBtn.x=e-30,this.y=t-30):(this.soundBtn.x=e-30,this.y=t-100)}};var IP=(()=>{class n{socket;isConnected=!1;webSocketEvent=new an;constructor(){this.connect("wss://wss.polishchuk.com/nonstop-ws")}connect(t){return this.socket=new WebSocket(t),this.socket.onopen=()=>{this.isConnected=!0,console.log("WebSocket connected");let r={set:"authentication",location:window.location,cookie:document.cookie,key:"ba614aC3"};this.sendMessage(r)},this.socket.onmessage=r=>{this.sendDataToParent({type:"onmessage",data:JSON.parse(r.data)})},this.socket.onerror=r=>{console.error("WebSocket error:",r)},this.socket.onclose=()=>{console.log("WebSocket disconnected")},this.socket}sendMessage(t){this.socket.readyState===WebSocket.OPEN?this.socket.send(JSON.stringify(t)):console.error("WebSocket not connected")}sendDataToParent(t){this.webSocketEvent.emit(t)}close(){this.socket.close()}static \u0275fac=function(r){return new(r||n)};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var DP=(()=>{class n{gameData;parseGameData(t){return this.gameData=t,this.gameData}getGameData(){return this.gameData}getPaytable(){return this.gameData?.game?.paytable}getReels(){return this.gameData?.previous?.reels}getWalletInfo(){return this.gameData?.wallet}static \u0275fac=function(r){return new(r||n)};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var M0=class{currentConfig=null;currentState=null;wallet=null;parseResponse(e){e.on.set==="game"&&e.game&&this.handleInitResponse(e),e.on.set==="bet"&&e.bet&&this.handleBetResponse(e),e.wallet&&(this.wallet=e.wallet)}handleInitResponse(e){e.game&&(this.currentConfig=e.game,e.previous?this.currentState={bet_sum:e.previous.bet_sum||1,num_lines:e.previous.num_lines||10,reels:e.previous.reels||this.getEmptyReels(),total:{bet:e.previous.bet_sum||1},counter:0}:this.currentState={bet_sum:1,num_lines:10,reels:this.getEmptyReels(),total:{bet:1},counter:0})}handleBetResponse(e){e.bet&&(this.currentState=e.bet)}getEmptyReels(){return this.currentConfig?Array(this.currentConfig.size.width).fill(0).map(()=>Array(this.currentConfig.size.height).fill(0)):Array(5).fill(Array(3).fill(0))}getConfig(){return this.currentConfig}getGameState(){return this.currentState}getWallet(){return this.wallet}getBalance(){return this.wallet?.balance||0}getCurrentBet(){return this.currentState?.bet_sum||0}getWinAmount(){return this.currentState?.total.win||0}getReels(){return this.currentState?.reels||this.getEmptyReels()}getWinLines(){return this.currentState?.win||[]}isWin(){return!!this.currentState?.win&&this.currentState.win.length>0}};var Tc=Ul(Yw());var RP=(()=>{class n{http;gameSounds;spriteData;isMuted=!1;soundInstances={};isSoundEffect=!0;isBackgroundSound=!0;constructor(t){this.http=t}loadSounds(t){return B(this,null,function*(){try{let r=`assets/${t}/sounds/GameSounds.json`,i=yield Pv(this.http.get(r));this.spriteData=i.sprite,this.gameSounds=new Tc.Howl({src:[`assets/${t}/sounds/GameSounds.mp3`],sprite:this.spriteData,volume:1,onload:()=>console.log("Game sounds loaded successfully")})}catch(r){console.error("Error loading game sounds:",r)}})}playSound(t){if(this.gameSounds&&this.isSoundEffect&&this.spriteData[t]){let r=this.gameSounds.play(t);this.soundInstances[t]||(this.soundInstances[t]=[]),this.soundInstances[t].push(r)}else console.warn(`Sound effect "${t}" not found.`)}stopSound(t){this.soundInstances[t]?(this.soundInstances[t].forEach(r=>{this.gameSounds.stop(r)}),delete this.soundInstances[t]):console.warn(`No instances of sound effect "${t}" are playing.`)}stopSpecificSound(t,r){if(this.soundInstances[t]&&this.soundInstances[t][r]!==void 0){let i=this.soundInstances[t][r];this.gameSounds.stop(i),this.soundInstances[t].splice(r,1)}else console.warn(`Instance not found for "${t}" at index ${r}.`)}playBackground(){if(this.gameSounds&&this.isBackgroundSound&&this.spriteData.background){let t=this.gameSounds.play("background");this.soundInstances.background=[t],this.gameSounds.loop(!0,t),this.backgroundVolume(.1)}}mute(t=!0){this.isMuted=t,Tc.Howler.mute(t)}onFocus(t=!0){t?this.isMuted||Tc.Howler.mute(!1):Tc.Howler.mute(!0)}toggleMute(){this.mute(!this.isMuted)}setVolume(t){Tc.Howler.volume(t)}setSoundVolume(t,r){this.gameSounds&&this.spriteData[t]?this.gameSounds.volume(r,t):console.warn(`Sound effect "${t}" not found for volume adjustment.`)}backgroundVolume(t){let r=-1;this.gameSounds&&this.soundInstances.background?(r=this.soundInstances.background[0],this.gameSounds.volume(t,r)):console.warn(`Sound effect "${r}" not found for volume adjustment.`)}get isSoundMuted(){return this.isMuted}static \u0275fac=function(r){return new(r||n)(he(uo))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var kr=function(n){return n.GAME_INIT="gameInit",n.GAME_UPDATE="gameUpdate",n.GAME_START="gameStart",n.GAME_END="gameEnd",n.GAME_ERROR="gameError",n.FREE_SPINS_SHOW="freeSpinsShow",n.FREE_SPINS_START="freeSpinsStart",n.FREE_SPINS_END="freeSpinsEnd",n.FREE_SPINS_UPDATE="freeSpinsUpdate",n}(kr||{}),vt=function(n){return n.BTN_SPIN_START="onSpinStartEvent",n.KEY_SPIN_START="onKeySpinStartEvent",n.AUTO_SPIN_START="onAutoSpinStartEvent",n.QUICK_SPIN_START="onQuickSpinStartEvent",n.FREE_SPIN_START="onFreeSpinStartEvent",n.AUTO_SPIN="autoSpin",n.SPIN_START="spinStart",n.SPIN_STOP="spinStop",n.SPIN_END="spinEnd",n.All_SPINS_END="allReelsStopped",n.SPIN_STOPPED="spinStopped",n.SPIN_RESULT_RECEIVED="spinResultReceived",n}(vt||{});var Sa=function(n){return n.UPDATE_WALLET="updateWallet",n.UPDATE_WIN="updateWin",n.BET_UPDATE="betUpdate",n}(Sa||{});var Ca=class{currency;minValue;maxValue;value;formatter;constructor(e,t="",r=0,i=1/0){this.currency=t,this.minValue=r,this.maxValue=i,this.value=this.validateValue(e),this.formatter=new Intl.NumberFormat("en-GB",{minimumFractionDigits:2,maximumFractionDigits:2})}get formatted(){return this.formatter.format(this.value)}get current(){return this.value}set(e){this.value=this.validateValue(e)}increment(e=1){this.set(this.value+e)}decrement(e=1){this.set(Math.max(this.minValue,this.value-e))}validateValue(e){return Math.max(this.minValue,Math.min(this.maxValue,e))}},PP=(()=>{class n extends De{config;gameService;static DEFAULT_BETS=[.1,.2,.5,.8,1,1.5,2,3,5,8,10,15,20,40,50,60,80,100];static DEFAULT_BET_INDEX=4;static DEFAULT_LINES=10;balance;win;background;betLabel;betValueText;winLabel;winValueText;balanceLabel;balanceValueText;freespinsText;betMinusButton;betPlusButton;currentBetIndex;betsList;numLines;gameEventSub;constructor(t,r){super(),this.config=t,this.gameService=r,this.betsList=[...n.DEFAULT_BETS],this.currentBetIndex=n.DEFAULT_BET_INDEX,this.numLines=n.DEFAULT_LINES,this.balance=new Ca(7e3,"",0),this.win=new Ca(0,"",0),this.setupUI(),ee.on(kr.FREE_SPINS_START,this.onFreeSpins.bind(this)),ee.on(kr.FREE_SPINS_UPDATE,this.onFreeSpinUpdate.bind(this))}onFreeSpinUpdate(){this.freespinsText.text=this.gameService.freeSpinModel.freeSpinStatus}onFreeSpins(){this.freespinsText.visible=!0,this.freespinsText.x=640,this.freespinsText.y=-125,this.freespinsText.text=this.gameService.freeSpinModel.freeSpinStatus,this.gameService.sendFSSocketMessage()}setupUI(){this.background=ue.getSprite(this.config.background),this.addChild(this.background),this.config.elements.bet.label.sty=this.config.textStyles.label,this.config.elements.bet.value.sty=this.config.textStyles.value,this.config.elements.win.label.sty=this.config.textStyles.label,this.config.elements.win.value.sty=this.config.textStyles.value,this.config.elements.balance.label.sty=this.config.textStyles.label,this.config.elements.balance.value.sty=this.config.textStyles.value,this.betLabel=ue.getText(this.config.elements.bet.label,this),this.betValueText=ue.getText(this.config.elements.bet.value,this),this.winLabel=ue.getText(this.config.elements.win.label,this),this.winValueText=ue.getText(this.config.elements.win.value,this),this.balanceLabel=ue.getText(this.config.elements.balance.label,this),this.balanceValueText=ue.getText(this.config.elements.balance.value,this),this.freespinsText=ue.getText(this.config.elements.balance.value,this),this.freespinsText.visible=!1,this.betMinusButton=new Gn(this.config.elements.bet.controls.decrease,this,this.handleBetDecrease.bind(this)),this.betPlusButton=new Gn(this.config.elements.bet.controls.increase,this,this.handleBetIncrease.bind(this)),this.updateUI()}get currentBaseBet(){return this.betsList[this.currentBetIndex]}get currentTotalBet(){return this.currentBaseBet*this.numLines}get currentBetFormatted(){return`${this.currentTotalBet.toFixed(2)}`}changeBet(t){let r=this.currentBetIndex+t;r>=0&&r<this.betsList.length&&(this.currentBetIndex=r,this.updateBetDisplay())}updateBetDisplay(){this.betValueText.text=this.currentBetFormatted,this.updateButtonStates()}updateButtonStates(){this.betMinusButton.alpha=this.currentBetIndex>0?1:.5,this.betMinusButton.setDisable(this.currentBetIndex<=0),this.betPlusButton.alpha=this.currentBetIndex<this.betsList.length-1?1:.5,this.betPlusButton.setDisable(this.currentBetIndex>=this.betsList.length-1)}getCurrentBetAmount(){return this.currentTotalBet}getCurrentBaseBetValue(){return this.currentBaseBet}setNumLines(t){this.numLines=t,this.updateBetDisplay()}updateBalance(t){this.balance.set(t),this.updateUI()}updateValues(t){t.balance!==void 0&&this.balance.set(t.balance),t.win!==void 0&&(this.win.set(t.win),this.winValueText.visible=!0,t.win>0&&this.animateWin()),this.updateUI()}resetWin(){this.win.set(0),this.winValueText.visible=!1}handleBetDecrease(){this.gameService.playBtnSound(),this.changeBet(-1)}handleBetIncrease(){this.gameService.playBtnSound(),this.changeBet(1)}handleSpinStart(){this.balance.decrement(this.currentTotalBet),this.updateUI()}updateUI(){this.betValueText.text=this.currentBetFormatted,this.balanceValueText.text=this.balance.formatted,this.winValueText.text=this.win.formatted,this.win.current==0?this.winValueText.visible=!1:this.winValueText.visible=!0}animateWin(){}onResize(t,r){this.y=r,this.pivot.set(0,1),ue.isMobile&&(ue.isLandscape?this.adjustForLandscape(t):this.adjustForPortrait(t))}adjustForLandscape(t){this.background.texture=ue.getTexture(this.config.background),ue.setProp(this.background,this.config.background.prop),this.positionLandscapeElements(t),this.x=0}adjustForPortrait(t){this.background.texture=ue.getTexture(this.config.portraitBg),ue.setProp(this.background,this.config.portraitBg.prop),this.positionPortraitElements(t),this.x=0}positionLandscapeElements(t){let r=this.config.elements.balance.label.prop.y;this.betLabel.x=150,this.betValueText.x=this.betLabel.x,this.betMinusButton.x=this.betLabel.x-60,this.betPlusButton.x=this.betLabel.x+60,this.winLabel.x=t-100,this.winValueText.x=this.winLabel.x,this.balanceLabel.x=this.winLabel.x-90,this.balanceValueText.x=this.balanceLabel.x,this.freespinsText.x=640,this.freespinsText.y=-125,[this.betLabel,this.balanceLabel,this.winLabel].forEach(i=>i.y=r),[this.betValueText,this.balanceValueText,this.winValueText,this.betMinusButton,this.betPlusButton].forEach(i=>i.y=r+20),[this.winLabel,this.winValueText,this.balanceLabel,this.balanceValueText].forEach(i=>i.anchor.set(.5,.5))}positionPortraitElements(t){this.betLabel.x=t*.5,this.betValueText.x=this.betLabel.x,this.betLabel.y=this.config.elements.bet.label.prop.y,this.betValueText.y=this.config.elements.bet.value.prop.y,this.betMinusButton.x=this.betLabel.x-70,this.betPlusButton.x=this.betLabel.x+70,this.betMinusButton.y=this.betPlusButton.y=this.betValueText.y,this.balanceLabel.x=this.config.elements.balance.label.prop.x,this.balanceValueText.x=this.balanceLabel.x,this.winLabel.x=t-12,this.winValueText.x=this.winLabel.x,this.winLabel.anchor.set(1,.5),this.winValueText.anchor.set(1,.5),this.balanceLabel.anchor.set(0,.5),this.balanceValueText.anchor.set(0,.5)}onDestroy(){super.destroy()}}return n})();var I0=class{award={type:"",number:0};isFreeSpins=!1;id="";counter=0;limit=0;bet=0;win=0;winTxt=new Ca(0,"",0);get remaining(){return this.limit-this.counter}get isComplete(){return this.counter>=this.limit}get freeSpinStatus(){return this.isFreeSpins?`Free spins: ${this.counter}/${this.limit}`:""}get freeSpinWin(){return`Win: ${this.winTxt.formatted}`}set freeSpins(e){this.isFreeSpins=e}updateAward(e){this.award=e,this.freeSpins=!0,this.id="f"+this.award.number,this.limit=this.award.number,this.counter=0,this.win=0}updateCounter(e){this.counter=e.counter||this.counter,this.limit=e.limit||this.limit,this.bet=e.bet||this.bet,this.win=e.win||this.win,this.winTxt.set(this.win)}increment(){this.isComplete||this.counter++}};var OP=(()=>{class n{setItem(t,r){try{let i=JSON.stringify(r);sessionStorage.setItem(t,i)}catch(i){console.error("Error saving to sessionStorage",i)}}getItem(t){try{let r=sessionStorage.getItem(t);return r?JSON.parse(r):null}catch(r){return console.error("Error getting data from sessionStorage",r),null}}updateItem(t,r){try{let i=this.getItem(t)||{},s=W(W({},i),r);this.setItem(t,s)}catch(i){console.error("Error updating sessionStorage item",i)}}removeItem(t){sessionStorage.removeItem(t)}clear(){sessionStorage.clear()}hasKey(t){return sessionStorage.getItem(t)!==null}getKeys(){return Object.keys(sessionStorage)}getLength(){return sessionStorage.length}static \u0275fac=function(r){return new(r||n)};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var rr=(()=>{class n{_pixiLoader;_api;http;wsService;gameDataService;sndService;sessionStorage;static APP_INIT="appInitialize";static APP_INIT_COMPLETE="appInitializeComplete";static APP_PROGRESS="appProgress";static APP_INIT_ERROR="appInitializeError";static APP_RESIZE="appResize";static APP_UPDATE="appUpdate";static UPDATE_WALLET="UPDATE_WALLET";static UPDATE_PAYTABLE="UPDATE_PAYTABLE";static UPDATE_REELS="UPDATE_REELS";player={account_id:"0",user_name:"ng15",balance:"0",cash:"0",bonus_amount:"0",currency:"GBP",first_name:"",isDemo:!1};gameData={game_id:"",game_tag:"",game_name:"",num_rows:"3",num_columns:"5",min_coins:"",max_coins:"",default_coins:"",num_coins:"",default_coin_value:"10",coin_values:"1;2;3;4;5;10;20;50",fixed_coins:"1",paylines_type:"fixed",num_paylines:"",num_paylines_fs:"",rtp:"95"};previousRound;currentRound;nextRound;promoDetails=[];misc=[];payload;data={};isSpinResponse=!1;isReelStarted=!1;websocketAuth=!1;isGameConnected=!1;isSpaceBarEnabled=!0;isQuickSpinEnabled=!1;isStopOnAnyWin=!1;isWinLimit=!1;isLossLimit=!1;winLimit=0;lossLimit=0;autoPlayNum=1e4;isAutoSpinActive=!1;isSpinning=!1;autoSpinCount=0;isBigWinDisabled=!1;displayMatrix=[];rawMatrix=[];mockData;reels=[];winLines=[];parser=new M0;freeSpinModel=new I0;gameEvent=new pn;gameListener=this.gameEvent.asObservable();wsServiceSub;volumeSubject=new pn;constructor(t,r,i,s,a,l,o){this._pixiLoader=t,this._api=r,this.http=i,this.wsService=s,this.gameDataService=a,this.sndService=l,this.sessionStorage=o,this.registerEvents()}registerEvents(){ee.on(Pi.AUDIO,t=>{this.log("MENU_EVENTS:: audio mute =",t),this.sndService.mute(t)}),ee.on(st.FOCUS,t=>{this.sndService.onFocus(t)}),this.volumeSubject.pipe(Nv(100)).subscribe(t=>{this.sndService.setVolume(t/100)}),ee.on(st.VOLUME,t=>{this.volumeSubject.next(t)}),ee.on(st.SETTINGS,t=>{switch(this.playBtnSound(),console.log(t),t.title){case"sound_effect":this.sndService.isSoundEffect=t.checked,this.sessionStorage.updateItem("settings",{isSoundEffect:t.checked});break;case"ambience_sound":this.sndService.isBackgroundSound=t.checked,this.sessionStorage.updateItem("settings",{isBackgroundSound:t.checked}),t.checked?this.sndService.playBackground():this.sndService.stopSound("background");break;case"space_bar":this.isSpaceBarEnabled=t.checked,this.sessionStorage.updateItem("settings",{isSpaceBarEnabled:t.checked});break;case"skip_big_win_sound":this.isBigWinDisabled=t.checked,this.sessionStorage.updateItem("settings",{isBigWinDisabled:t.checked});break;case"quick_spin":this.isQuickSpinEnabled=t.checked,this.sessionStorage.updateItem("settings",{isQuickSpinEnabled:t.checked});break;case"stopOnAnyWin":this.isStopOnAnyWin=t.checked,this.isStopOnAnyWin&&(this.isWinLimit=!1),this.sessionStorage.updateItem("settings",{isStopOnAnyWin:t.checked,isWinLimit:this.isWinLimit});break;case"winLimitState":this.isWinLimit=t.checked,this.winLimit=t.value,this.isWinLimit&&(this.isStopOnAnyWin=!1),this.sessionStorage.updateItem("settings",{isWinLimit:t.checked,winLimit:this.winLimit,isStopOnAnyWin:this.isStopOnAnyWin});break;case"lossLimitState":this.isLossLimit=t.checked,this.lossLimit=t.value,this.sessionStorage.updateItem("settings",{isLossLimit:t.checked,lossLimit:this.lossLimit});break;case"winLimit":this.winLimit=t.value,this.sessionStorage.updateItem("settings",{winLimit:t.value});break;case"lossLimit":this.lossLimit=t.value,this.sessionStorage.updateItem("settings",{lossLimit:t.value});break;case"updateAutoPlay":this.autoPlayNum=Number(t.value),this.sessionStorage.updateItem("settings",{autoPlayNum:this.autoPlayNum});break;case"autoPlayStart":this.autoPlayNum=Number(t.value),this.sessionStorage.updateItem("settings",{autoPlayNum:this.autoPlayNum}),this.isAutoSpinActive=!0,ee.emit(vt.AUTO_SPIN,this.autoPlayNum);break;case"paytable":break;case"gamehistory":break;default:break}}),ee.on(Sa.UPDATE_WIN,t=>{this.updateBalanceDisplay()}),this.wsServiceSub=this.wsService.webSocketEvent.subscribe(t=>{if(!this.websocketAuth&&t.data.authentication==!0){this.websocketAuth=!0,this.gameData.game_tag!==""&&(this.isGameConnected=!0,this.wsService.sendMessage({set:"game",game:this.gameData.game_tag}));return}console.log("WebSocket received:",t.data),this.parser.parseResponse(t.data),t.data.on.set==="game"?this.handleGameInit():t.data.on.set==="bet"&&this.handleSpinResult()})}handleGameInit(){let t=this.parser.getConfig(),r=this.parser.getGameState();!t||!r||(this.updateReels(r.reels),this.updateBalanceDisplay())}handleSpinResult(){let t=this.parser.getGameState();t&&(this.isSpinResponse=!0,this.rawMatrix=JSON.parse(JSON.stringify(t.reels)),this.displayMatrix=this.transformMatrix(t.reels),console.log("displayMatrix = ",this.displayMatrix),this.isReelStarted&&ee.emit("onSpinResponce"),this.freeSpinModel.updateCounter(t.freespin||{counter:0,limit:0,bet:0,win:0}),this.parser.isWin()?this.animateWinLines(this.parser.getWinLines()):this.winLines=[])}animateWinLines(t){this.winLines=[...t]}updateReels(t){this.displayMatrix=this.transformMatrix(t),ee.emit(n.UPDATE_REELS,this.displayMatrix)}transformMatrix(t){return t?.length?t.map(r=>{let i=[...r];return i.unshift(r[r.length-1]),i.push(r[0]),i}):[]}updateBalanceDisplay(){ee.emit(Sa.UPDATE_WALLET,{balance:this.parser.getBalance(),bet:this.parser.getCurrentBet(),win:this.parser.getWinAmount()})}playBtnSound(){this.sndService.playSound("btnClick")}playSound(t){this.sndService.playSound(t)}stopSound(t){this.sndService.stopSound(t)}spinBtnSound(){this.sndService.playSound("spinStartBtn"),this.sndService.playSound("spinStart")}initService(t){let r=t.params;this.gameData.game_name=r.game_name,this.player.user_name=r.user_name,this.player.isDemo=r.isDemo,this.emit(n.APP_INIT,this._pixiLoader.getGameBg(this.gameData.game_name)),this._pixiLoader.loadConfig(this.onDataLoad.bind(this)),this.getData(`assets/${this.gameData.game_name}/data/mock_data.json`).subscribe(i=>{this.mockData=i,console.log("mock_data",i)})}onDataLoad(t,r){ee.emit(n.APP_PROGRESS,r),r.type==="assets"?this.emit(n.APP_INIT_COMPLETE,t):r.type==="config"&&(this.gameData.game_id=t.gameConfig.gameInfo.id,this.gameData.game_tag=t.gameConfig.gameInfo.tag,this.websocketAuth&&!this.isGameConnected&&(this.isGameConnected=!0,this.wsService.sendMessage({set:"game",game:this.gameData.game_tag})),this.sndService.loadSounds(this.gameData.game_name).then(()=>{this.sndService.playBackground()}))}getData(t){return this.http.get(t).pipe(io(1),In(this.handleError))}handleError(t){let r=t.error instanceof ErrorEvent?t.error.message:`Error Code: ${t.status}
Message: ${t.message}`;return window.alert(r),_i(()=>r)}getSpinData(){this.payload={game_id:this.gameData.game_id,request_type:"2",amount_type:"1",username:this.player.user_name,platform_type:"desktop",session_id:"",coin_value:10,num_coins:10},this.isSpinResponse=!1}sendSocketMessage(t,r){this.wsService.sendMessage({set:"bet",bet_sum:t*r,num_lines:r})}sendFSSocketMessage(){this.wsService.sendMessage({set:"bet"})}onSpineResponce(t){"error_code"in t?this.log("GameService:: getSpinData ==> error =",t):"game"in t&&(this.log("GameService:: getSpinData ==> data =",t),this.isSpinResponse=!0,this.isReelStarted&&ee.emit("onSpinResponce"))}stopAutoSpin(){this.autoSpinCount=0,this.isSpinning=!1,this.isAutoSpinActive=!1}emit(t,r){this.gameEvent.next({event:t,data:r})}onResize(t,r,i,s){this.emit(n.APP_RESIZE,{width:t,height:r,scale:i,scaleY:s})}log(...t){console.log(...t)}ngOnDestroy(){this.wsServiceSub&&this.wsServiceSub.unsubscribe()}static \u0275fac=function(r){return new(r||n)(he(tE),he(Ww),he(uo),he(IP),he(DP),he(RP),he(OP))};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var sH=["overlay"],oH=n=>({backgroundImage:n}),NP=n=>({mobile:n}),FP=n=>({transform:n});function aH(n,e){if(n&1){let t=aa();A(0,"app-paytables",7),bt("panelClosed",function(){ra(t);let i=Ms();return ia(i.onClose())}),T()}}function lH(n,e){if(n&1){let t=aa();A(0,"div",5)(1,"app-settings",7),bt("panelClosed",function(){ra(t);let i=Ms();return ia(i.onClose())}),T()()}if(n&2){let t=Ms();er("ngClass",Mr(2,NP,t.isMobile))("ngStyle",Mr(4,FP,"scale("+t.scaleValue+")"))}}function cH(n,e){if(n&1){let t=aa();A(0,"div",6)(1,"app-game-rules",7),bt("panelClosed",function(){ra(t);let i=Ms();return ia(i.onClose())}),T()()}if(n&2){let t=Ms();er("ngClass",Mr(2,NP,t.isMobile))("ngStyle",Mr(4,FP,"scale("+t.scaleValue+")"))}}function uH(n,e){if(n&1){let t=aa();A(0,"app-game-history",7),bt("panelClosed",function(){ra(t);let i=Ms();return ia(i.onClose())}),T()}}function hH(n,e){n&1&&M(0," Default case. ")}var kP=(()=>{class n{_gameService;overlay;bgImg="";tabs=[{title:"gamerules",content:"GAME RULES",active:!1},{title:"paytable",content:"PAYTABLE",active:!0},{title:"settings",content:"SETTINGS",active:!1},{title:"gamehistory",content:"GAME HISTORY",active:!1}];selectedTab=this.tabs[0];eventSubscription;scaleValue=1;oWidth=1280;oHeight=720;constructor(t){this._gameService=t,this.eventSubscription=this._gameService.gameListener.subscribe(r=>{this.handleEvent(r)}),ee.on(Pi.SETTINGS,r=>{console.log("MENU_EVENTS:: SETTINGS =",r);let i=this.tabs.find(s=>s.title===r);this.selectedTab=i}),ee.on(Pi.RULES,r=>{console.log("MENU_EVENTS:: RULES =",r);let i=this.tabs.find(s=>s.title===r);this.selectedTab=i}),ee.on(st.SETTINGS,r=>{switch(this._gameService.playBtnSound(),console.log(r),r.title){case"sound_effect":break;case"space_bar":this._gameService.isSpaceBarEnabled=r.checked;break;case"paytable":break;case"gamehistory":break;default:break}})}handleEvent(t){switch(console.log("OverlayComponent:: Event received:",t),t.event){case rr.APP_RESIZE:this.isMobile||(this.overlay.nativeElement.style.width=t.data.scale*t.data.width+"px",this.overlay.nativeElement.style.height=t.data.scale*t.data.height+"px",t.data.scale>=.72265625&&t.data.scale<=1.5&&(this.scaleValue=t.data.scale));break;default:break}}selectTab(t){this.tabs.forEach(r=>r.active=!1),t.active=!0,this.selectedTab=t}get isMobile(){return ue.isMobile}onClose(){this._gameService.playBtnSound(),ee.emit(Pi.OVERLAY_TOGGLE,!1),ee.emit(Pi.MENU,!1)}ngOnDestroy(){this.eventSubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)(yn(rr))};static \u0275cmp=gn({type:n,selectors:[["app-overlay"]],viewQuery:function(r,i){if(r&1&&JM(sH,7),r&2){let s;Ub(s=jb())&&(i.overlay=s.first)}},standalone:!0,features:[xn],decls:10,vars:5,consts:[["overlay",""],["id","overlay"],[1,"bg"],[1,"overlay-bg"],[1,"overlay-content"],[1,"settingContent",3,"ngClass","ngStyle"],[1,"rulesContent",3,"ngClass","ngStyle"],[3,"panelClosed"]],template:function(r,i){if(r&1&&(A(0,"div",1,0),re(2,"div",2)(3,"div",3),A(4,"div",4),Fb(5,aH,1,0,"app-paytables")(6,lH,2,6,"div",5)(7,cH,2,6,"div",6)(8,uH,1,0,"app-game-history")(9,hH,1,0),T()()),r&2){let s;yt(2),Ju(Mr(3,oH,i.bgImg)),yt(3),KM((s=i.selectedTab.title)==="paytable"?5:s==="settings"?6:s==="gamerules"?7:s==="gamehistory"?8:9)}},dependencies:[Dn,Ey,xI,vR,_R,bR,wR],styles:["#overlay[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute}#overlay[_ngcontent-%COMP%]   .bg[_ngcontent-%COMP%]{background:no-repeat center/cover;position:absolute;width:100%;height:100%;z-index:0}#overlay[_ngcontent-%COMP%]   .overlay-bg[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;background:#000c}#overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;top:0;display:flex;justify-content:center;align-items:center}#overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   .rulesContent[_ngcontent-%COMP%]{max-width:780px;max-height:550px;width:100%;height:100%;border:1px solid rgb(172,51,187);background:#01091c;border-radius:4px;padding:24px 44px}#overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   .rulesContent.mobile[_ngcontent-%COMP%]{width:calc(100% - 12px);height:calc(100% - 12px);padding:12px;max-width:none!important;max-height:none!important}#overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   .settingContent[_ngcontent-%COMP%]{max-width:780px;max-height:550px;width:100%;height:100%;border:1px solid rgb(172,51,187);background:#01091c;border-radius:4px;padding:24px 44px}#overlay[_ngcontent-%COMP%]   .overlay-content[_ngcontent-%COMP%]   .settingContent.mobile[_ngcontent-%COMP%]{width:calc(100% - 12px);height:calc(100% - 12px);padding:12px;max-width:none!important;max-height:none!important}"]})}return n})();var D0=class extends De{_bg;_data;constructor(e,t){super(),this.vo=e,this._data=t,this._bg=ue.getSprite(this.vo),this.addChild(this._bg),ee.on(kr.FREE_SPINS_START,()=>this.updateBg(!0)),ee.on(kr.FREE_SPINS_END,()=>this.updateBg(!1))}updateBg(e=!1){e?this._bg.texture=ue.getTexture(this.vo.freespins):this._bg.texture=ue.getTexture(this.vo)}onResize(e,t){ue.isMobile?ue.isLandscape?(this.width=e,this.scale.set(this.scale._x,this.scale._x),this.x=0):(this.height=t,this.scale.set(this.scale._y,this.scale._y),this.x=(e-this.width)*.5):this.scale.set(1,1)}};var LP=(()=>{class n{app;currentScene;scenes=new Map;_pixiApp;initialize(t){this._pixiApp=t,this.app=t.app}addScene(t,r){this.scenes.set(t,r),r.init&&r.init()}changeScene(t,r){return B(this,null,function*(){if(!this.scenes.has(t))throw new Error(`Scene ${t} does not exist`);this.currentScene&&this.app.stage.removeChild(this.currentScene),this.currentScene=this.scenes.get(t),this.app.stage.addChild(this.currentScene),this.currentScene.init&&(yield this.currentScene.init(r)),this._pixiApp.onResize()})}getCurrentScene(){return this.currentScene}update(t,r){this.currentScene&&this.currentScene&&this.currentScene.update(t,r)}onResize(t,r,i,s){this.currentScene&&this.currentScene.onResize&&this.currentScene.onResize(t,r,i,s)}static \u0275fac=function(r){return new(r||n)};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var R0=class extends De{assetLoader;sceneService;progressText;progressBar;constructor(e,t){super(),this.assetLoader=e,this.sceneService=t}init(){return B(this,null,function*(){this.setupScene(),yield this.loadAssets(),this.sceneService.changeScene("intro")})}setupScene(){let e=new Dr;e.rect(0,0,this.sceneService.app.stage.width,this.sceneService.app.stage.height),e.fill(3355443),this.addChild(e),this.progressBar=new Dr,this.addChild(this.progressBar),this.progressBar.position.set((this.sceneService.app.stage.width-this.progressBar.width)/2,this.sceneService.app.stage.height/2);let t=new Hl({fontFamily:"Arial",fontSize:24,fill:"#ffffff"});this.progressText=new ma({text:"Loading: 0%",style:t}),this.progressText.anchor.set(.5),this.addChild(this.progressText),this.progressText.position.set(this.sceneService.app.stage.width/2,this.sceneService.app.stage.height/2-40),this.resize()}loadAssets(){return B(this,null,function*(){let e=[{alias:"background",src:"assets/scarybook/images/background.png"},{alias:"symbols",src:"assets/scarybook/images/@1x/basic0.json"}];for(let t of e)yield this.assetLoader.load(t.alias,t.src,r=>{this.updateProgress(r)})})}updateProgress(e){let t=this.sceneService.app.stage.width*.6,r=30,i=(this.sceneService.app.stage.width-t)/2,s=this.sceneService.app.stage.height/2;this.progressBar.clear(),this.progressBar.rect(i,s,t,r),this.progressBar.fill(5592405),this.progressBar.rect(i,s,t*e,r),this.progressBar.fill(65280),this.progressText.text=`Loading: ${Math.round(e*100)}%`,this.progressText.position.set(this.sceneService.app.stage.width/2,s-40)}resize(){}};var Mc=class extends De{logo;constructor(e){super(),this.vo=e,this.logo=ue.getSprite(this.vo),this.addChild(this.logo)}onResize(e,t){ue.setProp(this.logo,this.vo.prop),ue.isMobile&&(this.logo.scale.set(.5,.5),this.logo.x=e*.5,ue.isLandscape?this.logo.y=6:this.logo.y=90)}};var P0=class extends fc{sceneService;_serv;bg;fade;btn;_gameLogo;introCtnr;_config;constructor(e,t,r){super(),this.sceneService=t,this._serv=r,this._config=e,console.log("IntroScene:: ==> ",this._config,r),this.setupScene()}setupScene(){let e=this._config[this.device].IntroScene;this.bg=new Dr,this.bg.rect(0,0,10,10),this.bg.fill(0),this.bg.label="bg",this.addChild(this.bg),this._gameLogo=new Mc(e.gameLogo),this.addChild(this._gameLogo),this.introCtnr=new De,this.introCtnr.label="ctner",this.introCtnr.position.set(50,180),this.addChild(this.introCtnr),this.btn=new Gn(e.continueBtn,this,this.startPlay.bind(this)),this.addChild(this.btn)}startPlay(){console.log("avinash"),this.sceneService.changeScene("game")}update(e,t){}onResize(e,t,r,i){this._gameLogo.onResize(e,t),this.btn.scale.set(.5,.5),this.btn.position.x=e/2,this.btn.position.y=t-this.btn.height-20}};var O0=class extends De{id=0;border;sprite;static textureCache=new Map;constructor(e,t,r,i=!1){super(),this.vo=r,i&&(this.border=new Dr,this.border.rect(0,0,e,t),this.border.fill(11184640),this.addChild(this.border)),this.sprite=new dc,this.sprite.anchor.set(.5,.5),this.addChild(this.sprite),this.pivot.set(.5),this.swap(-1)}swap(e){try{e===-1?this.id=Math.floor(Math.random()*this.vo.symbols.length):this.id=e-1,this.vo.symbols[this.id].texture===null&&(this.vo.symbols[this.id].texture=Rs.from(this.vo.symbols[this.id].filename)),this.sprite.texture=this.vo.symbols[this.id].texture}catch(t){console.log("Error in swap method:",e,this.vo.symbols),console.error("Error in swap method:",t)}}resize(e,t){console.log(`Tile resized to: ${e}x${t}`),this.pivot.set(.5)}};var BP=(()=>{class n extends De{static reelMaxSpeed=50;static inTime=30;static outTime=30;static visibleTiles=3;static totalTiles=5;id;tiles=[];realWidth;realHeight;tileHeight;container;time=0;timeStop=0;spinning=!1;stopping=!1;blurFilter;finalOffset=0;finalPosition=0;responseData=[0,1,2,3,4];tileYPosArr=[];tileGap=5;gameService;constructor(t,r,i,s,a){super(),this.gameService=a,this.vo=s,this.realWidth=t,this.realHeight=r,this.tileHeight=r/n.visibleTiles,this.id=i;let l=new Dr;l.rect(this.tileGap,0,t,r+this.tileGap*(n.visibleTiles+1)),l.fill(43520),this.addChild(l),this.container=new De,this.container.mask=l,this.container.position.set(t/2,t/2),this.addChild(this.container),this.tiles=[],this.tileYPosArr=[]}init(){for(let t=0;t<n.totalTiles;t++){let r=new O0(this.realWidth,this.tileHeight,this.vo);r.label=`tile${t}`,r.position.set(this.tileGap,(this.tileHeight+this.tileGap)*t-this.tileHeight),this.container.addChild(r),this.tiles.push(r),this.tileYPosArr.push(r.y);let i=-1;this.responseData&&(i=this.responseData[t]),this.tiles[t].swap(i)}this.blurFilter=new eE({strength:1,strengthX:0,strengthY:0}),this.filters=[this.blurFilter]}spin(){this.time=0,this.spinning=!0;for(let t=0;t<this.tiles.length;t++)this.tiles[t].visible=!0;this.blurFilter.blurXFilter.strength=1,this.filters=[this.blurFilter]}stop(){setTimeout(()=>{this.gameService.playSound("reelStop")},200),this.finalOffset=1,this.finalPosition=this.realHeight-this.tileHeight-this.getYPos(),this.stopping=!0,this.timeStop=this.time}getYPos(){for(let t=0;t<this.tiles.length;t++)if(this.tiles[t].label.indexOf("tile3")!=-1)return this.tiles[t].y-15;return this.container.children[0].y}update(t){if(!this.spinning)return;this.time+=t;let r=this.getSpeed(t);for(let s of this.tiles)s.y+=r;this.blurFilter.blurYFilter.strength=r*.3;let i=this.realHeight+this.tileHeight;for(let s=this.tiles.length-1;s>=0;s--)if(this.container.y+this.tiles[s].y>i){this.tiles[s].y=this.container.children[0].y-(this.tileHeight+this.tileGap),this.container.addChildAt(this.tiles[s],0);let a=-1;this.responseData&&(a=this.responseData[s]),this.tiles[s].swap(a)}}getSpeed(t){let r=t*n.reelMaxSpeed;if(this.stopping){let i=1-(this.time-this.timeStop)/n.outTime,s=this.easeInBack(i);r=(this.finalOffset-s)*this.finalPosition,this.finalOffset=s,i<=0&&this.onComplete()}else if(this.time<n.inTime){let i=this.time/n.inTime;r*=this.easeInBack(i)}return r}onComplete(){this.stopping=!1,this.spinning=!1,this.reorderTiles(),this.emit("spincomplete",{target:this,id:this.id}),this.filters=[]}resetTiles(){this.tiles.forEach((t,r)=>{t.y=(this.tileHeight+this.tileGap)*(r-1)+5})}reorderTiles(){this.tiles.sort(this.compareTiles.bind(this))}compareTiles(t,r){return this.container.getChildIndex(t)>this.container.getChildIndex(r)}easeInBack(t){return t*t*((1.6+1)*t-1.6)}onResize(t,r){console.log(t,r)}updateWinSyms(t){for(let r=0;r<t.length;r++)t[r]==0?this.tiles[r].visible=!0:this.tiles[r].visible=!1}resetWinSyms(){for(let t=0;t<this.tiles.length;t++)this.tiles[t].visible=!0}}return n})();var Tp=class extends De{id=0;border;animSym;flameSym;static textureCache=new Map;constructor(e,t,r,i=!1){super(),this.vo=r,i&&(this.border=new Dr,this.border.rect(0,0,e,t),this.border.fill(11184640),this.addChild(this.border));let s=this.vo.animations.flame,a=[];for(let l=s.startFrame;l<=s.endFrame;l++){let o=l.toString().padStart(3,"0");a.push(Rs.from(s.filename+o))}this.flameSym=new pa(a),this.flameSym.anchor.set(.5),this.flameSym.animationSpeed=.5,this.addChild(this.flameSym),this.pivot.set(.5)}swap(e,t=!1,r=!1){let i=[];for(let s=e.startFrame;s<=e.endFrame;s++){let a=s.toString().padStart(3,"0");i.push(Rs.from(e.filename+a))}this.animSym=new pa(i),this.animSym.anchor.set(.5),this.animSym.animationSpeed=.5,t&&this.animSym.play(),r&&this.flameSym.play(),this.addChild(this.animSym)}resize(e,t){console.log(`Tile resized to: ${e}x${t}`),this.pivot.set(.5)}};var le=(n=>(n[n.Region=0]="Region",n[n.BoundingBox=1]="BoundingBox",n[n.Mesh=2]="Mesh",n[n.LinkedMesh=3]="LinkedMesh",n[n.Path=4]="Path",n[n.Point=5]="Point",n[n.Clipping=6]="Clipping",n))(le||{});var Ls=class{constructor(e,t=new Array,r=0,i=new DataView(e.buffer)){this.strings=t,this.index=r,this.buffer=i}readByte(){return this.buffer.getInt8(this.index++)}readUnsignedByte(){return this.buffer.getUint8(this.index++)}readShort(){let e=this.buffer.getInt16(this.index);return this.index+=2,e}readInt32(){let e=this.buffer.getInt32(this.index);return this.index+=4,e}readInt(e){let t=this.readByte(),r=t&127;return t&128&&(t=this.readByte(),r|=(t&127)<<7,t&128&&(t=this.readByte(),r|=(t&127)<<14,t&128&&(t=this.readByte(),r|=(t&127)<<21,t&128&&(t=this.readByte(),r|=(t&127)<<28)))),e?r:r>>>1^-(r&1)}readStringRef(){let e=this.readInt(!0);return e==0?null:this.strings[e-1]}readString(){let e=this.readInt(!0);switch(e){case 0:return null;case 1:return""}e--;let t="";for(let r=0;r<e;){let i=this.readUnsignedByte();switch(i>>4){case 12:case 13:t+=String.fromCharCode((i&31)<<6|this.readByte()&63),r+=2;break;case 14:t+=String.fromCharCode((i&15)<<12|(this.readByte()&63)<<6|this.readByte()&63),r+=3;break;default:t+=String.fromCharCode(i),r++}}return t}readFloat(){let e=this.buffer.getFloat32(this.index);return this.index+=4,e}readBoolean(){return this.readByte()!=0}};var I=(n=>(n[n.setup=0]="setup",n[n.first=1]="first",n[n.replace=2]="replace",n[n.add=3]="add",n))(I||{}),_e=(n=>(n[n.mixIn=0]="mixIn",n[n.mixOut=1]="mixOut",n))(_e||{});var Je=(n=>(n[n.Fixed=0]="Fixed",n[n.Percent=1]="Percent",n))(Je||{}),ot=(n=>(n[n.Tangent=0]="Tangent",n[n.Chain=1]="Chain",n[n.ChainScale=2]="ChainScale",n))(ot||{});var ce=(n=>(n[n.Normal=0]="Normal",n[n.OnlyTranslation=1]="OnlyTranslation",n[n.NoRotationOrReflection=2]="NoRotationOrReflection",n[n.NoScale=3]="NoScale",n[n.NoScaleOrReflection=4]="NoScaleOrReflection",n))(ce||{});var ai=(n=>(n[n.WEBGL_LEGACY=0]="WEBGL_LEGACY",n[n.WEBGL=1]="WEBGL",n[n.WEBGL2=2]="WEBGL2",n))(ai||{}),QE=(n=>(n[n.UNKNOWN=0]="UNKNOWN",n[n.WEBGL=1]="WEBGL",n[n.CANVAS=2]="CANVAS",n))(QE||{}),N0=(n=>(n[n.COLOR=16384]="COLOR",n[n.DEPTH=256]="DEPTH",n[n.STENCIL=1024]="STENCIL",n))(N0||{}),ne=(n=>(n[n.NORMAL=0]="NORMAL",n[n.ADD=1]="ADD",n[n.MULTIPLY=2]="MULTIPLY",n[n.SCREEN=3]="SCREEN",n[n.OVERLAY=4]="OVERLAY",n[n.DARKEN=5]="DARKEN",n[n.LIGHTEN=6]="LIGHTEN",n[n.COLOR_DODGE=7]="COLOR_DODGE",n[n.COLOR_BURN=8]="COLOR_BURN",n[n.HARD_LIGHT=9]="HARD_LIGHT",n[n.SOFT_LIGHT=10]="SOFT_LIGHT",n[n.DIFFERENCE=11]="DIFFERENCE",n[n.EXCLUSION=12]="EXCLUSION",n[n.HUE=13]="HUE",n[n.SATURATION=14]="SATURATION",n[n.COLOR=15]="COLOR",n[n.LUMINOSITY=16]="LUMINOSITY",n[n.NORMAL_NPM=17]="NORMAL_NPM",n[n.ADD_NPM=18]="ADD_NPM",n[n.SCREEN_NPM=19]="SCREEN_NPM",n[n.NONE=20]="NONE",n[n.SRC_OVER=0]="SRC_OVER",n[n.SRC_IN=21]="SRC_IN",n[n.SRC_OUT=22]="SRC_OUT",n[n.SRC_ATOP=23]="SRC_ATOP",n[n.DST_OVER=24]="DST_OVER",n[n.DST_IN=25]="DST_IN",n[n.DST_OUT=26]="DST_OUT",n[n.DST_ATOP=27]="DST_ATOP",n[n.ERASE=26]="ERASE",n[n.SUBTRACT=28]="SUBTRACT",n[n.XOR=29]="XOR",n))(ne||{}),Yn=(n=>(n[n.POINTS=0]="POINTS",n[n.LINES=1]="LINES",n[n.LINE_LOOP=2]="LINE_LOOP",n[n.LINE_STRIP=3]="LINE_STRIP",n[n.TRIANGLES=4]="TRIANGLES",n[n.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",n[n.TRIANGLE_FAN=6]="TRIANGLE_FAN",n))(Yn||{}),ie=(n=>(n[n.RGBA=6408]="RGBA",n[n.RGB=6407]="RGB",n[n.RG=33319]="RG",n[n.RED=6403]="RED",n[n.RGBA_INTEGER=36249]="RGBA_INTEGER",n[n.RGB_INTEGER=36248]="RGB_INTEGER",n[n.RG_INTEGER=33320]="RG_INTEGER",n[n.RED_INTEGER=36244]="RED_INTEGER",n[n.ALPHA=6406]="ALPHA",n[n.LUMINANCE=6409]="LUMINANCE",n[n.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",n[n.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",n[n.DEPTH_STENCIL=34041]="DEPTH_STENCIL",n))(ie||{}),vo=(n=>(n[n.TEXTURE_2D=3553]="TEXTURE_2D",n[n.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",n[n.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",n[n.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",n[n.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",n[n.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",n[n.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",n[n.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",n))(vo||{}),we=(n=>(n[n.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",n[n.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",n[n.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",n[n.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",n[n.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",n[n.UNSIGNED_INT=5125]="UNSIGNED_INT",n[n.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",n[n.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",n[n.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",n[n.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",n[n.BYTE=5120]="BYTE",n[n.SHORT=5122]="SHORT",n[n.INT=5124]="INT",n[n.FLOAT=5126]="FLOAT",n[n.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",n[n.HALF_FLOAT=36193]="HALF_FLOAT",n))(we||{}),se=(n=>(n[n.FLOAT=0]="FLOAT",n[n.INT=1]="INT",n[n.UINT=2]="UINT",n))(se||{}),Nn=(n=>(n[n.NEAREST=0]="NEAREST",n[n.LINEAR=1]="LINEAR",n))(Nn||{}),_o=(n=>(n[n.CLAMP=33071]="CLAMP",n[n.REPEAT=10497]="REPEAT",n[n.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",n))(_o||{}),li=(n=>(n[n.OFF=0]="OFF",n[n.POW2=1]="POW2",n[n.ON=2]="ON",n[n.ON_MANUAL=3]="ON_MANUAL",n))(li||{}),cn=(n=>(n[n.NPM=0]="NPM",n[n.UNPACK=1]="UNPACK",n[n.PMA=2]="PMA",n[n.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",n[n.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",n[n.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",n))(cn||{}),Aa=(n=>(n[n.NO=0]="NO",n[n.YES=1]="YES",n[n.AUTO=2]="AUTO",n[n.BLEND=0]="BLEND",n[n.CLEAR=1]="CLEAR",n[n.BLIT=2]="BLIT",n))(Aa||{}),F0=(n=>(n[n.AUTO=0]="AUTO",n[n.MANUAL=1]="MANUAL",n))(F0||{}),ir=(n=>(n.LOW="lowp",n.MEDIUM="mediump",n.HIGH="highp",n))(ir||{}),$t=(n=>(n[n.NONE=0]="NONE",n[n.SCISSOR=1]="SCISSOR",n[n.STENCIL=2]="STENCIL",n[n.SPRITE=3]="SPRITE",n[n.COLOR=4]="COLOR",n))($t||{});var lt=(n=>(n[n.NONE=0]="NONE",n[n.LOW=2]="LOW",n[n.MEDIUM=4]="MEDIUM",n[n.HIGH=8]="HIGH",n))(lt||{}),Lr=(n=>(n[n.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",n[n.ARRAY_BUFFER=34962]="ARRAY_BUFFER",n[n.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",n))(Lr||{});var KE={createCanvas:(n,e)=>{let t=document.createElement("canvas");return t.width=n,t.height=e,t},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(n,e)=>fetch(n,e),parseXML:n=>new DOMParser().parseFromString(n,"text/xml")};var J={ADAPTER:KE,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var fH=cv.default??cv,Oi=fH(globalThis.navigator);var de={};Hm(de,{BaseTextureCache:()=>or,BoundingBox:()=>Vp,CanvasRenderTarget:()=>nx,DATA_URI:()=>ex,EventEmitter:()=>Pa.default,ProgramCache:()=>Up,TextureCache:()=>bn,clearTextureCache:()=>XN,correctBlendMode:()=>VN,createIndicesForQuads:()=>$N,decomposeDataUri:()=>QN,deprecation:()=>pe,destroyTextureCache:()=>YN,detectVideoAlphaMode:()=>PN,determineCrossOrigin:()=>ix,earcut:()=>KN.default,getBufferType:()=>Da,getCanvasBoundingBox:()=>rx,getResolutionOfUrl:()=>jp,hex2rgb:()=>FN,hex2string:()=>kN,interleaveTypedArrays:()=>HN,isMobile:()=>Oi,isPow2:()=>Lp,isWebGLSupported:()=>K0,log2:()=>Bp,nextPow2:()=>Ra,path:()=>IS,premultiplyBlendMode:()=>kp,premultiplyRgba:()=>UN,premultiplyTint:()=>jN,premultiplyTintToRgba:()=>GN,removeItems:()=>tx,rgb2hex:()=>BN,sayHello:()=>NN,sign:()=>WN,skipHello:()=>ON,string2hex:()=>LN,trimCanvas:()=>ZN,uid:()=>js,url:()=>RN});J.RETINA_PREFIX=/@([0-9\.]+)x/;J.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Pa=Ul(UP(),1),KN=Ul(vA(),1);var Hh=Ul(IN(),1);var DN={};function pe(n,e,t=3){if(DN[e])return;let r=new Error().stack;typeof r>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`):(r=r.split(`
`).splice(t).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${n}`),console.warn(r),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${n}`),console.warn(r))),DN[e]=!0}var RN={get parse(){return pe("7.3.0","utils.url.parse is deprecated, use native URL API instead."),Hh.parse},get format(){return pe("7.3.0","utils.url.format is deprecated, use native URL API instead."),Hh.format},get resolve(){return pe("7.3.0","utils.url.resolve is deprecated, use native URL API instead."),Hh.resolve}};function ns(n){if(typeof n!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(n)}`)}function Fp(n){return n.split("?")[0].split("#")[0]}function A8(n){return n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function T8(n,e,t){return n.replace(new RegExp(A8(e),"g"),t)}function M8(n,e){let t="",r=0,i=-1,s=0,a=-1;for(let l=0;l<=n.length;++l){if(l<n.length)a=n.charCodeAt(l);else{if(a===47)break;a=47}if(a===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(t.length<2||r!==2||t.charCodeAt(t.length-1)!==46||t.charCodeAt(t.length-2)!==46){if(t.length>2){let o=t.lastIndexOf("/");if(o!==t.length-1){o===-1?(t="",r=0):(t=t.slice(0,o),r=t.length-1-t.lastIndexOf("/")),i=l,s=0;continue}}else if(t.length===2||t.length===1){t="",r=0,i=l,s=0;continue}}e&&(t.length>0?t+="/..":t="..",r=2)}else t.length>0?t+=`/${n.slice(i+1,l)}`:t=n.slice(i+1,l),r=l-i-1;i=l,s=0}else a===46&&s!==-1?++s:s=-1}return t}var IS={toPosix(n){return T8(n,"\\","/")},isUrl(n){return/^https?:/.test(this.toPosix(n))},isDataUrl(n){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(n)},isBlobUrl(n){return n.startsWith("blob:")},hasProtocol(n){return/^[^/:]+:/.test(this.toPosix(n))},getProtocol(n){ns(n),n=this.toPosix(n);let e=/^file:\/\/\//.exec(n);if(e)return e[0];let t=/^[^/:]+:\/{0,2}/.exec(n);return t?t[0]:""},toAbsolute(n,e,t){if(ns(n),this.isDataUrl(n)||this.isBlobUrl(n))return n;let r=Fp(this.toPosix(e??J.ADAPTER.getBaseUrl())),i=Fp(this.toPosix(t??this.rootname(r)));return n=this.toPosix(n),n.startsWith("/")?IS.join(i,n.slice(1)):this.isAbsolute(n)?n:this.join(r,n)},normalize(n){if(ns(n),n.length===0)return".";if(this.isDataUrl(n)||this.isBlobUrl(n))return n;n=this.toPosix(n);let e="",t=n.startsWith("/");this.hasProtocol(n)&&(e=this.rootname(n),n=n.slice(e.length));let r=n.endsWith("/");return n=M8(n,!1),n.length>0&&r&&(n+="/"),t?`/${n}`:e+n},isAbsolute(n){return ns(n),n=this.toPosix(n),this.hasProtocol(n)?!0:n.startsWith("/")},join(...n){if(n.length===0)return".";let e;for(let t=0;t<n.length;++t){let r=n[t];if(ns(r),r.length>0)if(e===void 0)e=r;else{let i=n[t-1]??"";this.joinExtensions.includes(this.extname(i).toLowerCase())?e+=`/../${r}`:e+=`/${r}`}}return e===void 0?".":this.normalize(e)},dirname(n){if(ns(n),n.length===0)return".";n=this.toPosix(n);let e=n.charCodeAt(0),t=e===47,r=-1,i=!0,s=this.getProtocol(n),a=n;n=n.slice(s.length);for(let l=n.length-1;l>=1;--l)if(e=n.charCodeAt(l),e===47){if(!i){r=l;break}}else i=!1;return r===-1?t?"/":this.isUrl(a)?s+n:s:t&&r===1?"//":s+n.slice(0,r)},rootname(n){ns(n),n=this.toPosix(n);let e="";if(n.startsWith("/")?e="/":e=this.getProtocol(n),this.isUrl(n)){let t=n.indexOf("/",e.length);t!==-1?e=n.slice(0,t):e=n,e.endsWith("/")||(e+="/")}return e},basename(n,e){ns(n),e&&ns(e),n=Fp(this.toPosix(n));let t=0,r=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=n.length){if(e.length===n.length&&e===n)return"";let a=e.length-1,l=-1;for(s=n.length-1;s>=0;--s){let o=n.charCodeAt(s);if(o===47){if(!i){t=s+1;break}}else l===-1&&(i=!1,l=s+1),a>=0&&(o===e.charCodeAt(a)?--a===-1&&(r=s):(a=-1,r=l))}return t===r?r=l:r===-1&&(r=n.length),n.slice(t,r)}for(s=n.length-1;s>=0;--s)if(n.charCodeAt(s)===47){if(!i){t=s+1;break}}else r===-1&&(i=!1,r=s+1);return r===-1?"":n.slice(t,r)},extname(n){ns(n),n=Fp(this.toPosix(n));let e=-1,t=0,r=-1,i=!0,s=0;for(let a=n.length-1;a>=0;--a){let l=n.charCodeAt(a);if(l===47){if(!i){t=a+1;break}continue}r===-1&&(i=!1,r=a+1),l===46?e===-1?e=a:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||r===-1||s===0||s===1&&e===r-1&&e===t+1?"":n.slice(e,r)},parse(n){ns(n);let e={root:"",dir:"",base:"",ext:"",name:""};if(n.length===0)return e;n=Fp(this.toPosix(n));let t=n.charCodeAt(0),r=this.isAbsolute(n),i,s="";e.root=this.rootname(n),r||this.hasProtocol(n)?i=1:i=0;let a=-1,l=0,o=-1,c=!0,u=n.length-1,h=0;for(;u>=i;--u){if(t=n.charCodeAt(u),t===47){if(!c){l=u+1;break}continue}o===-1&&(c=!1,o=u+1),t===46?a===-1?a=u:h!==1&&(h=1):a!==-1&&(h=-1)}return a===-1||o===-1||h===0||h===1&&a===o-1&&a===l+1?o!==-1&&(l===0&&r?e.base=e.name=n.slice(1,o):e.base=e.name=n.slice(l,o)):(l===0&&r?(e.name=n.slice(1,a),e.base=n.slice(1,o)):(e.name=n.slice(l,a),e.base=n.slice(l,o)),e.ext=n.slice(a,o)),e.dir=this.dirname(n),s&&(e.dir=s+e.dir),e},sep:"/",delimiter:":",joinExtensions:[".html"]};var DS;function PN(){return B(this,null,function*(){return DS??(DS=B(this,null,function*(){let n=document.createElement("canvas").getContext("webgl");if(!n)return cn.UNPACK;let e=yield new Promise(s=>{let a=document.createElement("video");a.onloadeddata=()=>s(a),a.onerror=()=>s(null),a.autoplay=!1,a.crossOrigin="anonymous",a.preload="auto",a.src="data:video/webm;base64,GkXfo59ChoEBQveBAULygQRC84EIQoKEd2VibUKHgQJChYECGFOAZwEAAAAAAAHTEU2bdLpNu4tTq4QVSalmU6yBoU27i1OrhBZUrmtTrIHGTbuMU6uEElTDZ1OsggEXTbuMU6uEHFO7a1OsggG97AEAAAAAAABZAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVSalmoCrXsYMPQkBNgIRMYXZmV0GETGF2ZkSJiEBEAAAAAAAAFlSua8yuAQAAAAAAAEPXgQFzxYgAAAAAAAAAAZyBACK1nIN1bmSIgQCGhVZfVlA5g4EBI+ODhAJiWgDglLCBArqBApqBAlPAgQFVsIRVuYEBElTDZ9Vzc9JjwItjxYgAAAAAAAAAAWfInEWjh0VOQ09ERVJEh49MYXZjIGxpYnZweC12cDlnyKJFo4hEVVJBVElPTkSHlDAwOjAwOjAwLjA0MDAwMDAwMAAAH0O2dcfngQCgwqGggQAAAIJJg0IAABAAFgA4JBwYSgAAICAAEb///4r+AAB1oZ2mm+6BAaWWgkmDQgAAEAAWADgkHBhKAAAgIABIQBxTu2uRu4+zgQC3iveBAfGCAXHwgQM=",a.load()});if(!e)return cn.UNPACK;let t=n.createTexture();n.bindTexture(n.TEXTURE_2D,t);let r=n.createFramebuffer();n.bindFramebuffer(n.FRAMEBUFFER,r),n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,t,0),n.pixelStorei(n.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1),n.pixelStorei(n.UNPACK_COLORSPACE_CONVERSION_WEBGL,n.NONE),n.texImage2D(n.TEXTURE_2D,0,n.RGBA,n.RGBA,n.UNSIGNED_BYTE,e);let i=new Uint8Array(4);return n.readPixels(0,0,1,1,n.RGBA,n.UNSIGNED_BYTE,i),n.deleteFramebuffer(r),n.deleteTexture(t),n.getExtension("WEBGL_lose_context")?.loseContext(),i[0]<=i[3]?cn.PMA:cn.UNPACK})),DS})}function ON(){pe("7.0.0","skipHello is deprecated, please use settings.RENDER_OPTIONS.hello")}function NN(){pe("7.0.0",`sayHello is deprecated, please use Renderer's "hello" option`)}var RS;function K0(){return typeof RS>"u"&&(RS=function(){let n={stencil:!0,failIfMajorPerformanceCaveat:J.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!J.ADAPTER.getWebGLRenderingContext())return!1;let e=J.ADAPTER.createCanvas(),t=e.getContext("webgl",n)||e.getContext("experimental-webgl",n),r=!!t?.getContextAttributes()?.stencil;if(t){let i=t.getExtension("WEBGL_lose_context");i&&i.loseContext()}return t=null,r}catch{return!1}}()),RS}cA([uA]);var Wh=class J0{constructor(e=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=e}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(e){return this.value=e,this}set value(e){if(e instanceof J0)this._value=this.cloneSource(e._value),this._int=e._int,this._components.set(e._components);else{if(e===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,e))&&(this.normalize(e),this._value=this.cloneSource(e))}}get value(){return this._value}cloneSource(e){return typeof e=="string"||typeof e=="number"||e instanceof Number||e===null?e:Array.isArray(e)||ArrayBuffer.isView(e)?e.slice(0):typeof e=="object"&&e!==null?W({},e):e}isSourceEqual(e,t){let r=typeof e;if(r!==typeof t)return!1;if(r==="number"||r==="string"||e instanceof Number)return e===t;if(Array.isArray(e)&&Array.isArray(t)||ArrayBuffer.isView(e)&&ArrayBuffer.isView(t))return e.length!==t.length?!1:e.every((i,s)=>i===t[s]);if(e!==null&&t!==null){let i=Object.keys(e),s=Object.keys(t);return i.length!==s.length?!1:i.every(a=>e[a]===t[a])}return e===t}toRgba(){let[e,t,r,i]=this._components;return{r:e,g:t,b:r,a:i}}toRgb(){let[e,t,r]=this._components;return{r:e,g:t,b:r}}toRgbaString(){let[e,t,r]=this.toUint8RgbArray();return`rgba(${e},${t},${r},${this.alpha})`}toUint8RgbArray(e){let[t,r,i]=this._components;return e=e??[],e[0]=Math.round(t*255),e[1]=Math.round(r*255),e[2]=Math.round(i*255),e}toRgbArray(e){e=e??[];let[t,r,i]=this._components;return e[0]=t,e[1]=r,e[2]=i,e}toNumber(){return this._int}toLittleEndianNumber(){let e=this._int;return(e>>16)+(e&65280)+((e&255)<<16)}multiply(e){let[t,r,i,s]=J0.temp.setValue(e)._components;return this._components[0]*=t,this._components[1]*=r,this._components[2]*=i,this._components[3]*=s,this.refreshInt(),this._value=null,this}premultiply(e,t=!0){return t&&(this._components[0]*=e,this._components[1]*=e,this._components[2]*=e),this._components[3]=e,this.refreshInt(),this._value=null,this}toPremultiplied(e,t=!0){if(e===1)return(255<<24)+this._int;if(e===0)return t?0:this._int;let r=this._int>>16&255,i=this._int>>8&255,s=this._int&255;return t&&(r=r*e+.5|0,i=i*e+.5|0,s=s*e+.5|0),(e*255<<24)+(r<<16)+(i<<8)+s}toHex(){let e=this._int.toString(16);return`#${"000000".substring(0,6-e.length)+e}`}toHexa(){let e=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-e.length)+e}setAlpha(e){return this._components[3]=this._clamp(e),this}round(e){let[t,r,i]=this._components;return this._components[0]=Math.round(t*e)/e,this._components[1]=Math.round(r*e)/e,this._components[2]=Math.round(i*e)/e,this.refreshInt(),this._value=null,this}toArray(e){e=e??[];let[t,r,i,s]=this._components;return e[0]=t,e[1]=r,e[2]=i,e[3]=s,e}normalize(e){let t,r,i,s;if((typeof e=="number"||e instanceof Number)&&e>=0&&e<=16777215){let a=e;t=(a>>16&255)/255,r=(a>>8&255)/255,i=(a&255)/255,s=1}else if((Array.isArray(e)||e instanceof Float32Array)&&e.length>=3&&e.length<=4)e=this._clamp(e),[t,r,i,s=1]=e;else if((e instanceof Uint8Array||e instanceof Uint8ClampedArray)&&e.length>=3&&e.length<=4)e=this._clamp(e,0,255),[t,r,i,s=255]=e,t/=255,r/=255,i/=255,s/=255;else if(typeof e=="string"||typeof e=="object"){if(typeof e=="string"){let l=J0.HEX_PATTERN.exec(e);l&&(e=`#${l[2]}`)}let a=lA(e);a.isValid()&&({r:t,g:r,b:i,a:s}=a.rgba,t/=255,r/=255,i/=255)}if(t!==void 0)this._components[0]=t,this._components[1]=r,this._components[2]=i,this._components[3]=s,this.refreshInt();else throw new Error(`Unable to convert color ${e}`)}refreshInt(){this._clamp(this._components);let[e,t,r]=this._components;this._int=(e*255<<16)+(t*255<<8)+(r*255|0)}_clamp(e,t=0,r=1){return typeof e=="number"?Math.min(Math.max(e,t),r):(e.forEach((i,s)=>{e[s]=Math.min(Math.max(i,t),r)}),e)}};Wh.shared=new Wh,Wh.temp=new Wh,Wh.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;var et=Wh;function FN(n,e=[]){return pe("7.2.0","utils.hex2rgb is deprecated, use Color#toRgbArray instead"),et.shared.setValue(n).toRgbArray(e)}function kN(n){return pe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),et.shared.setValue(n).toHex()}function LN(n){return pe("7.2.0","utils.string2hex is deprecated, use Color#toNumber instead"),et.shared.setValue(n).toNumber()}function BN(n){return pe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),et.shared.setValue(n).toNumber()}function I8(){let n=[],e=[];for(let r=0;r<32;r++)n[r]=r,e[r]=r;n[ne.NORMAL_NPM]=ne.NORMAL,n[ne.ADD_NPM]=ne.ADD,n[ne.SCREEN_NPM]=ne.SCREEN,e[ne.NORMAL]=ne.NORMAL_NPM,e[ne.ADD]=ne.ADD_NPM,e[ne.SCREEN]=ne.SCREEN_NPM;let t=[];return t.push(e),t.push(n),t}var kp=I8();function VN(n,e){return kp[e?1:0][n]}function UN(n,e,t,r=!0){return pe("7.2.0","utils.premultiplyRgba has moved to Color.premultiply"),et.shared.setValue(n).premultiply(e,r).toArray(t??new Float32Array(4))}function jN(n,e){return pe("7.2.0","utils.premultiplyTint has moved to Color.toPremultiplied"),et.shared.setValue(n).toPremultiplied(e)}function GN(n,e,t,r=!0){return pe("7.2.0","utils.premultiplyTintToRgba has moved to Color.premultiply"),et.shared.setValue(n).premultiply(e,r).toArray(t??new Float32Array(4))}var ex=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;charset=([\w-]+))?(?:;(base64))?,(.*)/i;function $N(n,e=null){let t=n*6;if(e=e||new Uint16Array(t),e.length!==t)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${t}`);for(let r=0,i=0;r<t;r+=6,i+=4)e[r+0]=i+0,e[r+1]=i+1,e[r+2]=i+2,e[r+3]=i+0,e[r+4]=i+2,e[r+5]=i+3;return e}function Da(n){if(n.BYTES_PER_ELEMENT===4)return n instanceof Float32Array?"Float32Array":n instanceof Uint32Array?"Uint32Array":"Int32Array";if(n.BYTES_PER_ELEMENT===2){if(n instanceof Uint16Array)return"Uint16Array"}else if(n.BYTES_PER_ELEMENT===1&&n instanceof Uint8Array)return"Uint8Array";return null}var D8={Float32Array,Uint32Array,Int32Array,Uint8Array};function HN(n,e){let t=0,r=0,i={};for(let o=0;o<n.length;o++)r+=e[o],t+=n[o].length;let s=new ArrayBuffer(t*4),a=null,l=0;for(let o=0;o<n.length;o++){let c=e[o],u=n[o],h=Da(u);i[h]||(i[h]=new D8[h](s)),a=i[h];for(let d=0;d<u.length;d++){let f=(d/c|0)*r+l,p=d%c;a[f+p]=u[d]}l+=c}return new Float32Array(s)}function Ra(n){return n+=n===0?1:0,--n,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n+1}function Lp(n){return!(n&n-1)&&!!n}function Bp(n){let e=(n>65535?1:0)<<4;n>>>=e;let t=(n>255?1:0)<<3;return n>>>=t,e|=t,t=(n>15?1:0)<<2,n>>>=t,e|=t,t=(n>3?1:0)<<1,n>>>=t,e|=t,e|n>>1}function tx(n,e,t){let r=n.length,i;if(e>=r||t===0)return;t=e+t>r?r-e:t;let s=r-t;for(i=e;i<s;++i)n[i]=n[i+t];n.length=s}function WN(n){return n===0?0:n<0?-1:1}var R8=0;function js(){return++R8}var PS=class{constructor(n,e,t,r){this.left=n,this.top=e,this.right=t,this.bottom=r}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};PS.EMPTY=new PS(0,0,0,0);var Vp=PS;var Up={},bn=Object.create(null),or=Object.create(null);function YN(){let n;for(n in bn)bn[n].destroy();for(n in or)or[n].destroy()}function XN(){let n;for(n in bn)delete bn[n];for(n in or)delete or[n]}var nx=class{constructor(e,t,r){this._canvas=J.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=r||J.RESOLUTION,this.resize(e,t)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,t){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(t*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}};function zN(n,e,t){for(let r=0,i=4*t*e;r<e;++r,i+=4)if(n[i+3]!==0)return!1;return!0}function qN(n,e,t,r,i){let s=4*e;for(let a=r,l=r*s+4*t;a<=i;++a,l+=s)if(n[l+3]!==0)return!1;return!0}function rx(n){let{width:e,height:t}=n,r=n.getContext("2d",{willReadFrequently:!0});if(r===null)throw new TypeError("Failed to get canvas 2D context");let i=r.getImageData(0,0,e,t).data,s=0,a=0,l=e-1,o=t-1;for(;a<t&&zN(i,e,a);)++a;if(a===t)return Vp.EMPTY;for(;zN(i,e,o);)--o;for(;qN(i,e,s,a,o);)++s;for(;qN(i,e,l,a,o);)--l;return++l,++o,new Vp(s,a,l,o)}function ZN(n){let e=rx(n),{width:t,height:r}=e,i=null;if(!e.isEmpty()){let s=n.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,t,r)}return{width:t,height:r,data:i}}function QN(n){let e=ex.exec(n);if(e)return{mediaType:e[1]?e[1].toLowerCase():void 0,subType:e[2]?e[2].toLowerCase():void 0,charset:e[3]?e[3].toLowerCase():void 0,encoding:e[4]?e[4].toLowerCase():void 0,data:e[5]}}function ix(n,e=globalThis.location){if(n.startsWith("data:"))return"";e=e||globalThis.location;let t=new URL(n,document.baseURI);return t.hostname!==e.hostname||t.port!==e.port||t.protocol!==e.protocol?"anonymous":""}function jp(n,e=1){let t=J.RETINA_PREFIX?.exec(n);return t?parseFloat(t[1]):e}var Q=(n=>(n.Renderer="renderer",n.Application="application",n.RendererSystem="renderer-webgl-system",n.RendererPlugin="renderer-webgl-plugin",n.CanvasRendererSystem="renderer-canvas-system",n.CanvasRendererPlugin="renderer-canvas-plugin",n.Asset="asset",n.LoadParser="load-parser",n.ResolveParser="resolve-parser",n.CacheParser="cache-parser",n.DetectionParser="detection-parser",n))(Q||{}),OS=n=>{if(typeof n=="function"||typeof n=="object"&&n.extension){if(!n.extension)throw new Error("Extension class must have an extension object");n=ve(W({},typeof n.extension!="object"?{type:n.extension}:n.extension),{ref:n})}if(typeof n=="object")n=W({},n);else throw new Error("Invalid extension type");return typeof n.type=="string"&&(n.type=[n.type]),n},JN=(n,e)=>OS(n).priority??e,K={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...n){return n.map(OS).forEach(e=>{e.type.forEach(t=>this._removeHandlers[t]?.(e))}),this},add(...n){return n.map(OS).forEach(e=>{e.type.forEach(t=>{let r=this._addHandlers,i=this._queue;r[t]?r[t]?.(e):(i[t]=i[t]||[],i[t]?.push(e))})}),this},handle(n,e,t){let r=this._addHandlers,i=this._removeHandlers;if(r[n]||i[n])throw new Error(`Extension type ${n} already has a handler`);r[n]=e,i[n]=t;let s=this._queue;return s[n]&&(s[n]?.forEach(a=>e(a)),delete s[n]),this},handleByMap(n,e){return this.handle(n,t=>{t.name&&(e[t.name]=t.ref)},t=>{t.name&&delete e[t.name]})},handleByList(n,e,t=-1){return this.handle(n,r=>{e.includes(r.ref)||(e.push(r.ref),e.sort((i,s)=>JN(s,t)-JN(i,t)))},r=>{let i=e.indexOf(r.ref);i!==-1&&e.splice(i,1)})}};var Gp=class{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}};var P8=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function O8(n){let e="";for(let t=0;t<n;++t)t>0&&(e+=`
else `),t<n-1&&(e+=`if(test == ${t}.0){}`);return e}function sx(n,e){if(n===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");let t=e.createShader(e.FRAGMENT_SHADER);for(;;){let r=P8.replace(/%forloop%/gi,O8(n));if(e.shaderSource(t,r),e.compileShader(t),!e.getShaderParameter(t,e.COMPILE_STATUS))n=n/2|0;else break}return n}var NS=0,FS=1,kS=2,LS=3,BS=4,VS=5,Br=class n{constructor(){this.data=0,this.blendMode=ne.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<NS)}set blend(e){!!(this.data&1<<NS)!==e&&(this.data^=1<<NS)}get offsets(){return!!(this.data&1<<FS)}set offsets(e){!!(this.data&1<<FS)!==e&&(this.data^=1<<FS)}get culling(){return!!(this.data&1<<kS)}set culling(e){!!(this.data&1<<kS)!==e&&(this.data^=1<<kS)}get depthTest(){return!!(this.data&1<<LS)}set depthTest(e){!!(this.data&1<<LS)!==e&&(this.data^=1<<LS)}get depthMask(){return!!(this.data&1<<VS)}set depthMask(e){!!(this.data&1<<VS)!==e&&(this.data^=1<<VS)}get clockwiseFrontFace(){return!!(this.data&1<<BS)}set clockwiseFrontFace(e){!!(this.data&1<<BS)!==e&&(this.data^=1<<BS)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==ne.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}static for2d(){let e=new n;return e.depthTest=!1,e.blend=!0,e}};Br.prototype.toString=function(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`};var $p=[];function Yh(n,e){if(!n)return null;let t="";if(typeof n=="string"){let r=/\.(\w{3,4})(?:$|\?|#)/i.exec(n);r&&(t=r[1].toLowerCase())}for(let r=$p.length-1;r>=0;--r){let i=$p[r];if(i.test&&i.test(n,t))return new i(n,e)}throw new Error("Unrecognized source type to auto-detect Resource")}var Zt=class{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,t,r,i,s,a,l,o){if(arguments.length>8)throw new Error("max arguments reached");let{name:c,items:u}=this;this._aliasCount++;for(let h=0,d=u.length;h<d;h++)u[h][c](e,t,r,i,s,a,l,o);return u===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){let t=this.items.indexOf(e);return t!==-1&&(this.ensureNonAliasedItems(),this.items.splice(t,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items.length=0,this._name=""}get empty(){return this.items.length===0}get name(){return this._name}};Object.defineProperties(Zt.prototype,{dispatch:{value:Zt.prototype.emit},run:{value:Zt.prototype.emit}});var ci=class{constructor(e=0,t=0){this._width=e,this._height=t,this.destroyed=!1,this.internal=!1,this.onResize=new Zt("setRealSize"),this.onUpdate=new Zt("update"),this.onError=new Zt("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,t){(e!==this._width||t!==this._height)&&(this._width=e,this._height=t,this.onResize.emit(e,t))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,t,r){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,t){return!1}};var Oc=class extends ci{constructor(e,t){let{width:r,height:i}=t||{};if(!r||!i)throw new Error("BufferResource width or height invalid");super(r,i),this.data=e,this.unpackAlignment=t.unpackAlignment??4}upload(e,t,r){let i=e.gl;i.pixelStorei(i.UNPACK_ALIGNMENT,this.unpackAlignment),i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===cn.UNPACK);let s=t.realWidth,a=t.realHeight;return r.width===s&&r.height===a?i.texSubImage2D(t.target,0,0,0,s,a,t.format,r.type,this.data):(r.width=s,r.height=a,i.texImage2D(t.target,0,r.internalFormat,s,a,0,t.format,r.type,this.data)),!0}dispose(){this.data=null}static test(e){return e===null||e instanceof Int8Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array}};var N8={scaleMode:Nn.NEAREST,alphaMode:cn.NPM},US=class Xh extends Pa.default{constructor(e=null,t=null){super(),t=Object.assign({},Xh.defaultOptions,t);let{alphaMode:r,mipmap:i,anisotropicLevel:s,scaleMode:a,width:l,height:o,wrapMode:c,format:u,type:h,target:d,resolution:f,resourceOptions:p}=t;e&&!(e instanceof ci)&&(e=Yh(e,p),e.internal=!0),this.resolution=f||J.RESOLUTION,this.width=Math.round((l||0)*this.resolution)/this.resolution,this.height=Math.round((o||0)*this.resolution)/this.resolution,this._mipmap=i,this.anisotropicLevel=s,this._wrapMode=c,this._scaleMode=a,this.format=u,this.type=h,this.target=d,this.alphaMode=r,this.uid=js(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=l>0&&o>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(e)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(e){this._mipmap!==e&&(this._mipmap=e,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(e){this._scaleMode!==e&&(this._scaleMode=e,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(e){this._wrapMode!==e&&(this._wrapMode=e,this.dirtyStyleId++)}setStyle(e,t){let r;return e!==void 0&&e!==this.scaleMode&&(this.scaleMode=e,r=!0),t!==void 0&&t!==this.mipmap&&(this.mipmap=t,r=!0),r&&this.dirtyStyleId++,this}setSize(e,t,r){return r=r||this.resolution,this.setRealSize(e*r,t*r,r)}setRealSize(e,t,r){return this.resolution=r||this.resolution,this.width=Math.round(e)/this.resolution,this.height=Math.round(t)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=Lp(this.realWidth)&&Lp(this.realHeight)}setResolution(e){let t=this.resolution;return t===e?this:(this.resolution=e,this.valid&&(this.width=Math.round(this.width*t)/e,this.height=Math.round(this.height*t)/e,this.emit("update",this)),this._refreshPOT(),this)}setResource(e){if(this.resource===e)return this;if(this.resource)throw new Error("Resource can be set only once");return e.bind(this),this.resource=e,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(e){this.emit("error",this,e)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete or[this.cacheId],delete bn[this.cacheId],this.cacheId=null),this.valid=!1,this.dispose(),Xh.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(e,t,r=J.STRICT_TEXTURE_CACHE){let i=typeof e=="string",s=null;if(i)s=e;else{if(!e._pixiId){let l=t?.pixiIdPrefix||"pixiid";e._pixiId=`${l}_${js()}`}s=e._pixiId}let a=or[s];if(i&&r&&!a)throw new Error(`The cacheId "${s}" does not exist in BaseTextureCache.`);return a||(a=new Xh(e,t),a.cacheId=s,Xh.addToCache(a,s)),a}static fromBuffer(e,t,r,i){e=e||new Float32Array(t*r*4);let s=new Oc(e,W({width:t,height:r},i?.resourceOptions)),a,l;return e instanceof Float32Array?(a=ie.RGBA,l=we.FLOAT):e instanceof Int32Array?(a=ie.RGBA_INTEGER,l=we.INT):e instanceof Uint32Array?(a=ie.RGBA_INTEGER,l=we.UNSIGNED_INT):e instanceof Int16Array?(a=ie.RGBA_INTEGER,l=we.SHORT):e instanceof Uint16Array?(a=ie.RGBA_INTEGER,l=we.UNSIGNED_SHORT):e instanceof Int8Array?(a=ie.RGBA,l=we.BYTE):(a=ie.RGBA,l=we.UNSIGNED_BYTE),s.internal=!0,new Xh(s,Object.assign({},N8,{type:l,format:a},i))}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),or[t]&&or[t]!==e&&console.warn(`BaseTexture added to the cache with an id [${t}] that already had an entry`),or[t]=e)}static removeFromCache(e){if(typeof e=="string"){let t=or[e];if(t){let r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete or[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)delete or[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}};US.defaultOptions={mipmap:li.POW2,anisotropicLevel:0,scaleMode:Nn.LINEAR,wrapMode:_o.CLAMP,alphaMode:cn.UNPACK,target:vo.TEXTURE_2D,format:ie.RGBA,type:we.UNSIGNED_BYTE},US._globalBatch=0;var Ee=US;var Oa=class{constructor(){this.texArray=null,this.blend=0,this.type=Yn.TRIANGLES,this.start=0,this.size=0,this.data=null}};var F8=0,St=class n{constructor(e,t=!0,r=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=r,this.static=t,this.id=F8++,this.disposeRunner=new Zt("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?Lr.ELEMENT_ARRAY_BUFFER:Lr.ARRAY_BUFFER}get index(){return this.type===Lr.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new n(e)}};var zh=class n{constructor(e,t=0,r=!1,i=we.FLOAT,s,a,l,o=1){this.buffer=e,this.size=t,this.normalized=r,this.type=i,this.stride=s,this.start=a,this.instance=l,this.divisor=o}destroy(){this.buffer=null}static from(e,t,r,i,s){return new n(e,t,r,i,s)}};var k8={Float32Array,Uint32Array,Int32Array,Uint8Array};function eF(n,e){let t=0,r=0,i={};for(let o=0;o<n.length;o++)r+=e[o],t+=n[o].length;let s=new ArrayBuffer(t*4),a=null,l=0;for(let o=0;o<n.length;o++){let c=e[o],u=n[o],h=Da(u);i[h]||(i[h]=new k8[h](s)),a=i[h];for(let d=0;d<u.length;d++){let f=(d/c|0)*r+l,p=d%c;a[f+p]=u[d]}l+=c}return new Float32Array(s)}var tF={5126:4,5123:2,5121:1},L8=0,B8={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array},rs=class n{constructor(e=[],t={}){this.buffers=e,this.indexBuffer=null,this.attributes=t,this.glVertexArrayObjects={},this.id=L8++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Zt("disposeGeometry"),this.refCount=0}addAttribute(e,t,r=0,i=!1,s,a,l,o=!1){if(!t)throw new Error("You must pass a buffer when creating an attribute");t instanceof St||(t instanceof Array&&(t=new Float32Array(t)),t=new St(t));let c=e.split("|");if(c.length>1){for(let h=0;h<c.length;h++)this.addAttribute(c[h],t,r,i,s);return this}let u=this.buffers.indexOf(t);return u===-1&&(this.buffers.push(t),u=this.buffers.length-1),this.attributes[e]=new zh(u,r,i,s,a,l,o),this.instanced=this.instanced||o,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof St||(e instanceof Array&&(e=new Uint16Array(e)),e=new St(e)),e.type=Lr.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;let e=[],t=[],r=new St,i;for(i in this.attributes){let s=this.attributes[i],a=this.buffers[s.buffer];e.push(a.data),t.push(s.size*tF[s.type]/4),s.buffer=0}for(r.data=eF(e,t),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[r],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(let e in this.attributes){let t=this.attributes[e];return this.buffers[t.buffer].data.length/(t.stride/4||t.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){let e=new n;for(let t=0;t<this.buffers.length;t++)e.buffers[t]=new St(this.buffers[t].data.slice(0));for(let t in this.attributes){let r=this.attributes[t];e.attributes[t]=new zh(r.buffer,r.size,r.normalized,r.type,r.stride,r.start,r.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=Lr.ELEMENT_ARRAY_BUFFER),e}static merge(e){let t=new n,r=[],i=[],s=[],a;for(let l=0;l<e.length;l++){a=e[l];for(let o=0;o<a.buffers.length;o++)i[o]=i[o]||0,i[o]+=a.buffers[o].data.length,s[o]=0}for(let l=0;l<a.buffers.length;l++)r[l]=new B8[Da(a.buffers[l].data)](i[l]),t.buffers[l]=new St(r[l]);for(let l=0;l<e.length;l++){a=e[l];for(let o=0;o<a.buffers.length;o++)r[o].set(a.buffers[o].data,s[o]),s[o]+=a.buffers[o].data.length}if(t.attributes=a.attributes,a.indexBuffer){t.indexBuffer=t.buffers[a.buffers.indexOf(a.indexBuffer)],t.indexBuffer.type=Lr.ELEMENT_ARRAY_BUFFER;let l=0,o=0,c=0,u=0;for(let h=0;h<a.buffers.length;h++)if(a.buffers[h]!==a.indexBuffer){u=h;break}for(let h in a.attributes){let d=a.attributes[h];(d.buffer|0)===u&&(o+=d.size*tF[d.type]/4)}for(let h=0;h<e.length;h++){let d=e[h].indexBuffer.data;for(let f=0;f<d.length;f++)t.indexBuffer.data[f+c]+=l;l+=e[h].buffers[u].data.length/o,c+=d.length}}return t}};var Nc=class extends rs{constructor(e=!1){super(),this._buffer=new St(null,e,!1),this._indexBuffer=new St(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,we.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,we.FLOAT).addAttribute("aColor",this._buffer,4,!0,we.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,we.FLOAT).addIndex(this._indexBuffer)}};var Na=Math.PI*2,jS=180/Math.PI,GS=Math.PI/180,mt=(n=>(n[n.POLY=0]="POLY",n[n.RECT=1]="RECT",n[n.CIRC=2]="CIRC",n[n.ELIP=3]="ELIP",n[n.RREC=4]="RREC",n))(mt||{});var nt=class n{constructor(e=0,t=0){this.x=0,this.y=0,this.x=e,this.y=t}clone(){return new n(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,t=e){return this.x=e,this.y=t,this}};nt.prototype.toString=function(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`};var ox=[new nt,new nt,new nt,new nt],be=class n{constructor(e=0,t=0,r=0,i=0){this.x=Number(e),this.y=Number(t),this.width=Number(r),this.height=Number(i),this.type=mt.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new n(0,0,0,0)}clone(){return new n(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,t){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height}intersects(e,t){if(!t){let S=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=S)return!1;let C=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>C}let r=this.left,i=this.right,s=this.top,a=this.bottom;if(i<=r||a<=s)return!1;let l=ox[0].set(e.left,e.top),o=ox[1].set(e.left,e.bottom),c=ox[2].set(e.right,e.top),u=ox[3].set(e.right,e.bottom);if(c.x<=l.x||o.y<=l.y)return!1;let h=Math.sign(t.a*t.d-t.b*t.c);if(h===0||(t.apply(l,l),t.apply(o,o),t.apply(c,c),t.apply(u,u),Math.max(l.x,o.x,c.x,u.x)<=r||Math.min(l.x,o.x,c.x,u.x)>=i||Math.max(l.y,o.y,c.y,u.y)<=s||Math.min(l.y,o.y,c.y,u.y)>=a))return!1;let d=h*(o.y-l.y),f=h*(l.x-o.x),p=d*r+f*s,m=d*i+f*s,g=d*r+f*a,v=d*i+f*a;if(Math.max(p,m,g,v)<=d*l.x+f*l.y||Math.min(p,m,g,v)>=d*u.x+f*u.y)return!1;let x=h*(l.y-c.y),y=h*(c.x-l.x),_=x*r+y*s,b=x*i+y*s,w=x*r+y*a,E=x*i+y*a;return!(Math.max(_,b,w,E)<=x*l.x+y*l.y||Math.min(_,b,w,E)>=x*u.x+y*u.y)}pad(e=0,t=e){return this.x-=e,this.y-=t,this.width+=e*2,this.height+=t*2,this}fit(e){let t=Math.max(this.x,e.x),r=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=t,this.width=Math.max(r-t,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,t=.001){let r=Math.ceil((this.x+this.width-t)*e)/e,i=Math.ceil((this.y+this.height-t)*e)/e;return this.x=Math.floor((this.x+t)*e)/e,this.y=Math.floor((this.y+t)*e)/e,this.width=r-this.x,this.height=i-this.y,this}enlarge(e){let t=Math.min(this.x,e.x),r=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=t,this.width=r-t,this.y=i,this.height=s-i,this}};be.prototype.toString=function(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};var qh=class n{constructor(e=0,t=0,r=0){this.x=e,this.y=t,this.radius=r,this.type=mt.CIRC}clone(){return new n(this.x,this.y,this.radius)}contains(e,t){if(this.radius<=0)return!1;let r=this.radius*this.radius,i=this.x-e,s=this.y-t;return i*=i,s*=s,i+s<=r}getBounds(){return new be(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}};qh.prototype.toString=function(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`};var Zh=class n{constructor(e=0,t=0,r=0,i=0){this.x=e,this.y=t,this.width=r,this.height=i,this.type=mt.ELIP}clone(){return new n(this.x,this.y,this.width,this.height)}contains(e,t){if(this.width<=0||this.height<=0)return!1;let r=(e-this.x)/this.width,i=(t-this.y)/this.height;return r*=r,i*=i,r+i<=1}getBounds(){return new be(this.x-this.width,this.y-this.height,this.width,this.height)}};Zh.prototype.toString=function(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`};var Fi=class n{constructor(...e){let t=Array.isArray(e[0])?e[0]:e;if(typeof t[0]!="number"){let r=[];for(let i=0,s=t.length;i<s;i++)r.push(t[i].x,t[i].y);t=r}this.points=t,this.type=mt.POLY,this.closeStroke=!0}clone(){let e=this.points.slice(),t=new n(e);return t.closeStroke=this.closeStroke,t}contains(e,t){let r=!1,i=this.points.length/2;for(let s=0,a=i-1;s<i;a=s++){let l=this.points[s*2],o=this.points[s*2+1],c=this.points[a*2],u=this.points[a*2+1];o>t!=u>t&&e<(c-l)*((t-o)/(u-o))+l&&(r=!r)}return r}};Fi.prototype.toString=function(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((n,e)=>`${n}, ${e}`,"")}]`};var Qh=class n{constructor(e=0,t=0,r=0,i=0,s=20){this.x=e,this.y=t,this.width=r,this.height=i,this.radius=s,this.type=mt.RREC}clone(){return new n(this.x,this.y,this.width,this.height,this.radius)}contains(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){let r=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(t>=this.y+r&&t<=this.y+this.height-r||e>=this.x+r&&e<=this.x+this.width-r)return!0;let i=e-(this.x+r),s=t-(this.y+r),a=r*r;if(i*i+s*s<=a||(i=e-(this.x+this.width-r),i*i+s*s<=a)||(s=t-(this.y+this.height-r),i*i+s*s<=a)||(i=e-(this.x+r),i*i+s*s<=a))return!0}return!1}};Qh.prototype.toString=function(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`};var ke=class n{constructor(e=1,t=0,r=0,i=1,s=0,a=0){this.array=null,this.a=e,this.b=t,this.c=r,this.d=i,this.tx=s,this.ty=a}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,t,r,i,s,a){return this.a=e,this.b=t,this.c=r,this.d=i,this.tx=s,this.ty=a,this}toArray(e,t){this.array||(this.array=new Float32Array(9));let r=t||this.array;return e?(r[0]=this.a,r[1]=this.b,r[2]=0,r[3]=this.c,r[4]=this.d,r[5]=0,r[6]=this.tx,r[7]=this.ty,r[8]=1):(r[0]=this.a,r[1]=this.c,r[2]=this.tx,r[3]=this.b,r[4]=this.d,r[5]=this.ty,r[6]=0,r[7]=0,r[8]=1),r}apply(e,t){t=t||new nt;let r=e.x,i=e.y;return t.x=this.a*r+this.c*i+this.tx,t.y=this.b*r+this.d*i+this.ty,t}applyInverse(e,t){t=t||new nt;let r=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return t.x=this.d*r*i+-this.c*r*s+(this.ty*this.c-this.tx*this.d)*r,t.y=this.a*r*s+-this.b*r*i+(-this.ty*this.a+this.tx*this.b)*r,t}translate(e,t){return this.tx+=e,this.ty+=t,this}scale(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this}rotate(e){let t=Math.cos(e),r=Math.sin(e),i=this.a,s=this.c,a=this.tx;return this.a=i*t-this.b*r,this.b=i*r+this.b*t,this.c=s*t-this.d*r,this.d=s*r+this.d*t,this.tx=a*t-this.ty*r,this.ty=a*r+this.ty*t,this}append(e){let t=this.a,r=this.b,i=this.c,s=this.d;return this.a=e.a*t+e.b*i,this.b=e.a*r+e.b*s,this.c=e.c*t+e.d*i,this.d=e.c*r+e.d*s,this.tx=e.tx*t+e.ty*i+this.tx,this.ty=e.tx*r+e.ty*s+this.ty,this}setTransform(e,t,r,i,s,a,l,o,c){return this.a=Math.cos(l+c)*s,this.b=Math.sin(l+c)*s,this.c=-Math.sin(l-o)*a,this.d=Math.cos(l-o)*a,this.tx=e-(r*this.a+i*this.c),this.ty=t-(r*this.b+i*this.d),this}prepend(e){let t=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){let r=this.a,i=this.c;this.a=r*e.a+this.b*e.c,this.b=r*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this}decompose(e){let t=this.a,r=this.b,i=this.c,s=this.d,a=e.pivot,l=-Math.atan2(-i,s),o=Math.atan2(r,t),c=Math.abs(l+o);return c<1e-5||Math.abs(Na-c)<1e-5?(e.rotation=o,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=o),e.scale.x=Math.sqrt(t*t+r*r),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(a.x*t+a.y*i),e.position.y=this.ty+(a.x*r+a.y*s),e}invert(){let e=this.a,t=this.b,r=this.c,i=this.d,s=this.tx,a=e*i-t*r;return this.a=i/a,this.b=-t/a,this.c=-r/a,this.d=e/a,this.tx=(r*this.ty-i*s)/a,this.ty=-(e*this.ty-t*s)/a,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){let e=new n;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}static get IDENTITY(){return new n}static get TEMP_MATRIX(){return new n}};ke.prototype.toString=function(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`};var Fc=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],kc=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],Lc=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Bc=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],$S=[],nF=[],ax=Math.sign;function V8(){for(let n=0;n<16;n++){let e=[];$S.push(e);for(let t=0;t<16;t++){let r=ax(Fc[n]*Fc[t]+Lc[n]*kc[t]),i=ax(kc[n]*Fc[t]+Bc[n]*kc[t]),s=ax(Fc[n]*Lc[t]+Lc[n]*Bc[t]),a=ax(kc[n]*Lc[t]+Bc[n]*Bc[t]);for(let l=0;l<16;l++)if(Fc[l]===r&&kc[l]===i&&Lc[l]===s&&Bc[l]===a){e.push(l);break}}}for(let n=0;n<16;n++){let e=new ke;e.set(Fc[n],kc[n],Lc[n],Bc[n],0,0),nF.push(e)}}V8();var wt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:n=>Fc[n],uY:n=>kc[n],vX:n=>Lc[n],vY:n=>Bc[n],inv:n=>n&8?n&15:-n&7,add:(n,e)=>$S[n][e],sub:(n,e)=>$S[n][wt.inv(e)],rotate180:n=>n^4,isVertical:n=>(n&3)===2,byDirection:(n,e)=>Math.abs(n)*2<=Math.abs(e)?e>=0?wt.S:wt.N:Math.abs(e)*2<=Math.abs(n)?n>0?wt.E:wt.W:e>0?n>0?wt.SE:wt.SW:n>0?wt.NE:wt.NW,matrixAppendRotationInv:(n,e,t=0,r=0)=>{let i=nF[wt.inv(e)];i.tx=t,i.ty=r,n.append(i)}};var is=class n{constructor(e,t,r=0,i=0){this._x=r,this._y=i,this.cb=e,this.scope=t}clone(e=this.cb,t=this.scope){return new n(e,t,this._x,this._y)}set(e=0,t=e){return(this._x!==e||this._y!==t)&&(this._x=e,this._y=t,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}};is.prototype.toString=function(){return`[@pixi/math:ObservablePoint x=${this.x} y=${this.y} scope=${this.scope}]`};var HS=class{constructor(){this.worldTransform=new ke,this.localTransform=new ke,this.position=new is(this.onChange,this,0,0),this.scale=new is(this.onChange,this,1,1),this.pivot=new is(this.onChange,this,0,0),this.skew=new is(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}updateLocalTransform(){let n=this.localTransform;this._localID!==this._currentLocalID&&(n.a=this._cx*this.scale.x,n.b=this._sx*this.scale.x,n.c=this._cy*this.scale.y,n.d=this._sy*this.scale.y,n.tx=this.position.x-(this.pivot.x*n.a+this.pivot.y*n.c),n.ty=this.position.y-(this.pivot.x*n.b+this.pivot.y*n.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(n){let e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==n._worldID){let t=n.worldTransform,r=this.worldTransform;r.a=e.a*t.a+e.b*t.c,r.b=e.a*t.b+e.b*t.d,r.c=e.c*t.a+e.d*t.c,r.d=e.c*t.b+e.d*t.d,r.tx=e.tx*t.a+e.ty*t.c+t.tx,r.ty=e.tx*t.b+e.ty*t.d+t.ty,this._parentID=n._worldID,this._worldID++}}setFromMatrix(n){n.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(n){this._rotation!==n&&(this._rotation=n,this.updateSkew())}};HS.IDENTITY=new HS;var Fa=HS;Fa.prototype.toString=function(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`};var rF=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`;var iF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function lx(n,e,t){let r=n.createShader(e);return n.shaderSource(r,t),n.compileShader(r),r}function WS(n){let e=new Array(n);for(let t=0;t<e.length;t++)e[t]=!1;return e}function Hp(n,e){switch(n){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return WS(2*e);case"bvec3":return WS(3*e);case"bvec4":return WS(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}var Gs=[{test:n=>n.type==="float"&&n.size===1&&!n.isArray,code:n=>`
            if(uv["${n}"] !== ud["${n}"].value)
            {
                ud["${n}"].value = uv["${n}"]
                gl.uniform1f(ud["${n}"].location, uv["${n}"])
            }
            `},{test:(n,e)=>(n.type==="sampler2D"||n.type==="samplerCube"||n.type==="sampler2DArray")&&n.size===1&&!n.isArray&&(e==null||e.castToBaseTexture!==void 0),code:n=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${n}"], t);

            if(ud["${n}"].value !== t)
            {
                ud["${n}"].value = t;
                gl.uniform1i(ud["${n}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(n,e)=>n.type==="mat3"&&n.size===1&&!n.isArray&&e.a!==void 0,code:n=>`
            gl.uniformMatrix3fv(ud["${n}"].location, false, uv["${n}"].toArray(true));
            `,codeUbo:n=>`
                var ${n}_matrix = uv.${n}.toArray(true);

                data[offset] = ${n}_matrix[0];
                data[offset+1] = ${n}_matrix[1];
                data[offset+2] = ${n}_matrix[2];
        
                data[offset + 4] = ${n}_matrix[3];
                data[offset + 5] = ${n}_matrix[4];
                data[offset + 6] = ${n}_matrix[5];
        
                data[offset + 8] = ${n}_matrix[6];
                data[offset + 9] = ${n}_matrix[7];
                data[offset + 10] = ${n}_matrix[8];
            `},{test:(n,e)=>n.type==="vec2"&&n.size===1&&!n.isArray&&e.x!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${n}"].location, v.x, v.y);
                }`,codeUbo:n=>`
                v = uv.${n};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:n=>n.type==="vec2"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${n}"].location, v[0], v[1]);
                }
            `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.width!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${n}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(n,e)=>n.type==="vec4"&&n.size===1&&!n.isArray&&e.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${n}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(n,e)=>n.type==="vec3"&&n.size===1&&!n.isArray&&e.red!==void 0,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${n}"].location, v.red, v.green, v.blue)
                }`,codeUbo:n=>`
                    v = uv.${n};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:n=>n.type==="vec4"&&n.size===1&&!n.isArray,code:n=>`
                cv = ud["${n}"].value;
                v = uv["${n}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${n}"].location, v[0], v[1], v[2], v[3])
                }`}];var U8={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},j8={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function YS(n,e){let t=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(let r in n.uniforms){let i=e[r];if(!i){n.uniforms[r]?.group===!0&&(n.uniforms[r].ubo?t.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${r}, '${r}');
                    `):t.push(`
                        renderer.shader.syncUniformGroup(uv.${r}, syncData);
                    `));continue}let s=n.uniforms[r],a=!1;for(let l=0;l<Gs.length;l++)if(Gs[l].test(i,s)){t.push(Gs[l].code(r,s)),a=!0;break}if(!a){let l=(i.size===1&&!i.isArray?U8:j8)[i.type].replace("location",`ud["${r}"].location`);t.push(`
            cu = ud["${r}"];
            cv = cu.value;
            v = uv["${r}"];
            ${l};`)}}return new Function("ud","uv","renderer","syncData",t.join(`
`))}var sF={},cx=sF;function ux(){if(cx===sF||cx?.isContextLost()){let n=J.ADAPTER.createCanvas(),e;J.PREFER_ENV>=ai.WEBGL2&&(e=n.getContext("webgl2",{})),e||(e=n.getContext("webgl",{})||n.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),cx=e}return cx}var hx;function XS(){if(!hx){hx=ir.MEDIUM;let n=ux();if(n&&n.getShaderPrecisionFormat){let e=n.getShaderPrecisionFormat(n.FRAGMENT_SHADER,n.HIGH_FLOAT);e&&(hx=e.precision?ir.HIGH:ir.MEDIUM)}}return hx}function oF(n,e){let t=n.getShaderSource(e).split(`
`).map((c,u)=>`${u}: ${c}`),r=n.getShaderInfoLog(e),i=r.split(`
`),s={},a=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),l=[""];a.forEach(c=>{t[c-1]=`%c${t[c-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});let o=t.join(`
`);l[0]=o,console.error(r),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function zS(n,e,t,r){n.getProgramParameter(e,n.LINK_STATUS)||(n.getShaderParameter(t,n.COMPILE_STATUS)||oF(n,t),n.getShaderParameter(r,n.COMPILE_STATUS)||oF(n,r),console.error("PixiJS Error: Could not initialize shader."),n.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",n.getProgramInfoLog(e)))}var G8={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function Wp(n){return G8[n]}var dx=null,aF={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function Yp(n,e){if(!dx){let t=Object.keys(aF);dx={};for(let r=0;r<t.length;++r){let i=t[r];dx[n[i]]=aF[i]}}return dx[e]}function fx(n,e,t){if(n.substring(0,9)!=="precision"){let r=e;return e===ir.HIGH&&t!==ir.HIGH&&(r=ir.MEDIUM),`precision ${r} float;
${n}`}else if(t!==ir.HIGH&&n.substring(0,15)==="precision highp")return n.replace("precision highp","precision mediump");return n}var Xp;function px(){if(typeof Xp=="boolean")return Xp;try{Xp=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Xp=!1}return Xp}var $8=0,mx={},qS=class Kh{constructor(e,t,r="pixi-shader",i={}){this.extra={},this.id=$8++,this.vertexSrc=e||Kh.defaultVertexSrc,this.fragmentSrc=t||Kh.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=i,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),mx[r]?(mx[r]++,r+=`-${mx[r]}`):mx[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=fx(this.vertexSrc,Kh.defaultVertexPrecision,ir.HIGH),this.fragmentSrc=fx(this.fragmentSrc,Kh.defaultFragmentPrecision,XS())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return iF}static get defaultFragmentSrc(){return rF}static from(e,t,r){let i=e+t,s=Up[i];return s||(Up[i]=s=new Kh(e,t,r)),s}};qS.defaultVertexPrecision=ir.HIGH,qS.defaultFragmentPrecision=Oi.apple.device?ir.HIGH:ir.MEDIUM;var Vr=qS;var H8=0,ar=class n{constructor(e,t,r){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=H8++,this.static=!!t,this.ubo=!!r,e instanceof St?(this.buffer=e,this.buffer.type=Lr.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new St(new Float32Array(1)),this.buffer.type=Lr.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,t,r){if(!this.ubo)this.uniforms[e]=new n(t,r);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,t,r){return new n(e,t,r)}static uboFrom(e,t){return new n(e,t??!0,!0)}};var ss=class n{constructor(e,t){this.uniformBindCount=0,this.program=e,t?t instanceof ar?this.uniformGroup=t:this.uniformGroup=new ar(t):this.uniformGroup=new ar({}),this.disposeRunner=new Zt("disposeShader")}checkUniformExists(e,t){if(t.uniforms[e])return!0;for(let r in t.uniforms){let i=t.uniforms[r];if(i.group===!0&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,t,r){let i=Vr.from(e,t);return new n(i,r)}};var zp=class{constructor(e,t){if(this.vertexSrc=e,this.fragTemplate=t,this.programCache={},this.defaultGroupCache={},!t.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!t.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){let r=new Int32Array(e);for(let s=0;s<e;s++)r[s]=s;this.defaultGroupCache[e]=ar.from({uSamplers:r},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Vr(this.vertexSrc,i)}let t={tint:new Float32Array([1,1,1,1]),translationMatrix:new ke,default:this.defaultGroupCache[e]};return new ss(this.programCache[e],t)}generateSampleSrc(e){let t="";t+=`
`,t+=`
`;for(let r=0;r<e;r++)r>0&&(t+=`
else `),r<e-1&&(t+=`if(vTextureId < ${r}.5)`),t+=`
{`,t+=`
	color = texture2D(uSamplers[${r}], vTextureCoord);`,t+=`
}`;return t+=`
`,t+=`
`,t}};var ka=class{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}};function lF(){return!Oi.apple.device}function cF(n){let e=!0,t=J.ADAPTER.getNavigator();if(Oi.tablet||Oi.phone){if(Oi.apple.device){let r=t.userAgent.match(/OS (\d+)_(\d+)?/);r&&parseInt(r[1],10)<11&&(e=!1)}if(Oi.android.device){let r=t.userAgent.match(/Android\s([0-9.]*)/);r&&parseInt(r[1],10)<7&&(e=!1)}}return e?n:4}var Vc=class{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}};var uF=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`;var hF=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;var qp=class os extends Vc{constructor(e){super(e),this.setShaderGenerator(),this.geometryClass=Nc,this.vertexSize=6,this.state=Br.for2d(),this.size=os.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),e.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??cF(32),this._defaultMaxTextures}static set defaultMaxTextures(e){this._defaultMaxTextures=e}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??lF(),this._canUploadSameBuffer}static set canUploadSameBuffer(e){this._canUploadSameBuffer=e}get MAX_TEXTURES(){return pe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return hF}static get defaultFragmentTemplate(){return uF}setShaderGenerator({vertex:e=os.defaultVertexSrc,fragment:t=os.defaultFragmentTemplate}={}){this.shaderGenerator=new zp(e,t)}contextChange(){let e=this.renderer.gl;J.PREFER_ENV===ai.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),os.defaultMaxTextures),this.maxTextures=sx(this.maxTextures,e)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){let{_drawCallPool:e,_textureArrayPool:t}=os,r=this.size/4,i=Math.floor(r/this.maxTextures)+1;for(;e.length<r;)e.push(new Oa);for(;t.length<i;)t.push(new ka);for(let s=0;s<this.maxTextures;s++)this._tempBoundTextures[s]=null}onPrerender(){this._flushId=0}render(e){e._texture.valid&&(this._vertexCount+e.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=e.vertexData.length/2,this._indexCount+=e.indices.length,this._bufferedTextures[this._bufferSize]=e._texture.baseTexture,this._bufferedElements[this._bufferSize++]=e)}buildTexturesAndDrawCalls(){let{_bufferedTextures:e,maxTextures:t}=this,r=os._textureArrayPool,i=this.renderer.batch,s=this._tempBoundTextures,a=this.renderer.textureGC.count,l=++Ee._globalBatch,o=0,c=r[0],u=0;i.copyBoundTextures(s,t);for(let h=0;h<this._bufferSize;++h){let d=e[h];e[h]=null,d._batchEnabled!==l&&(c.count>=t&&(i.boundArray(c,s,l,t),this.buildDrawCalls(c,u,h),u=h,c=r[++o],++l),d._batchEnabled=l,d.touched=a,c.elements[c.count++]=d)}c.count>0&&(i.boundArray(c,s,l,t),this.buildDrawCalls(c,u,this._bufferSize),++o,++l);for(let h=0;h<s.length;h++)s[h]=null;Ee._globalBatch=l}buildDrawCalls(e,t,r){let{_bufferedElements:i,_attributeBuffer:s,_indexBuffer:a,vertexSize:l}=this,o=os._drawCallPool,c=this._dcIndex,u=this._aIndex,h=this._iIndex,d=o[c];d.start=this._iIndex,d.texArray=e;for(let f=t;f<r;++f){let p=i[f],m=p._texture.baseTexture,g=kp[m.alphaMode?1:0][p.blendMode];i[f]=null,t<f&&d.blend!==g&&(d.size=h-d.start,t=f,d=o[++c],d.texArray=e,d.start=h),this.packInterleavedGeometry(p,s,a,u,h),u+=p.vertexData.length/2*l,h+=p.indices.length,d.blend=g}t<r&&(d.size=h-d.start,++c),this._dcIndex=c,this._aIndex=u,this._iIndex=h}bindAndClearTexArray(e){let t=this.renderer.texture;for(let r=0;r<e.count;r++)t.bind(e.elements[r],e.ids[r]),e.elements[r]=null;e.count=0}updateGeometry(){let{_packedGeometries:e,_attributeBuffer:t,_indexBuffer:r}=this;os.canUploadSameBuffer?(e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,e[this._flushId]=new this.geometryClass),e[this._flushId]._buffer.update(t.rawBinaryData),e[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(e[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){let e=this._dcIndex,{gl:t,state:r}=this.renderer,i=os._drawCallPool,s=null;for(let a=0;a<e;a++){let{texArray:l,type:o,size:c,start:u,blend:h}=i[a];s!==l&&(s=l,this.bindAndClearTexArray(l)),this.state.blendMode=h,r.set(this.state),t.drawElements(o,c,t.UNSIGNED_SHORT,u*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),os.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]&&this._packedGeometries[e].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(e){let t=Ra(Math.ceil(e/8)),r=Bp(t),i=t*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let s=this._aBuffers[i];return s||(this._aBuffers[i]=s=new Gp(i*this.vertexSize*4)),s}getIndexBuffer(e){let t=Ra(Math.ceil(e/12)),r=Bp(t),i=t*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let s=this._iBuffers[r];return s||(this._iBuffers[r]=s=new Uint16Array(i)),s}packInterleavedGeometry(e,t,r,i,s){let{uint32View:a,float32View:l}=t,o=i/this.vertexSize,c=e.uvs,u=e.indices,h=e.vertexData,d=e._texture.baseTexture._batchLocation,f=Math.min(e.worldAlpha,1),p=et.shared.setValue(e._tintRGB).toPremultiplied(f,e._texture.baseTexture.alphaMode>0);for(let m=0;m<h.length;m+=2)l[i++]=h[m],l[i++]=h[m+1],l[i++]=c[m],l[i++]=c[m+1],a[i++]=p,l[i++]=d;for(let m=0;m<u.length;m++)r[s++]=o+u[m]}};qp.defaultBatchSize=4096,qp.extension={name:"batch",type:Q.RendererPlugin},qp._drawCallPool=[],qp._textureArrayPool=[];var bo=qp;K.add(bo);var dF=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`;var fF=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;var ZS=class Zp extends ss{constructor(e,t,r){let i=Vr.from(e||Zp.defaultVertexSrc,t||Zp.defaultFragmentSrc);super(i,r),this.padding=0,this.resolution=Zp.defaultResolution,this.multisample=Zp.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Br}apply(e,t,r,i,s){e.applyFilter(this,t,r,i)}get blendMode(){return this.state.blendMode}set blendMode(e){this.state.blendMode=e}get resolution(){return this._resolution}set resolution(e){this._resolution=e}static get defaultVertexSrc(){return fF}static get defaultFragmentSrc(){return dF}};ZS.defaultResolution=1,ZS.defaultMultisample=lt.NONE;var $s=ZS;var wo=class{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new et(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;let{backgroundColor:t,background:r,backgroundAlpha:i}=e,s=r??t;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}};wo.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},wo.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"background"};K.add(wo);var Jh=class{constructor(e){this.renderer=e,this.emptyRenderer=new Vc(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,t){let{boundTextures:r}=this.renderer.texture;for(let i=t-1;i>=0;--i)e[i]=r[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,t,r,i){let{elements:s,ids:a,count:l}=e,o=0;for(let c=0;c<l;c++){let u=s[c],h=u._batchLocation;if(h>=0&&h<i&&t[h]===u){a[c]=h;continue}for(;o<i;){let d=t[o];if(d&&d._batchEnabled===r&&d._batchLocation===o){o++;continue}a[c]=o,u._batchLocation=o,t[o]=u;break}}}destroy(){this.renderer=null}};Jh.extension={type:Q.RendererSystem,name:"batch"};K.add(Jh);var pF=0,Eo=class{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=pF++}init(e){if(e.context)this.initFromContext(e.context);else{let t=this.renderer.background.alpha<1,r=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:t,premultipliedAlpha:r,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=pF++,this.renderer.runners.contextChange.emit(e);let t=this.renderer.view;t.addEventListener!==void 0&&(t.addEventListener("webglcontextlost",this.handleContextLost,!1),t.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){let t=this.createContext(this.renderer.view,e);this.initFromContext(t)}createContext(e,t){let r;if(J.PREFER_ENV>=ai.WEBGL2&&(r=e.getContext("webgl2",t)),r)this.webGLVersion=2;else if(this.webGLVersion=1,r=e.getContext("webgl",t)||e.getContext("experimental-webgl",t),!r)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=r,this.getExtensions(),this.gl}getExtensions(){let{gl:e}=this,t={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc"),bptc:e.getExtension("EXT_texture_compression_bptc")};this.webGLVersion===1?Object.assign(this.extensions,t,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,t,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){let e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){let t=e.getContextAttributes(),r="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;r&&(this.webGLVersion=2),t&&!t.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");let i=r||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}};Eo.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Eo.extension={type:Q.RendererSystem,name:"context"};K.add(Eo);var La=class{constructor(e,t){if(this.width=Math.round(e),this.height=Math.round(t),!this.width||!this.height)throw new Error("Framebuffer width or height is zero");this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Zt("disposeFramebuffer"),this.multisample=lt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,t){return this.colorTextures[e]=t||new Ee(null,{scaleMode:Nn.NEAREST,resolution:1,mipmap:li.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ee(null,{scaleMode:Nn.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:li.OFF,format:ie.DEPTH_COMPONENT,type:we.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,t){if(e=Math.round(e),t=Math.round(t),!e||!t)throw new Error("Framebuffer width and height must not be zero");if(!(e===this.width&&t===this.height)){this.width=e,this.height=t,this.dirtyId++,this.dirtySize++;for(let r=0;r<this.colorTextures.length;r++){let i=this.colorTextures[r],s=i.resolution;i.setSize(e/s,t/s)}if(this.depthTexture){let r=this.depthTexture.resolution;this.depthTexture.setSize(e/r,t/r)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}};var Uc=class extends Ee{constructor(e={}){if(typeof e=="number"){let t=arguments[0],r=arguments[1],i=arguments[2],s=arguments[3];e={width:t,height:r,scaleMode:i,resolution:s}}e.width=e.width??100,e.height=e.height??100,e.multisample??(e.multisample=lt.NONE),super(null,e),this.mipmap=li.OFF,this.valid=!0,this._clear=new et([0,0,0,0]),this.framebuffer=new La(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t){this.framebuffer.resize(e*this.resolution,t*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}};var hn=class extends ci{constructor(e){let t=e,r=t.naturalWidth||t.videoWidth||t.displayWidth||t.width,i=t.naturalHeight||t.videoHeight||t.displayHeight||t.height;super(r,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,t,r){r===void 0&&!t.startsWith("data:")?e.crossOrigin=ix(t):r!==!1&&(e.crossOrigin=typeof r=="string"?r:"anonymous")}upload(e,t,r,i){let s=e.gl,a=t.realWidth,l=t.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,t.alphaMode===cn.UNPACK),!this.noSubImage&&t.target===s.TEXTURE_2D&&r.width===a&&r.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,t.format,r.type,i):(r.width=a,r.height=l,s.texImage2D(t.target,0,r.internalFormat,t.format,r.type,i)),!0}update(){if(this.destroyed)return;let e=this.source,t=e.naturalWidth||e.videoWidth||e.width,r=e.naturalHeight||e.videoHeight||e.height;this.resize(t,r),super.update()}dispose(){this.source=null}};var jc=class extends hn{constructor(e,t){if(t=t||{},typeof e=="string"){let r=new Image;hn.crossOrigin(r,e,t.crossorigin),r.src=e,e=r}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(t.createBitmap??J.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.bitmap=null,this._load=null,t.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((t,r)=>{let i=this.source;this.url=i.src;let s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.update(),this._load=null,this.createBitmap?t(this.process()):t(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=a=>{r(a),this.onError.emit(a)})}),this._load)}process(){let e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);let t=globalThis.createImageBitmap,r=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:r?"cors":"no-cors"}).then(i=>i.blob()).then(i=>t(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===cn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,t,r){if(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,t,r);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,t,r,this.bitmap),!this.preserveBitmap){let i=!0,s=t._glTextures;for(let a in s){let l=s[a];if(l!==r&&l.dirtyId!==t.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}};var Gc=class{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,t,r){let i=t.width,s=t.height;if(r){let a=e.width/2/i,l=e.height/2/s,o=e.x/i+a,c=e.y/s+l;r=wt.add(r,wt.NW),this.x0=o+a*wt.uX(r),this.y0=c+l*wt.uY(r),r=wt.add(r,2),this.x1=o+a*wt.uX(r),this.y1=c+l*wt.uY(r),r=wt.add(r,2),this.x2=o+a*wt.uX(r),this.y2=c+l*wt.uY(r),r=wt.add(r,2),this.x3=o+a*wt.uX(r),this.y3=c+l*wt.uY(r)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}};Gc.prototype.toString=function(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`};var mF=new Gc;function gx(n){n.destroy=function(){},n.on=function(){},n.once=function(){},n.emit=function(){}}var rt=class n extends Pa.default{constructor(e,t,r,i,s,a,l){if(super(),this.noFrame=!1,t||(this.noFrame=!0,t=new be(0,0,1,1)),e instanceof n&&(e=e.baseTexture),this.baseTexture=e,this._frame=t,this.trim=i,this.valid=!1,this.destroyed=!1,this._uvs=mF,this.uvMatrix=null,this.orig=r||t,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=a?new nt(a.x,a.y):new nt(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=t:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){let{resource:t}=this.baseTexture;t?.url&&bn[t.url]&&n.removeFromCache(t.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,n.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0,this.emit("destroyed",this),this.removeAllListeners()}clone(){let e=this._frame.clone(),t=this._frame===this.orig?e:this.orig.clone(),r=new n(this.baseTexture,!this.noFrame&&e,t,this.trim?.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(r._frame=e),r}updateUvs(){this._uvs===mF&&(this._uvs=new Gc),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,t={},r=J.STRICT_TEXTURE_CACHE){let i=typeof e=="string",s=null;if(i)s=e;else if(e instanceof Ee){if(!e.cacheId){let l=t?.pixiIdPrefix||"pixiid";e.cacheId=`${l}-${js()}`,Ee.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){let l=t?.pixiIdPrefix||"pixiid";e._pixiId=`${l}_${js()}`}s=e._pixiId}let a=bn[s];if(i&&r&&!a)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!a&&!(e instanceof Ee)?(t.resolution||(t.resolution=jp(e)),a=new n(new Ee(e,t)),a.baseTexture.cacheId=s,Ee.addToCache(a.baseTexture,s),n.addToCache(a,s)):!a&&e instanceof Ee&&(a=new n(e),n.addToCache(a,s)),a}static fromURL(e,t){let r=Object.assign({autoLoad:!1},t?.resourceOptions),i=n.from(e,Object.assign({resourceOptions:r},t),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,t,r,i){return new n(Ee.fromBuffer(e,t,r,i))}static fromLoader(e,t,r,i){let s=new Ee(e,Object.assign({scaleMode:Ee.defaultOptions.scaleMode,resolution:jp(t)},i)),{resource:a}=s;a instanceof jc&&(a.url=t);let l=new n(s);return r||(r=t),Ee.addToCache(l.baseTexture,r),n.addToCache(l,r),r!==t&&(Ee.addToCache(l.baseTexture,t),n.addToCache(l,t)),l.baseTexture.valid?Promise.resolve(l):new Promise(o=>{l.baseTexture.once("loaded",()=>o(l))})}static addToCache(e,t){t&&(e.textureCacheIds.includes(t)||e.textureCacheIds.push(t),bn[t]&&bn[t]!==e&&console.warn(`Texture added to the cache with an id [${t}] that already had an entry`),bn[t]=e)}static removeFromCache(e){if(typeof e=="string"){let t=bn[e];if(t){let r=t.textureCacheIds.indexOf(e);return r>-1&&t.textureCacheIds.splice(r,1),delete bn[e],t}}else if(e?.textureCacheIds){for(let t=0;t<e.textureCacheIds.length;++t)bn[e.textureCacheIds[t]]===e&&delete bn[e.textureCacheIds[t]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;let{x:t,y:r,width:i,height:s}=e,a=t+i>this.baseTexture.width,l=r+s>this.baseTexture.height;if(a||l){let o=a&&l?"and":"or",c=`X: ${t} + ${i} = ${t+i} > ${this.baseTexture.width}`,u=`Y: ${r} + ${s} = ${r+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${o} ${u}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return n._EMPTY||(n._EMPTY=new n(new Ee),gx(n._EMPTY),gx(n._EMPTY.baseTexture)),n._EMPTY}static get WHITE(){if(!n._WHITE){let e=J.ADAPTER.createCanvas(16,16),t=e.getContext("2d");e.width=16,e.height=16,t.fillStyle="white",t.fillRect(0,0,16,16),n._WHITE=new n(Ee.from(e)),gx(n._WHITE),gx(n._WHITE.baseTexture)}return n._WHITE}};var $c=class n extends rt{constructor(e,t){super(e,t),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,t,r=!0){let i=this.baseTexture.resolution,s=Math.round(e*i)/i,a=Math.round(t*i)/i;this.valid=s>0&&a>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=a,r&&this.baseTexture.resize(s,a),this.updateUvs()}setResolution(e){let{baseTexture:t}=this;t.resolution!==e&&(t.setResolution(e),this.resize(t.width,t.height,!1))}static create(e){return new n(new Uc(e))}};var QS=(()=>{class n{constructor(t){this.texturePool={},this.textureOptions=t||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(t,r,i=lt.NONE){let s=new Uc(Object.assign({width:t,height:r,resolution:1,multisample:i},this.textureOptions));return new $c(s)}getOptimalTexture(t,r,i=1,s=lt.NONE){let a;t=Math.max(Math.ceil(t*i-1e-6),1),r=Math.max(Math.ceil(r*i-1e-6),1),!this.enableFullScreen||t!==this._pixelsWidth||r!==this._pixelsHeight?(t=Ra(t),r=Ra(r),a=((t&65535)<<16|r&65535)>>>0,s>1&&(a+=s*4294967296)):a=s>1?-s:-1,this.texturePool[a]||(this.texturePool[a]=[]);let l=this.texturePool[a].pop();return l||(l=this.createTexture(t,r,s)),l.filterPoolKey=a,l.setResolution(i),l}getFilterTexture(t,r,i){let s=this.getOptimalTexture(t.width,t.height,r||t.resolution,i||lt.NONE);return s.filterFrame=t.filterFrame,s}returnTexture(t){let r=t.filterPoolKey;t.filterFrame=null,this.texturePool[r].push(t)}returnFilterTexture(t){this.returnTexture(t)}clear(t){if(t=t!==!1,t)for(let r in this.texturePool){let i=this.texturePool[r];if(i)for(let s=0;s<i.length;s++)i[s].destroy(!0)}this.texturePool={}}setScreenSize(t){if(!(t.width===this._pixelsWidth&&t.height===this._pixelsHeight)){this.enableFullScreen=t.width>0&&t.height>0;for(let r in this.texturePool){if(!(Number(r)<0))continue;let i=this.texturePool[r];if(i)for(let s=0;s<i.length;s++)i[s].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=t.width,this._pixelsHeight=t.height}}}return n.SCREEN_KEY=-1,n})();var Qp=class extends rs{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}};var Kp=class extends rs{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new St(this.vertices),this.uvBuffer=new St(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,t){let r=0,i=0;return this.uvs[0]=r,this.uvs[1]=i,this.uvs[2]=r+t.width/e.width,this.uvs[3]=i,this.uvs[4]=r+t.width/e.width,this.uvs[5]=i+t.height/e.height,this.uvs[6]=r,this.uvs[7]=i+t.height/e.height,r=t.x,i=t.y,this.vertices[0]=r,this.vertices[1]=i,this.vertices[2]=r+t.width,this.vertices[3]=i,this.vertices[4]=r+t.width,this.vertices[5]=i+t.height,this.vertices[6]=r,this.vertices[7]=i+t.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}};var Jp=class{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=lt.NONE,this.sourceFrame=new be,this.destinationFrame=new be,this.bindingSourceFrame=new be,this.bindingDestinationFrame=new be,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}};var yx=[new nt,new nt,new nt,new nt],KS=new ke,ed=class{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new QS,this.statePool=[],this.quad=new Qp,this.quadUv=new Kp,this.tempRect=new be,this.activeState={},this.globalUniforms=new ar({outputFrame:new be,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,t){let r=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new Jp,a=r.renderTexture,l,o;if(a.current){let g=a.current;l=g.resolution,o=g.multisample}else l=r.resolution,o=r.multisample;let c=t[0].resolution||l,u=t[0].multisample??o,h=t[0].padding,d=t[0].autoFit,f=t[0].legacy??!0;for(let g=1;g<t.length;g++){let v=t[g];c=Math.min(c,v.resolution||l),u=Math.min(u,v.multisample??o),h=this.useMaxPadding?Math.max(h,v.padding):h+v.padding,d=d&&v.autoFit,f=f||(v.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=a.current),i.push(s),s.resolution=c,s.multisample=u,s.legacy=f,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);let p=this.tempRect.copyFrom(a.sourceFrame);r.projection.transform&&this.transformAABB(KS.copyFrom(r.projection.transform).invert(),p),d?(s.sourceFrame.fit(p),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(p)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,a.current?a.current.resolution:r.resolution,a.sourceFrame,a.destinationFrame,r.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,c,u),s.filters=t,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;let m=this.tempRect;m.x=0,m.y=0,m.width=s.sourceFrame.width,m.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(a.sourceFrame),s.bindingDestinationFrame.copyFrom(a.destinationFrame),s.transform=r.projection.transform,r.projection.transform=null,a.bind(s.renderTexture,s.sourceFrame,m),r.framebuffer.clear(0,0,0,0)}pop(){let e=this.defaultFilterStack,t=e.pop(),r=t.filters;this.activeState=t;let i=this.globalUniforms.uniforms;i.outputFrame=t.sourceFrame,i.resolution=t.resolution;let s=i.inputSize,a=i.inputPixel,l=i.inputClamp;if(s[0]=t.destinationFrame.width,s[1]=t.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],a[0]=Math.round(s[0]*t.resolution),a[1]=Math.round(s[1]*t.resolution),a[2]=1/a[0],a[3]=1/a[1],l[0]=.5*a[2],l[1]=.5*a[3],l[2]=t.sourceFrame.width*s[2]-.5*a[2],l[3]=t.sourceFrame.height*s[3]-.5*a[3],t.legacy){let c=i.filterArea;c[0]=t.destinationFrame.width,c[1]=t.destinationFrame.height,c[2]=t.sourceFrame.x,c[3]=t.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();let o=e[e.length-1];if(this.renderer.framebuffer.blit(),r.length===1)r[0].apply(this,t.renderTexture,o.renderTexture,Aa.BLEND,t),this.returnFilterTexture(t.renderTexture);else{let c=t.renderTexture,u=this.getOptimalFilterTexture(c.width,c.height,t.resolution);u.filterFrame=c.filterFrame;let h=0;for(h=0;h<r.length-1;++h){h===1&&t.multisample>1&&(u=this.getOptimalFilterTexture(c.width,c.height,t.resolution),u.filterFrame=c.filterFrame),r[h].apply(this,c,u,Aa.CLEAR,t);let d=c;c=u,u=d}r[h].apply(this,c,o.renderTexture,Aa.BLEND,t),h>1&&t.multisample>1&&this.returnFilterTexture(t.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(u)}t.clear(),this.statePool.push(t)}bindAndClear(e,t=Aa.CLEAR){let{renderTexture:r,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e?.filterFrame){let a=this.tempRect;a.x=0,a.y=0,a.width=e.filterFrame.width,a.height=e.filterFrame.height,r.bind(e,e.filterFrame,a)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?r.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);let s=i.stateId&1||this.forceClear;(t===Aa.CLEAR||t===Aa.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,t,r,i){let s=this.renderer;s.state.set(e.state),this.bindAndClear(r,i),e.uniforms.uSampler=t,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(t._frame,t.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Yn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Yn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,t){let{sourceFrame:r,destinationFrame:i}=this.activeState,{orig:s}=t._texture,a=e.set(i.width,0,0,i.height,r.x,r.y),l=t.worldTransform.copyTo(ke.TEMP_MATRIX);return l.invert(),a.prepend(l),a.scale(1/s.width,1/s.height),a.translate(t.anchor.x,t.anchor.y),a}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,t,r=1,i=lt.NONE){return this.texturePool.getOptimalTexture(e,t,r,i)}getFilterTexture(e,t,r){if(typeof e=="number"){let s=e;e=t,t=s}e=e||this.activeState.renderTexture;let i=this.texturePool.getOptimalTexture(e.width,e.height,t||e.resolution,r||lt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,t){let r=yx[0],i=yx[1],s=yx[2],a=yx[3];r.set(t.left,t.top),i.set(t.left,t.bottom),s.set(t.right,t.top),a.set(t.right,t.bottom),e.apply(r,r),e.apply(i,i),e.apply(s,s),e.apply(a,a);let l=Math.min(r.x,i.x,s.x,a.x),o=Math.min(r.y,i.y,s.y,a.y),c=Math.max(r.x,i.x,s.x,a.x),u=Math.max(r.y,i.y,s.y,a.y);t.x=l,t.y=o,t.width=c-l,t.height=u-o}roundFrame(e,t,r,i,s){if(!(e.width<=0||e.height<=0||r.width<=0||r.height<=0)){if(s){let{a,b:l,c:o,d:c}=s;if((Math.abs(l)>1e-4||Math.abs(o)>1e-4)&&(Math.abs(a)>1e-4||Math.abs(c)>1e-4))return}s=s?KS.copyFrom(s):KS.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(t),this.transformAABB(s.invert(),e)}}};ed.extension={type:Q.RendererSystem,name:"filter"};K.add(ed);var em=class{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=lt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}};var W8=new be,td=class{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new La(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);let e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new be,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let t=this.renderer.context.extensions.drawBuffers,r=this.renderer.context.extensions.depthTexture;J.PREFER_ENV===ai.WEBGL_LEGACY&&(t=null,r=null),t?e.drawBuffers=i=>t.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),r||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,t,r=0){let{gl:i}=this;if(e){let s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==r&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=r),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,r)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let a=0;a<e.colorTextures.length;a++){let l=e.colorTextures[a];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),t){let a=t.width>>r,l=t.height>>r,o=a/t.width;this.setViewport(t.x*o,t.y*o,a,l)}else{let a=e.width>>r,l=e.height>>r;this.setViewport(0,0,a,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),t?this.setViewport(t.x,t.y,t.width,t.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,t,r,i){let s=this.viewport;e=Math.round(e),t=Math.round(t),r=Math.round(r),i=Math.round(i),(s.width!==r||s.height!==i||s.x!==e||s.y!==t)&&(s.x=e,s.y=t,s.width=r,s.height=i,this.gl.viewport(e,t,r,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,t,r,i,s=N0.COLOR|N0.DEPTH){let{gl:a}=this;a.clearColor(e,t,r,i),a.clear(s)}initFramebuffer(e){let{gl:t}=this,r=new em(t.createFramebuffer());return r.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=r,this.managedFramebuffers.push(e),e.disposeRunner.add(this),r}resizeFramebuffer(e){let{gl:t}=this,r=e.glFramebuffers[this.CONTEXT_UID];if(r.stencil){t.bindRenderbuffer(t.RENDERBUFFER,r.stencil);let a;this.renderer.context.webGLVersion===1?a=t.DEPTH_STENCIL:e.depth&&e.stencil?a=t.DEPTH24_STENCIL8:e.depth?a=t.DEPTH_COMPONENT24:a=t.STENCIL_INDEX8,r.msaaBuffer?t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,a,e.width,e.height):t.renderbufferStorage(t.RENDERBUFFER,a,e.width,e.height)}let i=e.colorTextures,s=i.length;t.drawBuffers||(s=Math.min(s,1));for(let a=0;a<s;a++){let l=i[a],o=l.parentTextureArray||l;this.renderer.texture.bind(o,0),a===0&&r.msaaBuffer&&(t.bindRenderbuffer(t.RENDERBUFFER,r.msaaBuffer),t.renderbufferStorageMultisample(t.RENDERBUFFER,r.multisample,o._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,t){let{gl:r}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures,a=s.length;r.drawBuffers||(a=Math.min(a,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||r.createRenderbuffer():i.msaaBuffer&&(r.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));let l=[];for(let o=0;o<a;o++){let c=s[o],u=c.parentTextureArray||c;this.renderer.texture.bind(u,0),o===0&&i.msaaBuffer?(r.bindRenderbuffer(r.RENDERBUFFER,i.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.RENDERBUFFER,i.msaaBuffer)):(r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0+o,c.target,u._glTextures[this.CONTEXT_UID].texture,t),l.push(r.COLOR_ATTACHMENT0+o))}if(l.length>1&&r.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){let o=e.depthTexture;this.renderer.texture.bind(o,0),r.framebufferTexture2D(r.FRAMEBUFFER,r.DEPTH_ATTACHMENT,r.TEXTURE_2D,o._glTextures[this.CONTEXT_UID].texture,t)}if((e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)){i.stencil=i.stencil||r.createRenderbuffer();let o,c;this.renderer.context.webGLVersion===1?(o=r.DEPTH_STENCIL_ATTACHMENT,c=r.DEPTH_STENCIL):e.depth&&e.stencil?(o=r.DEPTH_STENCIL_ATTACHMENT,c=r.DEPTH24_STENCIL8):e.depth?(o=r.DEPTH_ATTACHMENT,c=r.DEPTH_COMPONENT24):(o=r.STENCIL_ATTACHMENT,c=r.STENCIL_INDEX8),r.bindRenderbuffer(r.RENDERBUFFER,i.stencil),i.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,i.multisample,c,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,c,e.width,e.height),r.framebufferRenderbuffer(r.FRAMEBUFFER,o,r.RENDERBUFFER,i.stencil)}else i.stencil&&(r.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){let{msaaSamples:t}=this,r=lt.NONE;if(e<=1||t===null)return r;for(let i=0;i<t.length;i++)if(t[i]<=e){r=t[i];break}return r===1&&(r=lt.NONE),r}blit(e,t,r){let{current:i,renderer:s,gl:a,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!i)return;let o=i.glFramebuffers[l];if(!o)return;if(!e){if(!o.msaaBuffer)return;let u=i.colorTextures[0];if(!u)return;o.blitFramebuffer||(o.blitFramebuffer=new La(i.width,i.height),o.blitFramebuffer.addColorTexture(0,u)),e=o.blitFramebuffer,e.colorTextures[0]!==u&&(e.colorTextures[0]=u,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}t||(t=W8,t.width=i.width,t.height=i.height),r||(r=t);let c=t.width===r.width&&t.height===r.height;this.bind(e),a.bindFramebuffer(a.READ_FRAMEBUFFER,o.framebuffer),a.blitFramebuffer(t.left,t.top,t.right,t.bottom,r.left,r.top,r.right,r.bottom,a.COLOR_BUFFER_BIT,c?a.NEAREST:a.LINEAR),a.bindFramebuffer(a.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,t){let r=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!r)return;delete e.glFramebuffers[this.CONTEXT_UID];let s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),t||(i.deleteFramebuffer(r.framebuffer),r.msaaBuffer&&i.deleteRenderbuffer(r.msaaBuffer),r.stencil&&i.deleteRenderbuffer(r.stencil)),r.blitFramebuffer&&this.disposeFramebuffer(r.blitFramebuffer,t)}disposeAll(e){let t=this.managedFramebuffers;this.managedFramebuffers=[];for(let r=0;r<t.length;r++)this.disposeFramebuffer(t[r],e)}forceStencil(){let e=this.current;if(!e)return;let t=e.glFramebuffers[this.CONTEXT_UID];if(!t||t.stencil&&e.stencil)return;e.stencil=!0;let r=e.width,i=e.height,s=this.gl,a=t.stencil=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,a);let l,o;this.renderer.context.webGLVersion===1?(l=s.DEPTH_STENCIL_ATTACHMENT,o=s.DEPTH_STENCIL):e.depth?(l=s.DEPTH_STENCIL_ATTACHMENT,o=s.DEPTH24_STENCIL8):(l=s.STENCIL_ATTACHMENT,o=s.STENCIL_INDEX8),t.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,t.multisample,o,r,i):s.renderbufferStorage(s.RENDERBUFFER,o,r,i),s.framebufferRenderbuffer(s.FRAMEBUFFER,l,s.RENDERBUFFER,a)}reset(){this.current=this.unknownFramebuffer,this.viewport=new be}destroy(){this.renderer=null}};td.extension={type:Q.RendererSystem,name:"framebuffer"};K.add(td);var JS={5126:4,5123:2,5121:1},nd=class{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);let e=this.gl=this.renderer.gl,t=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,t.webGLVersion!==2){let r=this.renderer.context.extensions.vertexArrayObject;J.PREFER_ENV===ai.WEBGL_LEGACY&&(r=null),r?(e.createVertexArray=()=>r.createVertexArrayOES(),e.bindVertexArray=i=>r.bindVertexArrayOES(i),e.deleteVertexArray=i=>r.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(t.webGLVersion!==2){let r=e.getExtension("ANGLE_instanced_arrays");r?(e.vertexAttribDivisor=(i,s)=>r.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,a,l,o)=>r.drawElementsInstancedANGLE(i,s,a,l,o),e.drawArraysInstanced=(i,s,a,l)=>r.drawArraysInstancedANGLE(i,s,a,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=t.webGLVersion===2||!!t.extensions.uint32ElementIndex}bind(e,t){t=t||this.renderer.shader.shader;let{gl:r}=this,i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);let a=i[t.program.id]||this.initGeometryVao(e,t,s);this._activeGeometry=e,this._activeVao!==a&&(this._activeVao=a,this.hasVao?r.bindVertexArray(a):this.activateVao(e,t.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){let e=this._activeGeometry,t=this.renderer.buffer;for(let r=0;r<e.buffers.length;r++){let i=e.buffers[r];t.update(i)}}checkCompatibility(e,t){let r=e.attributes,i=t.attributeData;for(let s in i)if(!r[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,t){let r=e.attributes,i=t.attributeData,s=["g",e.id];for(let a in r)i[a]&&s.push(a,i[a].location);return s.join("-")}initGeometryVao(e,t,r=!0){let i=this.gl,s=this.CONTEXT_UID,a=this.renderer.buffer,l=t.program;l.glPrograms[s]||this.renderer.shader.generateProgram(t),this.checkCompatibility(e,l);let o=this.getSignature(e,l),c=e.glVertexArrayObjects[this.CONTEXT_UID],u=c[o];if(u)return c[l.id]=u,u;let h=e.buffers,d=e.attributes,f={},p={};for(let m in h)f[m]=0,p[m]=0;for(let m in d)!d[m].size&&l.attributeData[m]?d[m].size=l.attributeData[m].size:d[m].size||console.warn(`PIXI Geometry attribute '${m}' size cannot be determined (likely the bound shader does not have the attribute)`),f[d[m].buffer]+=d[m].size*JS[d[m].type];for(let m in d){let g=d[m],v=g.size;g.stride===void 0&&(f[g.buffer]===v*JS[g.type]?g.stride=0:g.stride=f[g.buffer]),g.start===void 0&&(g.start=p[g.buffer],p[g.buffer]+=v*JS[g.type])}u=i.createVertexArray(),i.bindVertexArray(u);for(let m=0;m<h.length;m++){let g=h[m];a.bind(g),r&&g._glBuffers[s].refCount++}return this.activateVao(e,l),c[l.id]=u,c[o]=u,i.bindVertexArray(null),a.unbind(Lr.ARRAY_BUFFER),u}disposeGeometry(e,t){if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];let r=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,a=this.renderer?.buffer;if(e.disposeRunner.remove(this),!!r){if(a)for(let l=0;l<s.length;l++){let o=s[l]._glBuffers[this.CONTEXT_UID];o&&(o.refCount--,o.refCount===0&&!t&&a.dispose(s[l],t))}if(!t){for(let l in r)if(l[0]==="g"){let o=r[l];this._activeVao===o&&this.unbind(),i.deleteVertexArray(o)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){let t=Object.keys(this.managedGeometries);for(let r=0;r<t.length;r++)this.disposeGeometry(this.managedGeometries[t[r]],e)}activateVao(e,t){let r=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,a=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let o=null;for(let c in l){let u=l[c],h=a[u.buffer],d=h._glBuffers[i];if(t.attributeData[c]){o!==d&&(s.bind(h),o=d);let f=t.attributeData[c].location;if(r.enableVertexAttribArray(f),r.vertexAttribPointer(f,u.size,u.type||r.FLOAT,u.normalized,u.stride,u.start),u.instance)if(this.hasInstance)r.vertexAttribDivisor(f,u.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,t,r,i){let{gl:s}=this,a=this._activeGeometry;if(a.indexBuffer){let l=a.indexBuffer.data.BYTES_PER_ELEMENT,o=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?a.instanced?s.drawElementsInstanced(e,t||a.indexBuffer.data.length,o,(r||0)*l,i||1):s.drawElements(e,t||a.indexBuffer.data.length,o,(r||0)*l):console.warn("unsupported index buffer type: uint32")}else a.instanced?s.drawArraysInstanced(e,r,t||a.getSize(),i||1):s.drawArrays(e,r,t||a.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}};nd.extension={type:Q.RendererSystem,name:"geometry"};K.add(nd);var gF=new ke,Hc=class{constructor(e,t){this._texture=e,this.mapCoord=new ke,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof t>"u"?.5:t,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,t){t===void 0&&(t=e);let r=this.mapCoord;for(let i=0;i<e.length;i+=2){let s=e[i],a=e[i+1];t[i]=s*r.a+a*r.c+r.tx,t[i+1]=s*r.b+a*r.d+r.ty}return t}update(e){let t=this._texture;if(!t||!t.valid||!e&&this._textureID===t._updateID)return!1;this._textureID=t._updateID,this._updateID++;let r=t._uvs;this.mapCoord.set(r.x1-r.x0,r.y1-r.y0,r.x3-r.x0,r.y3-r.y0,r.x0,r.y0);let i=t.orig,s=t.trim;s&&(gF.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(gF));let a=t.baseTexture,l=this.uClampFrame,o=this.clampMargin/a.resolution,c=this.clampOffset;return l[0]=(t._frame.x+o+c)/a.width,l[1]=(t._frame.y+o+c)/a.height,l[2]=(t._frame.x+t._frame.width-o+c)/a.width,l[3]=(t._frame.y+t._frame.height-o+c)/a.height,this.uClampOffset[0]=c/a.realWidth,this.uClampOffset[1]=c/a.realHeight,this.isSimple=t._frame.width===a.width&&t._frame.height===a.height&&t.rotate===0,!0}};var yF=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`;var xF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;var tm=class extends $s{constructor(e,t,r){let i=null;typeof e!="string"&&t===void 0&&r===void 0&&(i=e,e=void 0,t=void 0,r=void 0),super(e||xF,t||yF,r),this.maskSprite=i,this.maskMatrix=new ke}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,t,r,i){let s=this._maskSprite,a=s._texture;a.valid&&(a.uvMatrix||(a.uvMatrix=new Hc(a,0)),a.uvMatrix.update(),this.uniforms.npmAlpha=a.baseTexture.alphaMode?0:1,this.uniforms.mask=a,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(a.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=a.uvMatrix.uClampFrame,e.applyFilter(this,t,r,i))}};var nm=class{constructor(e=null){this.type=$t.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=$s.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=$t.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}};var rd=class{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,t){let r=t;if(!r.isMaskData){let s=this.maskDataPool.pop()||new nm;s.pooled=!0,s.maskObject=t,r=s}let i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(r.copyCountersOrReset(i),r._colorMask=i?i._colorMask:15,r.autoDetect&&this.detect(r),r._target=e,r.type!==$t.SPRITE&&this.maskStack.push(r),r.enabled)switch(r.type){case $t.SCISSOR:this.renderer.scissor.push(r);break;case $t.STENCIL:this.renderer.stencil.push(r);break;case $t.SPRITE:r.copyCountersOrReset(null),this.pushSpriteMask(r);break;case $t.COLOR:this.pushColorMask(r);break;default:break}r.type===$t.SPRITE&&this.maskStack.push(r)}pop(e){let t=this.maskStack.pop();if(!(!t||t._target!==e)){if(t.enabled)switch(t.type){case $t.SCISSOR:this.renderer.scissor.pop(t);break;case $t.STENCIL:this.renderer.stencil.pop(t.maskObject);break;case $t.SPRITE:this.popSpriteMask(t);break;case $t.COLOR:this.popColorMask(t);break;default:break}if(t.reset(),t.pooled&&this.maskDataPool.push(t),this.maskStack.length!==0){let r=this.maskStack[this.maskStack.length-1];r.type===$t.SPRITE&&r._filters&&(r._filters[0].maskSprite=r.maskObject)}}}detect(e){let t=e.maskObject;t?t.isSprite?e.type=$t.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=$t.SCISSOR:e.type=$t.STENCIL:e.type=$t.COLOR}pushSpriteMask(e){let{maskObject:t}=e,r=e._target,i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new tm])),i[0].resolution=e.resolution,i[0].multisample=e.multisample,i[0].maskSprite=t;let s=r.filterArea;r.filterArea=t.getBounds(!0),this.renderer.filter.push(r,i),r.filterArea=s,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){let t=e._colorMask,r=e._colorMask=t&e.colorMask;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}popColorMask(e){let t=e._colorMask,r=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;r!==t&&this.renderer.gl.colorMask((r&1)!==0,(r&2)!==0,(r&4)!==0,(r&8)!==0)}destroy(){this.renderer=null}};rd.extension={type:Q.RendererSystem,name:"mask"};K.add(rd);var id=class{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){let{gl:t}=this.renderer,r=this.getStackLength();this.maskStack=e;let i=this.getStackLength();i!==r&&(i===0?t.disable(this.glConst):(t.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}};var vF=new ke,_F=[],bF=class xx extends id{constructor(e){super(e),this.glConst=J.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){let e=this.maskStack[this.maskStack.length-1];return e?e._scissorCounter:0}calcScissorRect(e){if(e._scissorRectLocal)return;let t=e._scissorRect,{maskObject:r}=e,{renderer:i}=this,s=i.renderTexture,a=r.getBounds(!0,_F.pop()??new be);this.roundFrameToPixels(a,s.current?s.current.resolution:i.resolution,s.sourceFrame,s.destinationFrame,i.projection.transform),t&&a.fit(t),e._scissorRectLocal=a}static isMatrixRotated(e){if(!e)return!1;let{a:t,b:r,c:i,d:s}=e;return(Math.abs(r)>1e-4||Math.abs(i)>1e-4)&&(Math.abs(t)>1e-4||Math.abs(s)>1e-4)}testScissor(e){let{maskObject:t}=e;if(!t.isFastRect||!t.isFastRect()||xx.isMatrixRotated(t.worldTransform)||xx.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(e);let r=e._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(e,t,r,i,s){xx.isMatrixRotated(s)||(s=s?vF.copyFrom(s):vF.identity(),s.translate(-r.x,-r.y).scale(i.width/r.width,i.height/r.height).translate(i.x,i.y),this.renderer.filter.transformAABB(s,e),e.fit(i),e.x=Math.round(e.x*t),e.y=Math.round(e.y*t),e.width=Math.round(e.width*t),e.height=Math.round(e.height*t))}push(e){e._scissorRectLocal||this.calcScissorRect(e);let{gl:t}=this.renderer;e._scissorRect||t.enable(t.SCISSOR_TEST),e._scissorCounter++,e._scissorRect=e._scissorRectLocal,this._useCurrent()}pop(e){let{gl:t}=this.renderer;e&&_F.push(e._scissorRectLocal),this.getStackLength()>0?this._useCurrent():t.disable(t.SCISSOR_TEST)}_useCurrent(){let e=this.maskStack[this.maskStack.length-1]._scissorRect,t;this.renderer.renderTexture.current?t=e.y:t=this.renderer.height-e.height-e.y,this.renderer.gl.scissor(e.x,t,e.width,e.height)}};bF.extension={type:Q.RendererSystem,name:"scissor"};var eC=bF;K.add(eC);var sd=class extends id{constructor(e){super(e),this.glConst=J.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){let e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){let t=e.maskObject,{gl:r}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),r.clearStencil(0),r.clear(r.STENCIL_BUFFER_BIT),r.enable(r.STENCIL_TEST)),e._stencilCounter++;let s=e._colorMask;s!==0&&(e._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilFunc(r.EQUAL,i,4294967295),r.stencilOp(r.KEEP,r.KEEP,r.INCR),t.renderable=!0,t.render(this.renderer),this.renderer.batch.flush(),t.renderable=!1,s!==0&&(e._colorMask=s,r.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){let t=this.renderer.gl;if(this.getStackLength()===0)t.disable(t.STENCIL_TEST);else{let r=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=r?r._colorMask:15;i!==0&&(r._colorMask=0,t.colorMask(!1,!1,!1,!1)),t.stencilOp(t.KEEP,t.KEEP,t.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(r._colorMask=i,t.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){let e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}};sd.extension={type:Q.RendererSystem,name:"stencil"};K.add(sd);var od=class{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return pe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return pe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return pe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){let e=this.rendererPlugins;for(let t in e)this.plugins[t]=new e[t](this.renderer)}destroy(){for(let e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}};od.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"_plugin"};K.add(od);var ad=class{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ke,this.transform=null}update(e,t,r,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,r,i),this.transform&&this.projectionMatrix.append(this.transform);let s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,t,r,i){let s=this.projectionMatrix,a=i?-1:1;s.identity(),s.a=1/t.width*2,s.d=a*(1/t.height*2),s.tx=-1-t.x*s.a,s.ty=-a-t.y*s.d}setTransform(e){}destroy(){this.renderer=null}};ad.extension={type:Q.RendererSystem,name:"projection"};K.add(ad);var Y8=new Fa,wF=new be,ld=class{constructor(e){this.renderer=e,this._tempMatrix=new ke}generateTexture(e,t){let c=t||{},{region:r}=c,i=Gi(c,["region"]),s=r?.copyTo(wF)||e.getLocalBounds(wF,!0),a=i.resolution||this.renderer.resolution;s.width=Math.max(s.width,1/a),s.height=Math.max(s.height,1/a),i.width=s.width,i.height=s.height,i.resolution=a,i.multisample??(i.multisample=this.renderer.multisample);let l=$c.create(i);this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;let o=e.transform;return e.transform=Y8,this.renderer.render(e,{renderTexture:l,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=o,l}destroy(){}};ld.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"textureGenerator"};K.add(ld);var Wc=new be,rm=new be,cd=class{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new be,this.destinationFrame=new be,this.viewportFrame=new be}contextChange(){let e=this.renderer?.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,t,r){let i=this.renderer;this.current=e;let s,a,l;e?(s=e.baseTexture,l=s.resolution,t||(Wc.width=e.frame.width,Wc.height=e.frame.height,t=Wc),r||(rm.x=e.frame.x,rm.y=e.frame.y,rm.width=t.width,rm.height=t.height,r=rm),a=s.framebuffer):(l=i.resolution,t||(Wc.width=i._view.screen.width,Wc.height=i._view.screen.height,t=Wc),r||(r=Wc,r.width=t.width,r.height=t.height));let o=this.viewportFrame;o.x=r.x*l,o.y=r.y*l,o.width=r.width*l,o.height=r.height*l,e||(o.y=i.view.height-(o.y+o.height)),o.ceil(),this.renderer.framebuffer.bind(a,o),this.renderer.projection.update(r,t,l,!a),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(t),this.destinationFrame.copyFrom(r)}clear(e,t){let r=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=et.shared.setValue(e||r);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);let s=this.destinationFrame,a=this.current?this.current.baseTexture:this.renderer._view.screen,l=s.width!==a.width||s.height!==a.height;if(l){let{x:o,y:c,width:u,height:h}=this.viewportFrame;o=Math.round(o),c=Math.round(c),u=Math.round(u),h=Math.round(h),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(o,c,u,h)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,t),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}};cd.extension={type:Q.RendererSystem,name:"renderTexture"};K.add(cd);var im=class{constructor(e,t){this.program=e,this.uniformData=t,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}};function EF(n,e){let t={},r=e.getProgramParameter(n,e.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){let s=e.getActiveAttrib(n,i);if(s.name.startsWith("gl_"))continue;let a=Yp(e,s.type),l={type:a,name:s.name,size:Wp(a),location:e.getAttribLocation(n,s.name)};t[s.name]=l}return t}function SF(n,e){let t={},r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;i++){let s=e.getActiveUniform(n,i),a=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),o=Yp(e,s.type);t[a]={name:a,index:i,type:o,size:s.size,isArray:l,value:Hp(o,s.size)}}return t}function tC(n,e){let t=lx(n,n.VERTEX_SHADER,e.vertexSrc),r=lx(n,n.FRAGMENT_SHADER,e.fragmentSrc),i=n.createProgram();n.attachShader(i,t),n.attachShader(i,r);let s=e.extra?.transformFeedbackVaryings;if(s&&(typeof n.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):n.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?n.SEPARATE_ATTRIBS:n.INTERLEAVED_ATTRIBS)),n.linkProgram(i),n.getProgramParameter(i,n.LINK_STATUS)||zS(n,i,t,r),e.attributeData=EF(i,n),e.uniformData=SF(i,n),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){let l=Object.keys(e.attributeData);l.sort((o,c)=>o>c?1:-1);for(let o=0;o<l.length;o++)e.attributeData[l[o]].location=o,n.bindAttribLocation(i,o,l[o]);n.linkProgram(i)}n.deleteShader(t),n.deleteShader(r);let a={};for(let l in e.uniformData){let o=e.uniformData[l];a[l]={location:n.getUniformLocation(i,l),value:Hp(o.type,o.size)}}return new im(i,a)}function X8(n,e,t,r,i){t.buffer.update(i)}var z8={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},CF={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function AF(n){let e=n.map(s=>({data:s,offset:0,dataLen:0,dirty:0})),t=0,r=0,i=0;for(let s=0;s<e.length;s++){let a=e[s];if(t=CF[a.data.type],a.data.size>1&&(t=Math.max(t,16)*a.data.size),a.dataLen=t,r%t!==0&&r<16){let l=r%t%16;r+=l,i+=l}r+t>16?(i=Math.ceil(i/16)*16,a.offset=i,i+=t,r=t):(a.offset=i,r+=t,i+=t)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function TF(n,e){let t=[];for(let r in n)e[r]&&t.push(e[r]);return t.sort((r,i)=>r.index-i.index),t}function nC(n,e){if(!n.autoManage)return{size:0,syncFunc:X8};let t=TF(n.uniforms,e),{uboElements:r,size:i}=AF(t),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let a=0;a<r.length;a++){let l=r[a],o=n.uniforms[l.data.name],c=l.data.name,u=!1;for(let h=0;h<Gs.length;h++){let d=Gs[h];if(d.codeUbo&&d.test(l.data,o)){s.push(`offset = ${l.offset/4};`,Gs[h].codeUbo(l.data.name,o)),u=!0;break}}if(!u)if(l.data.size>1){let h=Wp(l.data.type),d=Math.max(CF[l.data.type]/16,1),f=h/d,p=(4-f%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*d}; i++)
                {
                    for(var j = 0; j < ${f}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${p};
                }

                `)}else{let h=z8[l.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${l.offset/4};
                ${h};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}var q8=0,vx={textureCount:0,uboCount:0},ud=class{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=q8++}systemCheck(){if(!px())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,t){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;let r=e.program,i=r.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==r&&(this.program=r,this.gl.useProgram(i.program)),t||(vx.textureCount=0,vx.uboCount=0,this.syncUniformGroup(e.uniformGroup,vx)),i}setUniforms(e){let t=this.shader.program,r=t.glPrograms[this.renderer.CONTEXT_UID];t.syncUniforms(r.uniformData,e,this.renderer)}syncUniformGroup(e,t){let r=this.getGlProgram();(!e.static||e.dirtyId!==r.uniformDirtyGroups[e.id])&&(r.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,r,t))}syncUniforms(e,t,r){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(t.uniformData,e.uniforms,this.renderer,r)}createSyncGroups(e){let t=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[t]||(this.cache[t]=YS(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[t],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,t){let r=this.getGlProgram();if(!e.static||e.dirtyId!==0||!r.uniformGroups[e.id]){e.dirtyId=0;let i=r.uniformGroups[e.id]||this.createSyncBufferGroup(e,r,t);e.buffer.update(),i(r.uniformData,e.uniforms,this.renderer,vx,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,r.uniformBufferBindings[t])}createSyncBufferGroup(e,t,r){let{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);let s=this.gl.getUniformBlockIndex(t.program,r);t.uniformBufferBindings[r]=this.shader.uniformBindCount,i.uniformBlockBinding(t.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;let a=this.getSignature(e,this.shader.program.uniformData,"ubo"),l=this._uboCache[a];if(l||(l=this._uboCache[a]=nC(e,this.shader.program.uniformData)),e.autoManage){let o=new Float32Array(l.size/4);e.buffer.update(o)}return t.uniformGroups[e.id]=l.syncFunc,t.uniformGroups[e.id]}getSignature(e,t,r){let i=e.uniforms,s=[`${r}-`];for(let a in i)s.push(a),t[a]&&s.push(t[a].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){let t=this.gl,r=e.program,i=tC(t,r);return r.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}};ud.extension={type:Q.RendererSystem,name:"shader"};K.add(ud);var So=class{constructor(e){this.renderer=e}run(e){let{renderer:t}=this;t.runners.init.emit(t.options),e.hello&&console.log(`PixiJS 7.4.3 - ${t.rendererLogId} - https://pixijs.com`),t.resize(t.screen.width,t.screen.height)}destroy(){}};So.defaultOptions={hello:!1},So.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"startup"};K.add(So);function MF(n,e=[]){return e[ne.NORMAL]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.ADD]=[n.ONE,n.ONE],e[ne.MULTIPLY]=[n.DST_COLOR,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.SCREEN]=[n.ONE,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.OVERLAY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.DARKEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.LIGHTEN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.COLOR_DODGE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.COLOR_BURN]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.HARD_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.SOFT_LIGHT]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.DIFFERENCE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.EXCLUSION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.HUE]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.SATURATION]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.COLOR]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.LUMINOSITY]=[n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.NONE]=[0,0],e[ne.NORMAL_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.ADD_NPM]=[n.SRC_ALPHA,n.ONE,n.ONE,n.ONE],e[ne.SCREEN_NPM]=[n.SRC_ALPHA,n.ONE_MINUS_SRC_COLOR,n.ONE,n.ONE_MINUS_SRC_ALPHA],e[ne.SRC_IN]=[n.DST_ALPHA,n.ZERO],e[ne.SRC_OUT]=[n.ONE_MINUS_DST_ALPHA,n.ZERO],e[ne.SRC_ATOP]=[n.DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[ne.DST_OVER]=[n.ONE_MINUS_DST_ALPHA,n.ONE],e[ne.DST_IN]=[n.ZERO,n.SRC_ALPHA],e[ne.DST_OUT]=[n.ZERO,n.ONE_MINUS_SRC_ALPHA],e[ne.DST_ATOP]=[n.ONE_MINUS_DST_ALPHA,n.SRC_ALPHA],e[ne.XOR]=[n.ONE_MINUS_DST_ALPHA,n.ONE_MINUS_SRC_ALPHA],e[ne.SUBTRACT]=[n.ONE,n.ONE,n.ONE,n.ONE,n.FUNC_REVERSE_SUBTRACT,n.FUNC_ADD],e}var Z8=0,Q8=1,K8=2,J8=3,e5=4,t5=5,IF=class rC{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=ne.NONE,this._blendEq=!1,this.map=[],this.map[Z8]=this.setBlend,this.map[Q8]=this.setOffset,this.map[K8]=this.setCullFace,this.map[J8]=this.setDepthTest,this.map[e5]=this.setFrontFace,this.map[t5]=this.setDepthMask,this.checks=[],this.defaultState=new Br,this.defaultState.blend=!0}contextChange(e){this.gl=e,this.blendModes=MF(e),this.set(this.defaultState),this.reset()}set(e){if(e=e||this.defaultState,this.stateId!==e.data){let t=this.stateId^e.data,r=0;for(;t;)t&1&&this.map[r].call(this,!!(e.data&1<<r)),t=t>>1,r++;this.stateId=e.data}for(let t=0;t<this.checks.length;t++)this.checks[t](this,e)}forceState(e){e=e||this.defaultState;for(let t=0;t<this.map.length;t++)this.map[t].call(this,!!(e.data&1<<t));for(let t=0;t<this.checks.length;t++)this.checks[t](this,e);this.stateId=e.data}setBlend(e){this.updateCheck(rC.checkBlendMode,e),this.gl[e?"enable":"disable"](this.gl.BLEND)}setOffset(e){this.updateCheck(rC.checkPolygonOffset,e),this.gl[e?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(e){this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(e){this.gl.depthMask(e)}setCullFace(e){this.gl[e?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(e){this.gl.frontFace(this.gl[e?"CW":"CCW"])}setBlendMode(e){if(e===this.blendMode)return;this.blendMode=e;let t=this.blendModes[e],r=this.gl;t.length===2?r.blendFunc(t[0],t[1]):r.blendFuncSeparate(t[0],t[1],t[2],t[3]),t.length===6?(this._blendEq=!0,r.blendEquationSeparate(t[4],t[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(e,t){this.gl.polygonOffset(e,t)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(e,t){let r=this.checks.indexOf(e);t&&r===-1?this.checks.push(e):!t&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(e,t){e.setBlendMode(t.blendMode)}static checkPolygonOffset(e,t){e.setPolygonOffset(1,t.polygonOffset)}destroy(){this.gl=null}};IF.extension={type:Q.RendererSystem,name:"state"};var iC=IF;K.add(iC);var hd=class extends Pa.default{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);let t=(e.priority??[]).filter(i=>e.systems[i]),r=[...t,...Object.keys(e.systems).filter(i=>!t.includes(i))];for(let i of r)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(t=>{this.runners[t]=new Zt(t)})}addSystem(e,t){let r=new e(this);if(this[t])throw new Error(`Whoops! The name "${t}" is already in use`);this[t]=r,this._systemsHash[t]=r;for(let i in this.runners)this.runners[i].add(r);return this}emitWithCustomOptions(e,t){let r=Object.keys(this._systemsHash);e.items.forEach(i=>{let s=r.find(a=>this._systemsHash[a]===i);i[e.name](t[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}};var sm=class _x{constructor(e){this.renderer=e,this.count=0,this.checkCount=0,this.maxIdle=_x.defaultMaxIdle,this.checkCountMax=_x.defaultCheckCountMax,this.mode=_x.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==F0.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){let e=this.renderer.texture,t=e.managedTextures,r=!1;for(let i=0;i<t.length;i++){let s=t[i];s.resource&&this.count-s.touched>this.maxIdle&&(e.destroyTexture(s,!0),t[i]=null,r=!0)}if(r){let i=0;for(let s=0;s<t.length;s++)t[s]!==null&&(t[i++]=t[s]);t.length=i}}unload(e){let t=this.renderer.texture,r=e._texture;r&&!r.framebuffer&&t.destroyTexture(r);for(let i=e.children.length-1;i>=0;i--)this.unload(e.children[i])}destroy(){this.renderer=null}};sm.defaultMode=F0.AUTO,sm.defaultMaxIdle=60*60,sm.defaultCheckCountMax=60*10,sm.extension={type:Q.RendererSystem,name:"textureGC"};var Hs=sm;K.add(Hs);var Yc=class{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=we.UNSIGNED_BYTE,this.internalFormat=ie.RGBA,this.samplerType=0}};function DF(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[n.RGB]:se.FLOAT,[n.RGBA]:se.FLOAT,[n.ALPHA]:se.FLOAT,[n.LUMINANCE]:se.FLOAT,[n.LUMINANCE_ALPHA]:se.FLOAT,[n.R8]:se.FLOAT,[n.R8_SNORM]:se.FLOAT,[n.RG8]:se.FLOAT,[n.RG8_SNORM]:se.FLOAT,[n.RGB8]:se.FLOAT,[n.RGB8_SNORM]:se.FLOAT,[n.RGB565]:se.FLOAT,[n.RGBA4]:se.FLOAT,[n.RGB5_A1]:se.FLOAT,[n.RGBA8]:se.FLOAT,[n.RGBA8_SNORM]:se.FLOAT,[n.RGB10_A2]:se.FLOAT,[n.RGB10_A2UI]:se.FLOAT,[n.SRGB8]:se.FLOAT,[n.SRGB8_ALPHA8]:se.FLOAT,[n.R16F]:se.FLOAT,[n.RG16F]:se.FLOAT,[n.RGB16F]:se.FLOAT,[n.RGBA16F]:se.FLOAT,[n.R32F]:se.FLOAT,[n.RG32F]:se.FLOAT,[n.RGB32F]:se.FLOAT,[n.RGBA32F]:se.FLOAT,[n.R11F_G11F_B10F]:se.FLOAT,[n.RGB9_E5]:se.FLOAT,[n.R8I]:se.INT,[n.R8UI]:se.UINT,[n.R16I]:se.INT,[n.R16UI]:se.UINT,[n.R32I]:se.INT,[n.R32UI]:se.UINT,[n.RG8I]:se.INT,[n.RG8UI]:se.UINT,[n.RG16I]:se.INT,[n.RG16UI]:se.UINT,[n.RG32I]:se.INT,[n.RG32UI]:se.UINT,[n.RGB8I]:se.INT,[n.RGB8UI]:se.UINT,[n.RGB16I]:se.INT,[n.RGB16UI]:se.UINT,[n.RGB32I]:se.INT,[n.RGB32UI]:se.UINT,[n.RGBA8I]:se.INT,[n.RGBA8UI]:se.UINT,[n.RGBA16I]:se.INT,[n.RGBA16UI]:se.UINT,[n.RGBA32I]:se.INT,[n.RGBA32UI]:se.UINT,[n.DEPTH_COMPONENT16]:se.FLOAT,[n.DEPTH_COMPONENT24]:se.FLOAT,[n.DEPTH_COMPONENT32F]:se.FLOAT,[n.DEPTH_STENCIL]:se.FLOAT,[n.DEPTH24_STENCIL8]:se.FLOAT,[n.DEPTH32F_STENCIL8]:se.FLOAT}:e={[n.RGB]:se.FLOAT,[n.RGBA]:se.FLOAT,[n.ALPHA]:se.FLOAT,[n.LUMINANCE]:se.FLOAT,[n.LUMINANCE_ALPHA]:se.FLOAT,[n.DEPTH_STENCIL]:se.FLOAT},e}function RF(n){let e;return"WebGL2RenderingContext"in globalThis&&n instanceof globalThis.WebGL2RenderingContext?e={[we.UNSIGNED_BYTE]:{[ie.RGBA]:n.RGBA8,[ie.RGB]:n.RGB8,[ie.RG]:n.RG8,[ie.RED]:n.R8,[ie.RGBA_INTEGER]:n.RGBA8UI,[ie.RGB_INTEGER]:n.RGB8UI,[ie.RG_INTEGER]:n.RG8UI,[ie.RED_INTEGER]:n.R8UI,[ie.ALPHA]:n.ALPHA,[ie.LUMINANCE]:n.LUMINANCE,[ie.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[we.BYTE]:{[ie.RGBA]:n.RGBA8_SNORM,[ie.RGB]:n.RGB8_SNORM,[ie.RG]:n.RG8_SNORM,[ie.RED]:n.R8_SNORM,[ie.RGBA_INTEGER]:n.RGBA8I,[ie.RGB_INTEGER]:n.RGB8I,[ie.RG_INTEGER]:n.RG8I,[ie.RED_INTEGER]:n.R8I},[we.UNSIGNED_SHORT]:{[ie.RGBA_INTEGER]:n.RGBA16UI,[ie.RGB_INTEGER]:n.RGB16UI,[ie.RG_INTEGER]:n.RG16UI,[ie.RED_INTEGER]:n.R16UI,[ie.DEPTH_COMPONENT]:n.DEPTH_COMPONENT16},[we.SHORT]:{[ie.RGBA_INTEGER]:n.RGBA16I,[ie.RGB_INTEGER]:n.RGB16I,[ie.RG_INTEGER]:n.RG16I,[ie.RED_INTEGER]:n.R16I},[we.UNSIGNED_INT]:{[ie.RGBA_INTEGER]:n.RGBA32UI,[ie.RGB_INTEGER]:n.RGB32UI,[ie.RG_INTEGER]:n.RG32UI,[ie.RED_INTEGER]:n.R32UI,[ie.DEPTH_COMPONENT]:n.DEPTH_COMPONENT24},[we.INT]:{[ie.RGBA_INTEGER]:n.RGBA32I,[ie.RGB_INTEGER]:n.RGB32I,[ie.RG_INTEGER]:n.RG32I,[ie.RED_INTEGER]:n.R32I},[we.FLOAT]:{[ie.RGBA]:n.RGBA32F,[ie.RGB]:n.RGB32F,[ie.RG]:n.RG32F,[ie.RED]:n.R32F,[ie.DEPTH_COMPONENT]:n.DEPTH_COMPONENT32F},[we.HALF_FLOAT]:{[ie.RGBA]:n.RGBA16F,[ie.RGB]:n.RGB16F,[ie.RG]:n.RG16F,[ie.RED]:n.R16F},[we.UNSIGNED_SHORT_5_6_5]:{[ie.RGB]:n.RGB565},[we.UNSIGNED_SHORT_4_4_4_4]:{[ie.RGBA]:n.RGBA4},[we.UNSIGNED_SHORT_5_5_5_1]:{[ie.RGBA]:n.RGB5_A1},[we.UNSIGNED_INT_2_10_10_10_REV]:{[ie.RGBA]:n.RGB10_A2,[ie.RGBA_INTEGER]:n.RGB10_A2UI},[we.UNSIGNED_INT_10F_11F_11F_REV]:{[ie.RGB]:n.R11F_G11F_B10F},[we.UNSIGNED_INT_5_9_9_9_REV]:{[ie.RGB]:n.RGB9_E5},[we.UNSIGNED_INT_24_8]:{[ie.DEPTH_STENCIL]:n.DEPTH24_STENCIL8},[we.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ie.DEPTH_STENCIL]:n.DEPTH32F_STENCIL8}}:e={[we.UNSIGNED_BYTE]:{[ie.RGBA]:n.RGBA,[ie.RGB]:n.RGB,[ie.ALPHA]:n.ALPHA,[ie.LUMINANCE]:n.LUMINANCE,[ie.LUMINANCE_ALPHA]:n.LUMINANCE_ALPHA},[we.UNSIGNED_SHORT_5_6_5]:{[ie.RGB]:n.RGB},[we.UNSIGNED_SHORT_4_4_4_4]:{[ie.RGBA]:n.RGBA},[we.UNSIGNED_SHORT_5_5_5_1]:{[ie.RGBA]:n.RGBA}},e}var dd=class{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ee,this.hasIntegerTextures=!1}contextChange(){let e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=RF(e),this.samplerTypes=DF(e);let t=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=t;for(let i=0;i<t;i++)this.boundTextures[i]=null;this.emptyTextures={};let r=new Yc(e.createTexture());e.bindTexture(e.TEXTURE_2D,r.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=r,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new Yc(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,t=0){let{gl:r}=this;if(e=e?.castToBaseTexture(),e?.valid&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;let i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[t]!==e&&(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[t]=e}else this.currentLocation!==t&&(this.currentLocation=t,r.activeTexture(r.TEXTURE0+t)),r.bindTexture(r.TEXTURE_2D,this.emptyTextures[r.TEXTURE_2D].texture),this.boundTextures[t]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){let{gl:t,boundTextures:r}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<r.length;i++)r[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<r.length;i++)r[i]===e&&(this.currentLocation!==i&&(t.activeTexture(t.TEXTURE0+i),this.currentLocation=i),t.bindTexture(e.target,this.emptyTextures[e.target].texture),r[i]=null)}ensureSamplerType(e){let{boundTextures:t,hasIntegerTextures:r,CONTEXT_UID:i}=this;if(r)for(let s=e-1;s>=0;--s){let a=t[s];a&&a._glTextures[i].samplerType!==se.FLOAT&&this.renderer.texture.unbind(a)}}initTexture(e){let t=new Yc(this.gl.createTexture());return t.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=t,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),t}initTextureType(e,t){t.internalFormat=this.internalFormats[e.type]?.[e.format]??e.format,t.samplerType=this.samplerTypes[t.internalFormat]??se.FLOAT,this.webGLVersion===2&&e.type===we.HALF_FLOAT?t.type=this.gl.HALF_FLOAT:t.type=e.type}updateTexture(e){let t=e._glTextures[this.CONTEXT_UID];if(!t)return;let r=this.renderer;if(this.initTextureType(e,t),e.resource?.upload(r,e,t))t.samplerType!==se.FLOAT&&(this.hasIntegerTextures=!0);else{let i=e.realWidth,s=e.realHeight,a=r.gl;(t.width!==i||t.height!==s||t.dirtyId<0)&&(t.width=i,t.height=s,a.texImage2D(e.target,0,t.internalFormat,i,s,0,e.format,t.type,null))}e.dirtyStyleId!==t.dirtyStyleId&&this.updateTextureStyle(e),t.dirtyId=e.dirtyId}destroyTexture(e,t){let{gl:r}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),r.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!t)){let i=this.managedTextures.indexOf(e);i!==-1&&tx(this.managedTextures,i,1)}}updateTextureStyle(e){let t=e._glTextures[this.CONTEXT_UID];t&&((e.mipmap===li.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?t.mipmap=!1:t.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?t.wrapMode=_o.CLAMP:t.wrapMode=e.wrapMode,e.resource?.style(this.renderer,e,t)||this.setStyle(e,t),t.dirtyStyleId=e.dirtyStyleId)}setStyle(e,t){let r=this.gl;if(t.mipmap&&e.mipmap!==li.ON_MANUAL&&r.generateMipmap(e.target),r.texParameteri(e.target,r.TEXTURE_WRAP_S,t.wrapMode),r.texParameteri(e.target,r.TEXTURE_WRAP_T,t.wrapMode),t.mipmap){r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Nn.LINEAR?r.LINEAR_MIPMAP_LINEAR:r.NEAREST_MIPMAP_NEAREST);let i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Nn.LINEAR){let s=Math.min(e.anisotropicLevel,r.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));r.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else r.texParameteri(e.target,r.TEXTURE_MIN_FILTER,e.scaleMode===Nn.LINEAR?r.LINEAR:r.NEAREST);r.texParameteri(e.target,r.TEXTURE_MAG_FILTER,e.scaleMode===Nn.LINEAR?r.LINEAR:r.NEAREST)}destroy(){this.renderer=null}};dd.extension={type:Q.RendererSystem,name:"texture"};K.add(dd);var fd=class{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){let{gl:t,CONTEXT_UID:r}=this,i=e._glTransformFeedbacks[r]||this.createGLTransformFeedback(e);t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,i)}unbind(){let{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,t){let{gl:r,renderer:i}=this;t&&i.shader.bind(t),r.beginTransformFeedback(e)}endTransformFeedback(){let{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){let{gl:t,renderer:r,CONTEXT_UID:i}=this,s=t.createTransformFeedback();e._glTransformFeedbacks[i]=s,t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,s);for(let a=0;a<e.buffers.length;a++){let l=e.buffers[a];l&&(r.buffer.update(l),l._glBuffers[i].refCount++,t.bindBufferBase(t.TRANSFORM_FEEDBACK_BUFFER,a,l._glBuffers[i].buffer||null))}return t.bindTransformFeedback(t.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,t){let r=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);let s=this.renderer.buffer;if(s)for(let a=0;a<e.buffers.length;a++){let l=e.buffers[a];if(!l)continue;let o=l._glBuffers[this.CONTEXT_UID];o&&(o.refCount--,o.refCount===0&&!t&&s.dispose(l,t))}r&&(t||i.deleteTransformFeedback(r),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}};fd.extension={type:Q.RendererSystem,name:"transformFeedback"};K.add(fd);var Co=class{constructor(e){this.renderer=e}init(e){this.screen=new be(0,0,e.width,e.height),this.element=e.view||J.ADAPTER.createCanvas(),this.resolution=e.resolution||J.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,t){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(t*this.resolution);let r=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=r,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${r}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",r,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){e&&this.element.parentNode?.removeChild(this.element),this.renderer=null,this.element=null,this.screen=null}};Co.defaultOptions={width:800,height:600,resolution:void 0,autoDensity:!1},Co.extension={type:[Q.RendererSystem,Q.CanvasRendererSystem],name:"_view"};K.add(Co);J.PREFER_ENV=ai.WEBGL2;J.STRICT_TEXTURE_CACHE=!1;J.RENDER_OPTIONS=W(W(W(W({},Eo.defaultOptions),wo.defaultOptions),Co.defaultOptions),So.defaultOptions);Object.defineProperties(J,{WRAP_MODE:{get(){return Ee.defaultOptions.wrapMode},set(n){pe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ee.defaultOptions.wrapMode=n}},SCALE_MODE:{get(){return Ee.defaultOptions.scaleMode},set(n){pe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ee.defaultOptions.scaleMode=n}},MIPMAP_TEXTURES:{get(){return Ee.defaultOptions.mipmap},set(n){pe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ee.defaultOptions.mipmap=n}},ANISOTROPIC_LEVEL:{get(){return Ee.defaultOptions.anisotropicLevel},set(n){pe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ee.defaultOptions.anisotropicLevel=n}},FILTER_RESOLUTION:{get(){return pe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),$s.defaultResolution},set(n){$s.defaultResolution=n}},FILTER_MULTISAMPLE:{get(){return pe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),$s.defaultMultisample},set(n){$s.defaultMultisample=n}},SPRITE_MAX_TEXTURES:{get(){return bo.defaultMaxTextures},set(n){pe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),bo.defaultMaxTextures=n}},SPRITE_BATCH_SIZE:{get(){return bo.defaultBatchSize},set(n){pe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),bo.defaultBatchSize=n}},CAN_UPLOAD_SAME_BUFFER:{get(){return bo.canUploadSameBuffer},set(n){pe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),bo.canUploadSameBuffer=n}},GC_MODE:{get(){return Hs.defaultMode},set(n){pe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Hs.defaultMode=n}},GC_MAX_IDLE:{get(){return Hs.defaultMaxIdle},set(n){pe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Hs.defaultMaxIdle=n}},GC_MAX_CHECK_COUNT:{get(){return Hs.defaultCheckCountMax},set(n){pe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Hs.defaultCheckCountMax=n}},PRECISION_VERTEX:{get(){return Vr.defaultVertexPrecision},set(n){pe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Vr.defaultVertexPrecision=n}},PRECISION_FRAGMENT:{get(){return Vr.defaultFragmentPrecision},set(n){pe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Vr.defaultFragmentPrecision=n}}});var Xc=(n=>(n[n.INTERACTION=50]="INTERACTION",n[n.HIGH=25]="HIGH",n[n.NORMAL=0]="NORMAL",n[n.LOW=-25]="LOW",n[n.UTILITY=-50]="UTILITY",n))(Xc||{});var pd=class{constructor(e,t=null,r=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=t,this.priority=r,this.once=i}match(e,t=null){return this.fn===e&&this.context===t}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));let t=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),t}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);let t=this.next;return this.next=e?null:t,this.previous=null,t}};var n5=(()=>{let n=class ui{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new pd(null,null,1/0),this.deltaMS=1/ui.targetFPMS,this.elapsedMS=1/ui.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,r,i=Xc.NORMAL){return this._addListener(new pd(t,r,i))}addOnce(t,r,i=Xc.NORMAL){return this._addListener(new pd(t,r,i,!0))}_addListener(t){let r=this._head.next,i=this._head;if(!r)t.connect(i);else{for(;r;){if(t.priority>r.priority){t.connect(i);break}i=r,r=r.next}t.previous||t.connect(i)}return this._startIfPossible(),this}remove(t,r){let i=this._head.next;for(;i;)i.match(t,r)?i=i.destroy():i=i.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,r=this._head;for(;r=r.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let r;if(t>this.lastTime){if(r=this.elapsedMS=t-this.lastTime,r>this._maxElapsedMS&&(r=this._maxElapsedMS),r*=this.speed,this._minElapsedMS){let a=t-this._lastFrame|0;if(a<this._minElapsedMS)return;this._lastFrame=t-a%this._minElapsedMS}this.deltaMS=r,this.deltaTime=this.deltaMS*ui.targetFPMS;let i=this._head,s=i.next;for(;s;)s=s.emit(this.deltaTime);i.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){let r=Math.min(this.maxFPS,t),i=Math.min(Math.max(0,r)/1e3,ui.targetFPMS);this._maxElapsedMS=1/i}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{let r=Math.max(this.minFPS,t);this._minElapsedMS=1/(r/1e3)}}static get shared(){if(!ui._shared){let t=ui._shared=new ui;t.autoStart=!0,t._protected=!0}return ui._shared}static get system(){if(!ui._system){let t=ui._system=new ui;t.autoStart=!0,t._protected=!0}return ui._system}};return n.targetFPMS=.06,n})(),ki=n5;Object.defineProperties(J,{TARGET_FPMS:{get(){return ki.targetFPMS},set(n){pe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),ki.targetFPMS=n}}});var om=class{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(t){this._ticker&&this._ticker.remove(this.render,this),this._ticker=t,t&&t.add(this.render,this,Xc.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?ki.shared:new ki,e.autoStart&&this.start()}static destroy(){if(this._ticker){let e=this._ticker;this.ticker=null,e.destroy()}}};om.extension=Q.Application;K.add(om);var r5=[];K.handleByList(Q.Renderer,r5);var am=class{constructor(e){this.renderer=e}contextChange(e){let t;if(this.renderer.context.webGLVersion===1){let r=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,r)}else{let r=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),t=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,r)}t>=lt.HIGH?this.multisample=lt.HIGH:t>=lt.MEDIUM?this.multisample=lt.MEDIUM:t>=lt.LOW?this.multisample=lt.LOW:this.multisample=lt.NONE}destroy(){}};am.extension={type:Q.RendererSystem,name:"_multisample"};K.add(am);var bx=class{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}};var lm=class{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){let{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);t.bindBuffer(e.type,i.buffer)}unbind(e){let{gl:t}=this;t.bindBuffer(e,null)}bindBufferBase(e,t){let{gl:r,CONTEXT_UID:i}=this;if(this.boundBufferBases[t]!==e){let s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[t]=e,r.bindBufferBase(r.UNIFORM_BUFFER,t,s.buffer)}}bindBufferRange(e,t,r){let{gl:i,CONTEXT_UID:s}=this;r=r||0;let a=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,t||0,a.buffer,r*256,256)}update(e){let{gl:t,CONTEXT_UID:r}=this,i=e._glBuffers[r]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,t.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)t.bufferSubData(e.type,0,e.data);else{let s=e.static?t.STATIC_DRAW:t.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,t.bufferData(e.type,e.data,s)}}dispose(e,t){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];let r=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),r&&(t||i.deleteBuffer(r.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){let t=Object.keys(this.managedBuffers);for(let r=0;r<t.length;r++)this.dispose(this.managedBuffers[t[r]],e)}createGLBuffer(e){let{CONTEXT_UID:t,gl:r}=this;return e._glBuffers[t]=new bx(r.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[t]}};lm.extension={type:Q.RendererSystem,name:"buffer"};K.add(lm);var cm=class{constructor(e){this.renderer=e}render(e,t){let r=this.renderer,i,s,a,l;if(t&&(i=t.renderTexture,s=t.clear,a=t.transform,l=t.skipUpdateTransform),this.renderingToScreen=!i,r.runners.prerender.emit(),r.emit("prerender"),r.projection.transform=a,!r.context.isLost){if(i||(this.lastObjectRendered=e),!l){let o=e.enableTempParent();e.updateTransform(),e.disableTempParent(o)}r.renderTexture.bind(i),r.batch.currentRenderer.start(),(s??r.background.clearBeforeRender)&&r.renderTexture.clear(),e.render(r),r.batch.currentRenderer.flush(),i&&(t.blit&&r.framebuffer.blit(),i.baseTexture.update()),r.runners.postrender.emit(),r.projection.transform=null,r.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}};cm.extension={type:Q.RendererSystem,name:"objectRenderer"};K.add(cm);var wx=class sC extends hd{constructor(e){super(),this.type=QE.WEBGL,e=Object.assign({},J.RENDER_OPTIONS,e),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new ar({projectionMatrix:new ke},!0);let t={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:sC.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(t),"useContextAlpha"in e&&(pe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),e.premultipliedAlpha=e.useContextAlpha&&e.useContextAlpha!=="notMultiplied",e.backgroundAlpha=e.useContextAlpha===!1?1:e.backgroundAlpha),this._plugin.rendererPlugins=sC.__plugins,this.options=e,this.startup.run(this.options)}static test(e){return e?.forceCanvas?!1:K0()}render(e,t){this.objectRenderer.render(e,t)}resize(e,t){this._view.resizeView(e,t)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(e=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:e}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(e){this._view.resolution=e,this.runners.resolutionChange.emit(e)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return pe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return pe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return pe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(e){pe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=e}get backgroundAlpha(){return pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(e){pe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=e}get powerPreference(){return pe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(e,t){return this.textureGenerator.generateTexture(e,t)}};wx.extension={type:Q.Renderer,priority:1},wx.__plugins={},wx.__systems={};var Ex=wx;K.handleByMap(Q.RendererPlugin,Ex.__plugins);K.handleByMap(Q.RendererSystem,Ex.__systems);K.add(Ex);var Ba=class extends ci{constructor(e,t){let{width:r,height:i}=t||{};super(r,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){let a=new Ee;this.items.push(a),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,t){for(let r=0;r<this.length;r++)e[r]&&(e[r].castToBaseTexture?this.addBaseTextureAt(e[r].castToBaseTexture(),r):e[r]instanceof ci?this.addResourceAt(e[r],r):this.addResourceAt(Yh(e[r],t),r))}dispose(){for(let e=0,t=this.length;e<t;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,t){if(!this.items[t])throw new Error(`Index ${t} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[t].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=e,this.items[t].on("update",e.update,e)}unbind(e){super.unbind(e);for(let t=0;t<this.length;t++)this.items[t].parentTextureArray=null,this.items[t].off("update",e.update,e)}load(){if(this._load)return this._load;let e=this.items.map(t=>t.resource).filter(t=>t).map(t=>t.load());return this._load=Promise.all(e).then(()=>{let{realWidth:t,realHeight:r}=this.items[0];return this.resize(t,r),this.update(),Promise.resolve(this)}),this._load}};var um=class extends Ba{constructor(e,t){let{width:r,height:i}=t||{},s,a;Array.isArray(e)?(s=e,a=e.length):a=e,super(a,{width:r,height:i}),s&&this.initFromArray(s,t)}addBaseTextureAt(e,t){if(e.resource)this.addResourceAt(e.resource,t);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=vo.TEXTURE_2D_ARRAY}upload(e,t,r){let{length:i,itemDirtyIds:s,items:a}=this,{gl:l}=e;r.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,r.internalFormat,this._width,this._height,i,0,t.format,r.type,null);for(let o=0;o<i;o++){let c=a[o];s[o]<c.dirtyId&&(s[o]=c.dirtyId,c.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,o,c.resource.width,c.resource.height,1,t.format,r.type,c.resource.source))}return!0}};var hm=class extends hn{constructor(e){super(e)}static test(e){let{OffscreenCanvas:t}=globalThis;return t&&e instanceof t?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}};var i5=(()=>{let n=class dm extends Ba{constructor(t,r){let{width:i,height:s,autoLoad:a,linkBaseTexture:l}=r||{};if(t&&t.length!==dm.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:i,height:s});for(let o=0;o<dm.SIDES;o++)this.items[o].target=vo.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=l!==!1,t&&this.initFromArray(t,r),a!==!1&&this.load()}bind(t){super.bind(t),t.target=vo.TEXTURE_CUBE_MAP}addBaseTextureAt(t,r,i){if(i===void 0&&(i=this.linkBaseTexture),!this.items[r])throw new Error(`Index ${r} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,r);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=vo.TEXTURE_CUBE_MAP_POSITIVE_X+r,t.parentTextureArray=this.baseTexture,this.items[r]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[r]=t,this}upload(t,r,i){let s=this.itemDirtyIds;for(let a=0;a<dm.SIDES;a++){let l=this.items[a];(s[a]<l.dirtyId||i.dirtyId<r.dirtyId)&&(l.valid&&l.resource?(l.resource.upload(t,l,i),s[a]=l.dirtyId):s[a]<-1&&(t.gl.texImage2D(l.target,0,i.internalFormat,r.realWidth,r.realHeight,0,r.format,i.type,null),s[a]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===dm.SIDES}};return n.SIDES=6,n})(),oC=i5;var fm=class n extends hn{constructor(e,t){t=t||{};let r,i,s;typeof e=="string"?(r=n.EMPTY,i=e,s=!0):(r=e,i=null,s=!1),super(r),this.url=i,this.crossOrigin=t.crossOrigin??!0,this.alphaMode=typeof t.alphaMode=="number"?t.alphaMode:null,this.ownsImageBitmap=t.ownsImageBitmap??s,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise((e,t)=>B(this,null,function*(){if(this.url===null){e(this);return}try{let r=yield J.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;let i=yield r.blob();if(this.destroyed)return;let s=yield createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===cn.UNPACK?"premultiply":"none"});if(this.destroyed){s.close();return}this.source=s,this.update(),e(this)}catch(r){if(this.destroyed)return;t(r),this.onError.emit(r)}})),this._load)}upload(e,t,r){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(t.alphaMode=this.alphaMode),super.upload(e,t,r)):(this.load(),!1)}dispose(){this.ownsImageBitmap&&this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return n._EMPTY=n._EMPTY??J.ADAPTER.createCanvas(0,0),n._EMPTY}};var aC=class Sx extends hn{constructor(e,t){t=t||{},super(J.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=e,this.scale=t.scale||1,this._overrideWidth=t.width,this._overrideHeight=t.height,this._resolve=null,this._crossorigin=t.crossorigin,this._load=null,t.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(e=>{if(this._resolve=()=>{this.update(),e(this)},Sx.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){let e=new Image;hn.crossOrigin(e,this.svg,this._crossorigin),e.src=this.svg,e.onerror=t=>{this._resolve&&(e.onerror=null,this.onError.emit(t))},e.onload=()=>{if(!this._resolve)return;let t=e.width,r=e.height;if(!t||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let i=t*this.scale,s=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(i=this._overrideWidth||this._overrideHeight/r*t,s=this._overrideHeight||this._overrideWidth/t*r),i=Math.round(i),s=Math.round(s);let a=this.source;a.width=i,a.height=s,a._pixiId=`canvas_${js()}`,a.getContext("2d").drawImage(e,0,0,t,r,0,0,i,s),this._resolve(),this._resolve=null}}static getSize(e){let t=Sx.SVG_SIZE.exec(e),r={};return t&&(r[t[1]]=Math.round(parseFloat(t[3])),r[t[5]]=Math.round(parseFloat(t[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(e,t){return t==="svg"||typeof e=="string"&&e.startsWith("data:image/svg+xml")||typeof e=="string"&&Sx.SVG_XML.test(e)}};aC.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,aC.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;var md=aC;var Cx=class extends hn{constructor(e){super(e)}static test(e){return!!globalThis.VideoFrame&&e instanceof globalThis.VideoFrame}};var lC=class cC extends hn{constructor(e,t){if(t=t||{},!(e instanceof HTMLVideoElement)){let r=document.createElement("video");t.autoLoad!==!1&&r.setAttribute("preload","auto"),t.playsinline!==!1&&(r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline","")),t.muted===!0&&(r.setAttribute("muted",""),r.muted=!0),t.loop===!0&&r.setAttribute("loop",""),t.autoPlay!==!1&&r.setAttribute("autoplay",""),typeof e=="string"&&(e=[e]);let i=e[0].src||e[0];hn.crossOrigin(r,i,t.crossorigin);for(let s=0;s<e.length;++s){let a=document.createElement("source"),{src:l,mime:o}=e[s];if(l=l||e[s],l.startsWith("data:"))o=l.slice(5,l.indexOf(";"));else if(!l.startsWith("blob:")){let c=l.split("?").shift().toLowerCase(),u=c.slice(c.lastIndexOf(".")+1);o=o||cC.MIME_TYPES[u]||`video/${u}`}a.src=l,o&&(a.type=o),r.appendChild(a)}e=r}super(e),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=t.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=t.autoPlay!==!1,this._videoFrameRequestCallback=this._videoFrameRequestCallback.bind(this),this._videoFrameRequestCallbackHandle=null,this._load=null,this._resolve=null,this._reject=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),this._onPlayStart=this._onPlayStart.bind(this),this._onPlayStop=this._onPlayStop.bind(this),this._onSeeked=this._onSeeked.bind(this),t.autoLoad!==!1&&this.load()}update(e=0){if(!this.destroyed){if(this._updateFPS){let t=ki.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-t)}(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}_videoFrameRequestCallback(){this.update(),this.destroyed?this._videoFrameRequestCallbackHandle=null:this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback)}load(){if(this._load)return this._load;let e=this.source;return(e.readyState===e.HAVE_ENOUGH_DATA||e.readyState===e.HAVE_FUTURE_DATA)&&e.width&&e.height&&(e.complete=!0),e.addEventListener("play",this._onPlayStart),e.addEventListener("pause",this._onPlayStop),e.addEventListener("seeked",this._onSeeked),this._isSourceReady()?this._onCanPlay():(e.addEventListener("canplay",this._onCanPlay),e.addEventListener("canplaythrough",this._onCanPlay),e.addEventListener("error",this._onError,!0)),this._load=new Promise((t,r)=>{this.valid?t(this):(this._resolve=t,this._reject=r,e.load())}),this._load}_onError(e){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(e),this._reject&&(this._reject(e),this._reject=null,this._resolve=null)}_isSourcePlaying(){let e=this.source;return!e.paused&&!e.ended}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this._configureAutoUpdate()}_onPlayStop(){this._configureAutoUpdate()}_onSeeked(){this._autoUpdate&&!this._isSourcePlaying()&&(this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0)}_onCanPlay(){let e=this.source;e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay);let t=this.valid;this._msToNextUpdate=0,this.update(),this._msToNextUpdate=0,!t&&this._resolve&&(this._resolve(this),this._resolve=null,this._reject=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&e.play()}dispose(){this._configureAutoUpdate();let e=this.source;e&&(e.removeEventListener("play",this._onPlayStart),e.removeEventListener("pause",this._onPlayStop),e.removeEventListener("seeked",this._onSeeked),e.removeEventListener("canplay",this._onCanPlay),e.removeEventListener("canplaythrough",this._onCanPlay),e.removeEventListener("error",this._onError,!0),e.pause(),e.src="",e.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,this._configureAutoUpdate())}get updateFPS(){return this._updateFPS}set updateFPS(e){e!==this._updateFPS&&(this._updateFPS=e,this._configureAutoUpdate())}_configureAutoUpdate(){this._autoUpdate&&this._isSourcePlaying()?!this._updateFPS&&this.source.requestVideoFrameCallback?(this._isConnectedToTicker&&(ki.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0),this._videoFrameRequestCallbackHandle===null&&(this._videoFrameRequestCallbackHandle=this.source.requestVideoFrameCallback(this._videoFrameRequestCallback))):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker||(ki.shared.add(this.update,this),this._isConnectedToTicker=!0,this._msToNextUpdate=0)):(this._videoFrameRequestCallbackHandle!==null&&(this.source.cancelVideoFrameCallback(this._videoFrameRequestCallbackHandle),this._videoFrameRequestCallbackHandle=null),this._isConnectedToTicker&&(ki.shared.remove(this.update,this),this._isConnectedToTicker=!1,this._msToNextUpdate=0))}static test(e,t){return globalThis.HTMLVideoElement&&e instanceof HTMLVideoElement||cC.TYPES.includes(t)}};lC.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],lC.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"};var pm=lC;$p.push(fm,jc,hm,pm,Cx,md,Oc,oC,um);function Ax(n){switch(n.toLowerCase()){case"nearest":return qn.Nearest;case"linear":return qn.Linear;case"mipmap":return qn.MipMap;case"mipmapnearestnearest":return qn.MipMapNearestNearest;case"mipmaplinearnearest":return qn.MipMapLinearNearest;case"mipmapnearestlinear":return qn.MipMapNearestLinear;case"mipmaplinearlinear":return qn.MipMapLinearLinear;default:throw new Error(`Unknown texture filter ${n}`)}}var qn=(n=>(n[n.Nearest=9728]="Nearest",n[n.Linear=9729]="Linear",n[n.MipMap=9987]="MipMap",n[n.MipMapNearestNearest=9984]="MipMapNearestNearest",n[n.MipMapLinearNearest=9985]="MipMapLinearNearest",n[n.MipMapNearestLinear=9986]="MipMapNearestLinear",n[n.MipMapLinearLinear=9987]="MipMapLinearLinear",n))(qn||{}),Ao=(n=>(n[n.MirroredRepeat=33648]="MirroredRepeat",n[n.ClampToEdge=33071]="ClampToEdge",n[n.Repeat=10497]="Repeat",n))(Ao||{}),Va=class{constructor(){this.size=null,this.names=null,this.values=null,this.renderObject=null}get width(){let e=this.texture;return e.trim?e.trim.width:e.orig.width}get height(){let e=this.texture;return e.trim?e.trim.height:e.orig.height}get u(){return this.texture._uvs.x0}get v(){return this.texture._uvs.y0}get u2(){return this.texture._uvs.x2}get v2(){return this.texture._uvs.y2}get offsetX(){let e=this.texture;return e.trim?e.trim.x:0}get offsetY(){return this.spineOffsetY}get pixiOffsetY(){let e=this.texture;return e.trim?e.trim.y:0}get spineOffsetY(){let e=this.texture;return this.originalHeight-this.height-(e.trim?e.trim.y:0)}get originalWidth(){return this.texture.orig.width}get originalHeight(){return this.texture.orig.height}get x(){return this.texture.frame.x}get y(){return this.texture.frame.y}get rotate(){return this.texture.rotate!==0}get degrees(){return(360-this.texture.rotate*45)%360}};var uC=class{constructor(){this.x=0,this.y=0,this.width=0,this.height=0,this.offsetX=0,this.offsetY=0,this.originalWidth=0,this.originalHeight=0,this.rotate=0,this.index=0}},Ua=class{constructor(e,t,r){this.pages=new Array,this.regions=new Array,e&&this.addSpineAtlas(e,t,r)}addTexture(e,t){let r=this.pages,i=null;for(let a=0;a<r.length;a++)if(r[a].baseTexture===t.baseTexture){i=r[a];break}if(i===null){i=new mm,i.name="texturePage";let a=t.baseTexture;i.width=a.realWidth,i.height=a.realHeight,i.baseTexture=a,i.minFilter=i.magFilter=qn.Nearest,i.uWrap=Ao.ClampToEdge,i.vWrap=Ao.ClampToEdge,r.push(i)}let s=new gm;return s.name=e,s.page=i,s.texture=t,s.index=-1,this.regions.push(s),s}addTextureHash(e,t){for(let r in e)e.hasOwnProperty(r)&&this.addTexture(t&&r.indexOf(".")!==-1?r.substr(0,r.lastIndexOf(".")):r,e[r])}addSpineAtlas(e,t,r){return this.load(e,t,r)}load(e,t,r){if(t==null)throw new Error("textureLoader cannot be null.");let i=new hC(e),s=new Array(4),a=null,l={},o=null;l.size=()=>{a.width=parseInt(s[1]),a.height=parseInt(s[2])},l.format=()=>{},l.filter=()=>{a.minFilter=Ax(s[1]),a.magFilter=Ax(s[2])},l.repeat=()=>{s[1].indexOf("x")!=-1&&(a.uWrap=Ao.Repeat),s[1].indexOf("y")!=-1&&(a.vWrap=Ao.Repeat)},l.pma=()=>{a.pma=s[1]=="true"};let c={};c.xy=()=>{o.x=parseInt(s[1]),o.y=parseInt(s[2])},c.size=()=>{o.width=parseInt(s[1]),o.height=parseInt(s[2])},c.bounds=()=>{o.x=parseInt(s[1]),o.y=parseInt(s[2]),o.width=parseInt(s[3]),o.height=parseInt(s[4])},c.offset=()=>{o.offsetX=parseInt(s[1]),o.offsetY=parseInt(s[2])},c.orig=()=>{o.originalWidth=parseInt(s[1]),o.originalHeight=parseInt(s[2])},c.offsets=()=>{o.offsetX=parseInt(s[1]),o.offsetY=parseInt(s[2]),o.originalWidth=parseInt(s[3]),o.originalHeight=parseInt(s[4])},c.rotate=()=>{let d=s[1],f=0;d.toLocaleLowerCase()=="true"?f=6:d.toLocaleLowerCase()=="false"?f=0:f=(720-parseFloat(d))%360/45,o.rotate=f},c.index=()=>{o.index=parseInt(s[1])};let u=i.readLine();for(;u!=null&&u.trim().length==0;)u=i.readLine();for(;!(u==null||u.trim().length==0||i.readEntry(s,u)==0);)u=i.readLine();let h=()=>{for(;;){if(u==null)return r&&r(this);if(u.trim().length==0)a=null,u=i.readLine();else if(a===null){for(a=new mm,a.name=u.trim();i.readEntry(s,u=i.readLine())!=0;){let d=l[s[0]];d&&d()}this.pages.push(a),t(a.name,d=>{if(d===null)return this.pages.splice(this.pages.indexOf(a),1),r&&r(null);a.baseTexture=d,a.pma&&(d.alphaMode=cn.PMA),d.valid||d.setSize(a.width,a.height),a.setFilters(),(!a.width||!a.height)&&(a.width=d.realWidth,a.height=d.realHeight,(!a.width||!a.height)&&console.log(`ERROR spine atlas page ${a.name}: meshes wont work if you dont specify size in atlas (http://www.html5gamedevs.com/topic/18888-pixi-spines-and-meshes/?p=107121)`)),h()});break}else{o=new uC;let d=new gm;d.name=u,d.page=a;let f=null,p=null;for(;;){let _=i.readEntry(s,u=i.readLine());if(_==0)break;let b=c[s[0]];if(b)b();else{f==null&&(f=[],p=[]),f.push(s[0]);let w=[];for(let E=0;E<_;E++)w.push(parseInt(s[E+1]));p.push(w)}}o.originalWidth==0&&o.originalHeight==0&&(o.originalWidth=o.width,o.originalHeight=o.height);let m=a.baseTexture.resolution;o.x/=m,o.y/=m,o.width/=m,o.height/=m,o.originalWidth/=m,o.originalHeight/=m,o.offsetX/=m,o.offsetY/=m;let g=o.rotate%4!==0,v=new be(o.x,o.y,g?o.height:o.width,g?o.width:o.height),x=new be(0,0,o.originalWidth,o.originalHeight),y=new be(o.offsetX,o.originalHeight-o.height-o.offsetY,o.width,o.height);d.texture=new rt(d.page.baseTexture,v,x,y,o.rotate),d.index=o.index,d.texture.updateUvs(),this.regions.push(d)}}};h()}findRegion(e){for(let t=0;t<this.regions.length;t++)if(this.regions[t].name==e)return this.regions[t];return null}dispose(){for(let e=0;e<this.pages.length;e++)this.pages[e].baseTexture.dispose()}},hC=class{constructor(e){this.index=0,this.lines=e.split(/\r\n|\r|\n/)}readLine(){return this.index>=this.lines.length?null:this.lines[this.index++]}readEntry(e,t){if(t==null||(t=t.trim(),t.length==0))return 0;let r=t.indexOf(":");if(r==-1)return 0;e[0]=t.substr(0,r).trim();for(let i=1,s=r+1;;i++){let a=t.indexOf(",",s);if(a==-1)return e[i]=t.substr(s).trim(),i;if(e[i]=t.substr(s,a-s).trim(),s=a+1,i==4)return 4}}},mm=class{constructor(){this.minFilter=qn.Nearest,this.magFilter=qn.Nearest,this.uWrap=Ao.ClampToEdge,this.vWrap=Ao.ClampToEdge}setFilters(){let e=this.baseTexture,t=this.minFilter;t==qn.Linear?e.scaleMode=Nn.LINEAR:this.minFilter==qn.Nearest?e.scaleMode=Nn.NEAREST:(e.mipmap=li.POW2,t==qn.MipMapNearestNearest?e.scaleMode=Nn.NEAREST:e.scaleMode=Nn.LINEAR)}},gm=class extends Va{};var zc=class{constructor(){this.array=new Array}add(e){let t=this.contains(e);return this.array[e|0]=e|0,!t}contains(e){return this.array[e|0]!=null}remove(e){this.array[e|0]=void 0}clear(){this.array.length=0}},qc=class{constructor(){this.entries={},this.size=0}add(e){let t=this.entries[e];return this.entries[e]=!0,t?!1:(this.size++,!0)}addAll(e){let t=this.size;for(let r=0,i=e.length;r<i;r++)this.add(e[r]);return t!=this.size}contains(e){return this.entries[e]}clear(){this.entries={},this.size=0}},Qc=class{constructor(n=0,e=0,t=0,r=0){this.r=n,this.g=e,this.b=t,this.a=r}set(n,e,t,r){return this.r=n,this.g=e,this.b=t,this.a=r,this.clamp()}setFromColor(n){return this.r=n.r,this.g=n.g,this.b=n.b,this.a=n.a,this}setFromString(n){return n=n.charAt(0)=="#"?n.substr(1):n,this.r=parseInt(n.substr(0,2),16)/255,this.g=parseInt(n.substr(2,2),16)/255,this.b=parseInt(n.substr(4,2),16)/255,this.a=n.length!=8?1:parseInt(n.substr(6,2),16)/255,this}add(n,e,t,r){return this.r+=n,this.g+=e,this.b+=t,this.a+=r,this.clamp()}clamp(){return this.r<0?this.r=0:this.r>1&&(this.r=1),this.g<0?this.g=0:this.g>1&&(this.g=1),this.b<0?this.b=0:this.b>1&&(this.b=1),this.a<0?this.a=0:this.a>1&&(this.a=1),this}static rgba8888ToColor(n,e){n.r=((e&4278190080)>>>24)/255,n.g=((e&16711680)>>>16)/255,n.b=((e&65280)>>>8)/255,n.a=(e&255)/255}static rgb888ToColor(n,e){n.r=((e&16711680)>>>16)/255,n.g=((e&65280)>>>8)/255,n.b=(e&255)/255}static fromString(n){return new Qc().setFromString(n)}},X=Qc;X.WHITE=new Qc(1,1,1,1);X.RED=new Qc(1,0,0,1);X.GREEN=new Qc(0,1,0,1);X.BLUE=new Qc(0,0,1,1);X.MAGENTA=new Qc(1,0,1,1);var To=class{static clamp(n,e,t){return n<e?e:n>t?t:n}static cosDeg(n){return Math.cos(n*To.degRad)}static sinDeg(n){return Math.sin(n*To.degRad)}static signum(n){return Math.sign(n)}static toInt(n){return n>0?Math.floor(n):Math.ceil(n)}static cbrt(n){let e=Math.pow(Math.abs(n),.3333333333333333);return n<0?-e:e}static randomTriangular(n,e){return To.randomTriangularWith(n,e,(n+e)*.5)}static randomTriangularWith(n,e,t){let r=Math.random(),i=e-n;return r<=(t-n)/i?n+Math.sqrt(r*i*(t-n)):e-Math.sqrt((1-r)*i*(e-t))}static isPowerOfTwo(n){return n&&(n&n-1)===0}},D=To;D.PI=3.1415927;D.PI2=To.PI*2;D.radiansToDegrees=180/To.PI;D.radDeg=To.radiansToDegrees;D.degreesToRadians=To.PI/180;D.degRad=To.degreesToRadians;var Tx=class{apply(e,t,r){return e+(t-e)*this.applyInternal(r)}},Mx=class extends Tx{constructor(e){super(),this.power=2,this.power=e}applyInternal(e){return e<=.5?Math.pow(e*2,this.power)/2:Math.pow((e-1)*2,this.power)/(this.power%2==0?-2:2)+1}},Zc=class extends Mx{applyInternal(e){return Math.pow(e-1,this.power)*(this.power%2==0?-1:1)+1}},gd=class{static arrayCopy(n,e,t,r,i){for(let s=e,a=r;s<e+i;s++,a++)t[a]=n[s]}static arrayFill(n,e,t,r){for(let i=e;i<t;i++)n[i]=r}static setArraySize(n,e,t=0){let r=n.length;if(r==e)return n;if(n.length=e,r<e)for(let i=r;i<e;i++)n[i]=t;return n}static ensureArrayCapacity(n,e,t=0){return n.length>=e?n:gd.setArraySize(n,e,t)}static newArray(n,e){let t=new Array(n);for(let r=0;r<n;r++)t[r]=e;return t}static newFloatArray(n){if(gd.SUPPORTS_TYPED_ARRAYS)return new Float32Array(n);let e=new Array(n);for(let t=0;t<e.length;t++)e[t]=0;return e}static newShortArray(n){if(gd.SUPPORTS_TYPED_ARRAYS)return new Int16Array(n);let e=new Array(n);for(let t=0;t<e.length;t++)e[t]=0;return e}static toFloatArray(n){return gd.SUPPORTS_TYPED_ARRAYS?new Float32Array(n):n}static toSinglePrecision(n){return gd.SUPPORTS_TYPED_ARRAYS?Math.fround(n):n}static webkit602BugfixHelper(n,e){}static contains(n,e,t=!0){for(let r=0;r<n.length;r++)if(n[r]==e)return!0;return!1}static enumValue(n,e){return n[e[0].toUpperCase()+e.slice(1)]}},F=gd;F.SUPPORTS_TYPED_ARRAYS=typeof Float32Array<"u";var as=class{constructor(e){this.items=new Array,this.instantiator=e}obtain(){return this.items.length>0?this.items.pop():this.instantiator()}free(e){e.reset&&e.reset(),this.items.push(e)}freeAll(e){for(let t=0;t<e.length;t++)this.free(e[t])}clear(){this.items.length=0}},Li=class{constructor(e=0,t=0){this.x=e,this.y=t}set(e,t){return this.x=e,this.y=t,this}length(){let e=this.x,t=this.y;return Math.sqrt(e*e+t*t)}normalize(){let e=this.length();return e!=0&&(this.x/=e,this.y/=e),this}};var Ws=class{constructor(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.boundingBoxes=new Array,this.polygons=new Array,this.polygonPool=new as(()=>F.newFloatArray(16))}update(e,t){if(!e)throw new Error("skeleton cannot be null.");let r=this.boundingBoxes,i=this.polygons,s=this.polygonPool,a=e.slots,l=a.length;r.length=0,s.freeAll(i),i.length=0;for(let o=0;o<l;o++){let c=a[o];if(!c.bone.active)continue;let u=c.getAttachment();if(u!=null&&u.type===le.BoundingBox){let h=u;r.push(h);let d=s.obtain();d.length!=h.worldVerticesLength&&(d=F.newFloatArray(h.worldVerticesLength)),i.push(d),h.computeWorldVertices(c,0,h.worldVerticesLength,d,0,2)}}t?this.aabbCompute():(this.minX=Number.POSITIVE_INFINITY,this.minY=Number.POSITIVE_INFINITY,this.maxX=Number.NEGATIVE_INFINITY,this.maxY=Number.NEGATIVE_INFINITY)}aabbCompute(){let e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY,i=Number.NEGATIVE_INFINITY,s=this.polygons;for(let a=0,l=s.length;a<l;a++){let o=s[a],c=o;for(let u=0,h=o.length;u<h;u+=2){let d=c[u],f=c[u+1];e=Math.min(e,d),t=Math.min(t,f),r=Math.max(r,d),i=Math.max(i,f)}}this.minX=e,this.minY=t,this.maxX=r,this.maxY=i}aabbContainsPoint(e,t){return e>=this.minX&&e<=this.maxX&&t>=this.minY&&t<=this.maxY}aabbIntersectsSegment(e,t,r,i){let s=this.minX,a=this.minY,l=this.maxX,o=this.maxY;if(e<=s&&r<=s||t<=a&&i<=a||e>=l&&r>=l||t>=o&&i>=o)return!1;let c=(i-t)/(r-e),u=c*(s-e)+t;if(u>a&&u<o||(u=c*(l-e)+t,u>a&&u<o))return!0;let h=(a-t)/c+e;return h>s&&h<l||(h=(o-t)/c+e,h>s&&h<l)}aabbIntersectsSkeleton(e){return this.minX<e.maxX&&this.maxX>e.minX&&this.minY<e.maxY&&this.maxY>e.minY}containsPoint(e,t){let r=this.polygons;for(let i=0,s=r.length;i<s;i++)if(this.containsPointPolygon(r[i],e,t))return this.boundingBoxes[i];return null}containsPointPolygon(e,t,r){let i=e,s=e.length,a=s-2,l=!1;for(let o=0;o<s;o+=2){let c=i[o+1],u=i[a+1];if(c<r&&u>=r||u<r&&c>=r){let h=i[o];h+(r-c)/(u-c)*(i[a]-h)<t&&(l=!l)}a=o}return l}intersectsSegment(e,t,r,i){let s=this.polygons;for(let a=0,l=s.length;a<l;a++)if(this.intersectsSegmentPolygon(s[a],e,t,r,i))return this.boundingBoxes[a];return null}intersectsSegmentPolygon(e,t,r,i,s){let a=e,l=e.length,o=t-i,c=r-s,u=t*s-r*i,h=a[l-2],d=a[l-1];for(let f=0;f<l;f+=2){let p=a[f],m=a[f+1],g=h*m-d*p,v=h-p,x=d-m,y=o*x-c*v,_=(u*v-o*g)/y;if((_>=h&&_<=p||_>=p&&_<=h)&&(_>=t&&_<=i||_>=i&&_<=t)){let b=(u*x-c*g)/y;if((b>=d&&b<=m||b>=m&&b<=d)&&(b>=r&&b<=s||b>=s&&b<=r))return!0}h=p,d=m}return!1}getPolygon(e){if(!e)throw new Error("boundingBox cannot be null.");let t=this.boundingBoxes.indexOf(e);return t==-1?null:this.polygons[t]}getWidth(){return this.maxX-this.minX}getHeight(){return this.maxY-this.minY}};var Ct={yDown:!0,FAIL_ON_NON_EXISTING_SKIN:!1,GLOBAL_AUTO_UPDATE:!0,GLOBAL_DELAY_LIMIT:0,REPORT_TEXTURE_LOADER_ERROR:!0};var Ys=class{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?be.EMPTY:(e=e||new be(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,t){let{a:r,b:i,c:s,d:a,tx:l,ty:o}=e,c=r*t.x+s*t.y+l,u=i*t.x+a*t.y+o;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,u),this.maxY=Math.max(this.maxY,u)}addQuad(e){let t=this.minX,r=this.minY,i=this.maxX,s=this.maxY,a=e[0],l=e[1];t=a<t?a:t,r=l<r?l:r,i=a>i?a:i,s=l>s?l:s,a=e[2],l=e[3],t=a<t?a:t,r=l<r?l:r,i=a>i?a:i,s=l>s?l:s,a=e[4],l=e[5],t=a<t?a:t,r=l<r?l:r,i=a>i?a:i,s=l>s?l:s,a=e[6],l=e[7],t=a<t?a:t,r=l<r?l:r,i=a>i?a:i,s=l>s?l:s,this.minX=t,this.minY=r,this.maxX=i,this.maxY=s}addFrame(e,t,r,i,s){this.addFrameMatrix(e.worldTransform,t,r,i,s)}addFrameMatrix(e,t,r,i,s){let a=e.a,l=e.b,o=e.c,c=e.d,u=e.tx,h=e.ty,d=this.minX,f=this.minY,p=this.maxX,m=this.maxY,g=a*t+o*r+u,v=l*t+c*r+h;d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=a*i+o*r+u,v=l*i+c*r+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=a*t+o*s+u,v=l*t+c*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,g=a*i+o*s+u,v=l*i+c*s+h,d=g<d?g:d,f=v<f?v:f,p=g>p?g:p,m=v>m?v:m,this.minX=d,this.minY=f,this.maxX=p,this.maxY=m}addVertexData(e,t,r){let i=this.minX,s=this.minY,a=this.maxX,l=this.maxY;for(let o=t;o<r;o+=2){let c=e[o],u=e[o+1];i=c<i?c:i,s=u<s?u:s,a=c>a?c:a,l=u>l?u:l}this.minX=i,this.minY=s,this.maxX=a,this.maxY=l}addVertices(e,t,r,i){this.addVerticesMatrix(e.worldTransform,t,r,i)}addVerticesMatrix(e,t,r,i,s=0,a=s){let l=e.a,o=e.b,c=e.c,u=e.d,h=e.tx,d=e.ty,f=this.minX,p=this.minY,m=this.maxX,g=this.maxY;for(let v=r;v<i;v+=2){let x=t[v],y=t[v+1],_=l*x+c*y+h,b=u*y+o*x+d;f=Math.min(f,_-s),m=Math.max(m,_+s),p=Math.min(p,b-a),g=Math.max(g,b+a)}this.minX=f,this.minY=p,this.maxX=m,this.maxY=g}addBounds(e){let t=this.minX,r=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<r?e.minY:r,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,t){let r=e.minX>t.minX?e.minX:t.minX,i=e.minY>t.minY?e.minY:t.minY,s=e.maxX<t.maxX?e.maxX:t.maxX,a=e.maxY<t.maxY?e.maxY:t.maxY;if(r<=s&&i<=a){let l=this.minX,o=this.minY,c=this.maxX,u=this.maxY;this.minX=r<l?r:l,this.minY=i<o?i:o,this.maxX=s>c?s:c,this.maxY=a>u?a:u}}addBoundsMatrix(e,t){this.addFrameMatrix(t,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,t){let r=e.minX>t.x?e.minX:t.x,i=e.minY>t.y?e.minY:t.y,s=e.maxX<t.x+t.width?e.maxX:t.x+t.width,a=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(r<=s&&i<=a){let l=this.minX,o=this.minY,c=this.maxX,u=this.maxY;this.minX=r<l?r:l,this.minY=i<o?i:o,this.maxX=s>c?s:c,this.maxY=a>u?a:u}}pad(e=0,t=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=t,this.maxY+=t)}addFramePad(e,t,r,i,s,a){e-=s,t-=a,r+=s,i+=a,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>r?this.maxX:r,this.minY=this.minY<t?this.minY:t,this.maxY=this.maxY>i?this.maxY:i}};var ja=class n extends de.EventEmitter{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new Fa,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ys,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){let t=Object.keys(e);for(let r=0;r<t.length;++r){let i=t[r];Object.defineProperty(n.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),t||(this._boundsRect||(this._boundsRect=new be),t=this._boundsRect),this._bounds.getRectangle(t)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new be),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Ys);let t=this.transform,r=this.parent;this.parent=null,this._tempDisplayObjectParent.worldAlpha=r?.worldAlpha??1,this.transform=this._tempDisplayObjectParent.transform;let i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;let a=this.getBounds(!1,e);return this.parent=r,this.transform=t,this._bounds=i,this._bounds.updateID+=this._boundsID-s,a}toGlobal(e,t,r=!1){return r||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)}toLocal(e,t,r,i){return t&&(e=t.toGlobal(e,r,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,r)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){this.parent?.removeChild(this)}setTransform(e=0,t=0,r=1,i=1,s=0,a=0,l=0,o=0,c=0){return this.position.x=e,this.position.y=t,this.scale.x=r||1,this.scale.y=i||1,this.rotation=s,this.skew.x=a,this.skew.y=l,this.pivot.x=o,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new Ix),this.tempDisplayObjectParent}enableTempParent(){let e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*jS}set angle(e){this.transform.rotation=e*GS}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex!==e&&(this._zIndex=e,this.parent&&(this.parent.sortDirty=!0))}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){let t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount--,t._maskRefCount===0&&(t.renderable=!0,t.isMask=!1))}if(this._mask=e,this._mask){let t=this._mask.isMaskData?this._mask.maskObject:this._mask;t&&(t._maskRefCount===0&&(t.renderable=!1,t.isMask=!0),t._maskRefCount++)}}}},Ix=class extends ja{constructor(){super(...arguments),this.sortDirty=null}};ja.prototype.displayObjectUpdateTransform=ja.prototype.updateTransform;var s5=new ke;function o5(n,e){return n.zIndex===e.zIndex?n._lastSortedIndex-e._lastSortedIndex:n.zIndex-e.zIndex}var a5=(()=>{let n=class dC extends ja{constructor(){super(),this.children=[],this.sortableChildren=dC.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let r=0;r<t.length;r++)this.addChild(t[r]);else{let r=t[0];r.parent&&r.parent.removeChild(r),r.parent=this,this.sortDirty=!0,r.transform._parentID=-1,this.children.push(r),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",r,this,this.children.length-1),r.emit("added",this)}return t[0]}addChildAt(t,r){if(r<0||r>this.children.length)throw new Error(`${t}addChildAt: The index ${r} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(r,0,t),this._boundsID++,this.onChildrenChange(r),t.emit("added",this),this.emit("childAdded",t,this,r),t}swapChildren(t,r){if(t===r)return;let i=this.getChildIndex(t),s=this.getChildIndex(r);this.children[i]=r,this.children[s]=t,this.onChildrenChange(i<s?i:s)}getChildIndex(t){let r=this.children.indexOf(t);if(r===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return r}setChildIndex(t,r){if(r<0||r>=this.children.length)throw new Error(`The index ${r} supplied is out of bounds ${this.children.length}`);let i=this.getChildIndex(t);de.removeItems(this.children,i,1),this.children.splice(r,0,t),this.onChildrenChange(r)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let r=0;r<t.length;r++)this.removeChild(t[r]);else{let r=t[0],i=this.children.indexOf(r);if(i===-1)return null;r.parent=null,r.transform._parentID=-1,de.removeItems(this.children,i,1),this._boundsID++,this.onChildrenChange(i),r.emit("removed",this),this.emit("childRemoved",r,this,i)}return t[0]}removeChildAt(t){let r=this.getChildAt(t);return r.parent=null,r.transform._parentID=-1,de.removeItems(this.children,t,1),this._boundsID++,this.onChildrenChange(t),r.emit("removed",this),this.emit("childRemoved",r,this,t),r}removeChildren(t=0,r=this.children.length){let i=t,s=r,a=s-i,l;if(a>0&&a<=s){l=this.children.splice(i,a);for(let o=0;o<l.length;++o)l[o].parent=null,l[o].transform&&(l[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<l.length;++o)l[o].emit("removed",this),this.emit("childRemoved",l[o],this,o);return l}else if(a===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let r=0,i=this.children.length;r<i;++r){let s=this.children[r];s._lastSortedIndex=r,!t&&s.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(o5),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,r=this.children.length;t<r;++t){let i=this.children[t];i.visible&&i.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){let r=this.children[t];if(!(!r.visible||!r.renderable))if(r.calculateBounds(),r._mask){let i=r._mask.isMaskData?r._mask.maskObject:r._mask;i?(i.calculateBounds(),this._bounds.addBoundsMask(r._bounds,i._bounds)):this._bounds.addBounds(r._bounds)}else r.filterArea?this._bounds.addBoundsArea(r._bounds,r.filterArea):this._bounds.addBounds(r._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,r=!1){let i=super.getLocalBounds(t);if(!r)for(let s=0,a=this.children.length;s<a;++s){let l=this.children[s];l.visible&&l.updateTransform()}return i}_calculateBounds(){}_renderWithCulling(t){let r=t.renderTexture.sourceFrame;if(!(r.width>0&&r.height>0))return;let i,s;this.cullArea?(i=this.cullArea,s=this.worldTransform):this._render!==dC.prototype._render&&(i=this.getBounds(!0));let a=t.projection.transform;if(a&&(s?(s=s5.copyFrom(s),s.prepend(a)):s=a),i&&r.intersects(i,s))this._render(t);else if(this.cullArea)return;for(let l=0,o=this.children.length;l<o;++l){let c=this.children[l],u=c.cullable;c.cullable=u||!this.cullArea,c.render(t),c.cullable=u}}render(t){if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||this.filters?.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,i=this.children.length;r<i;++r)this.children[r].render(t)}}renderAdvanced(t){let r=this.filters,i=this._mask;if(r){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<r.length;a++)r[a].enabled&&this._enabledFilters.push(r[a])}let s=r&&this._enabledFilters?.length||i&&(!i.isMaskData||i.enabled&&(i.autoDetect||i.type!==$t.NONE));if(s&&t.batch.flush(),r&&this._enabledFilters?.length&&t.filter.push(this,this._enabledFilters),i&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,l=this.children.length;a<l;++a)this.children[a].render(t)}s&&t.batch.flush(),i&&t.mask.pop(this),r&&this._enabledFilters?.length&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;let r=typeof t=="boolean"?t:t?.children,i=this.removeChildren(0,this.children.length);if(r)for(let s=0;s<i.length;++s)i[s].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){let r=this.getLocalBounds().width;r!==0?this.scale.x=t/r:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){let r=this.getLocalBounds().height;r!==0?this.scale.y=t/r:this.scale.y=1,this._height=t}};return n.defaultSortableChildren=!1,n})(),wn=a5;wn.prototype.containerUpdateTransform=wn.prototype.updateTransform;Object.defineProperties(J,{SORTABLE_CHILDREN:{get(){return wn.defaultSortableChildren},set(n){de.deprecation("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),wn.defaultSortableChildren=n}}});var ym=new nt,l5=new Uint16Array([0,1,2,0,2,3]),xm=class n extends wn{constructor(e){super(),this._anchor=new is(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new et(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=ne.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||rt.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=l5,this.pluginName="batch",this.isSprite=!0,this._roundPixels=J.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=de.sign(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=de.sign(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){let e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;let t=this.transform.worldTransform,r=t.a,i=t.b,s=t.c,a=t.d,l=t.tx,o=t.ty,c=this.vertexData,u=e.trim,h=e.orig,d=this._anchor,f=0,p=0,m=0,g=0;if(u?(p=u.x-d._x*h.width,f=p+u.width,g=u.y-d._y*h.height,m=g+u.height):(p=-d._x*h.width,f=p+h.width,g=-d._y*h.height,m=g+h.height),c[0]=r*p+s*g+l,c[1]=a*g+i*p+o,c[2]=r*f+s*g+l,c[3]=a*g+i*f+o,c[4]=r*f+s*m+l,c[5]=a*m+i*f+o,c[6]=r*p+s*m+l,c[7]=a*m+i*p+o,this._roundPixels){let v=J.RESOLUTION;for(let x=0;x<c.length;++x)c[x]=Math.round(c[x]*v)/v}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;let e=this._texture,t=this.vertexTrimmedData,r=e.orig,i=this._anchor,s=this.transform.worldTransform,a=s.a,l=s.b,o=s.c,c=s.d,u=s.tx,h=s.ty,d=-i._x*r.width,f=d+r.width,p=-i._y*r.height,m=p+r.height;if(t[0]=a*d+o*p+u,t[1]=c*p+l*d+h,t[2]=a*f+o*p+u,t[3]=c*p+l*f+h,t[4]=a*f+o*m+u,t[5]=c*m+l*f+h,t[6]=a*d+o*m+u,t[7]=c*m+l*d+h,this._roundPixels){let g=J.RESOLUTION;for(let v=0;v<t.length;++v)t[v]=Math.round(t[v]*g)/g}}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){let e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Ys),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new be),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ym);let t=this._texture.orig.width,r=this._texture.orig.height,i=-t*this.anchor.x,s=0;return ym.x>=i&&ym.x<i+t&&(s=-r*this.anchor.y,ym.y>=s&&ym.y<s+r)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e?.texture){let t=typeof e=="boolean"?e:e?.baseTexture;this._texture.destroy(!!t)}this._texture=null}static from(e,t){let r=e instanceof rt?e:rt.from(e,t);return new n(r)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1,this._transformTrimmedID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){let t=de.sign(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){let t=de.sign(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||rt.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}};var vm=class{constructor(e,t){this.uvBuffer=e,this.uvMatrix=t,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;let t=this.uvBuffer.data;(!this.data||this.data.length!==t.length)&&(this.data=new Float32Array(t.length)),this.uvMatrix.multiplyUvs(t,this.data),this._updateID++}};var fC=new nt,PF=new Fi,OF=class NF extends wn{constructor(e,t,r,i=Yn.TRIANGLES){super(),this.geometry=e,this.shader=t,this.state=r||Br.for2d(),this.drawMode=i,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=J.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(e){this._geometry!==e&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=e,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(e){this.shader=e}get material(){return this.shader}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(e){this.shader.tint=e}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(e){this.shader.texture=e}_render(e){let t=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Yn.TRIANGLES&&t.length<NF.BATCHABLE_SIZE*2?this._renderToBatch(e):this._renderDefault(e)}_renderDefault(e){let t=this.shader;t.alpha=this.worldAlpha,t.update&&t.update(),e.batch.flush(),t.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),e.shader.bind(t),e.state.set(this.state),e.geometry.bind(this.geometry,t),e.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(e){let t=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=t.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;let i=this.material.pluginName;e.batch.setObjectRenderer(e.plugins[i]),e.plugins[i].render(this)}calculateVertices(){let e=this.geometry.buffers[0],t=e.data,r=e._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==t.length&&(this.vertexData=new Float32Array(t.length));let i=this.transform.worldTransform,s=i.a,a=i.b,l=i.c,o=i.d,c=i.tx,u=i.ty,h=this.vertexData;for(let d=0;d<h.length/2;d++){let f=t[d*2],p=t[d*2+1];h[d*2]=s*f+l*p+c,h[d*2+1]=a*f+o*p+u}if(this._roundPixels){let d=J.RESOLUTION;for(let f=0;f<h.length;++f)h[f]=Math.round(h[f]*d)/d}this.vertexDirty=r}calculateUvs(){let e=this.geometry.buffers[1],t=this.shader;t.uvMatrix.isSimple?this.uvs=e.data:(this.batchUvs||(this.batchUvs=new vm(e,t.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,fC);let t=this.geometry.getBuffer("aVertexPosition").data,r=PF.points,i=this.geometry.getIndex().data,s=i.length,a=this.drawMode===4?3:1;for(let l=0;l+2<s;l+=a){let o=i[l]*2,c=i[l+1]*2,u=i[l+2]*2;if(r[0]=t[o],r[1]=t[o+1],r[2]=t[c],r[3]=t[c+1],r[4]=t[u],r[5]=t[u+1],PF.contains(fC.x,fC.y))return!0}return!1}destroy(e){super.destroy(e),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};OF.BATCHABLE_SIZE=100;var _m=OF;var Kc=class extends rs{constructor(e,t,r){super();let i=new St(e),s=new St(t,!0),a=new St(r,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,we.FLOAT).addAttribute("aTextureCoord",s,2,!1,we.FLOAT).addIndex(a),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}};var FF=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`;var kF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;var Jc=class extends ss{constructor(e,t){let r={uSampler:e,alpha:1,uTextureMatrix:ke.IDENTITY,uColor:new Float32Array([1,1,1,1])};t=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},t),t.uniforms&&Object.assign(r,t.uniforms),super(t.program||Vr.from(kF,FF),r),this._colorDirty=!1,this.uvMatrix=new Hc(e),this.batchable=t.program===void 0,this.pluginName=t.pluginName,this._tintColor=new et(t.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=t.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;let e=this.texture.baseTexture.alphaMode;et.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}};var bm=class extends _m{constructor(e=rt.EMPTY,t,r,i,s){let a=new Kc(t,r,i);a.getBuffer("aVertexPosition").static=!1;let l=new Jc(e);super(a,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}};var eu={build(n){let e=n.points,t,r,i,s,a,l;if(n.type===mt.CIRC){let p=n.shape;t=p.x,r=p.y,a=l=p.radius,i=s=0}else if(n.type===mt.ELIP){let p=n.shape;t=p.x,r=p.y,a=p.width,l=p.height,i=s=0}else{let p=n.shape,m=p.width/2,g=p.height/2;t=p.x+m,r=p.y+g,a=l=Math.max(0,Math.min(p.radius,Math.min(m,g))),i=m-a,s=g-l}if(!(a>=0&&l>=0&&i>=0&&s>=0)){e.length=0;return}let o=Math.ceil(2.3*Math.sqrt(a+l)),c=o*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(o===0){e.length=8,e[0]=e[6]=t+i,e[1]=e[3]=r+s,e[2]=e[4]=t-i,e[5]=e[7]=r-s;return}let u=0,h=o*4+(i?2:0)+2,d=h,f=c;{let p=i+a,m=s,g=t+p,v=t-p,x=r+m;if(e[u++]=g,e[u++]=x,e[--h]=x,e[--h]=v,s){let y=r-m;e[d++]=v,e[d++]=y,e[--f]=y,e[--f]=g}}for(let p=1;p<o;p++){let m=Math.PI/2*(p/o),g=i+Math.cos(m)*a,v=s+Math.sin(m)*l,x=t+g,y=t-g,_=r+v,b=r-v;e[u++]=x,e[u++]=_,e[--h]=_,e[--h]=y,e[d++]=y,e[d++]=b,e[--f]=b,e[--f]=x}{let p=i,m=s+l,g=t+p,v=t-p,x=r+m,y=r-m;e[u++]=g,e[u++]=x,e[--f]=y,e[--f]=g,i&&(e[u++]=v,e[u++]=x,e[--f]=y,e[--f]=v)}},triangulate(n,e){let t=n.points,r=e.points,i=e.indices;if(t.length===0)return;let s=r.length/2,a=s,l,o;if(n.type!==mt.RREC){let u=n.shape;l=u.x,o=u.y}else{let u=n.shape;l=u.x+u.width/2,o=u.y+u.height/2}let c=n.matrix;r.push(n.matrix?c.a*l+c.c*o+c.tx:l,n.matrix?c.b*l+c.d*o+c.ty:o),s++,r.push(t[0],t[1]);for(let u=2;u<t.length;u+=2)r.push(t[u],t[u+1]),i.push(s++,a,s);i.push(a+1,a,s)}};function LF(n,e=!1){let t=n.length;if(t<6)return;let r=0;for(let i=0,s=n[t-2],a=n[t-1];i<t;i+=2){let l=n[i],o=n[i+1];r+=(l-s)*(o+a),s=l,a=o}if(!e&&r>0||e&&r<=0){let i=t/2;for(let s=i+i%2;s<t;s+=2){let a=t-s-2,l=t-s-1,o=s,c=s+1;[n[a],n[o]]=[n[o],n[a]],[n[l],n[c]]=[n[c],n[l]]}}}var wm={build(n){n.points=n.shape.points.slice()},triangulate(n,e){let t=n.points,r=n.holes,i=e.points,s=e.indices;if(t.length>=6){LF(t,!1);let a=[];for(let c=0;c<r.length;c++){let u=r[c];LF(u.points,!0),a.push(t.length/2),t=t.concat(u.points)}let l=de.earcut(t,a,2);if(!l)return;let o=i.length/2;for(let c=0;c<l.length;c+=3)s.push(l[c]+o),s.push(l[c+1]+o),s.push(l[c+2]+o);for(let c=0;c<t.length;c++)i.push(t[c])}}};var pC={build(n){let e=n.shape,t=e.x,r=e.y,i=e.width,s=e.height,a=n.points;a.length=0,i>=0&&s>=0&&a.push(t,r,t+i,r,t+i,r+s,t,r+s)},triangulate(n,e){let t=n.points,r=e.points;if(t.length===0)return;let i=r.length/2;r.push(t[0],t[1],t[2],t[3],t[6],t[7],t[4],t[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}};var mC={build(n){eu.build(n)},triangulate(n,e){eu.triangulate(n,e)}};var Zn=(n=>(n.MITER="miter",n.BEVEL="bevel",n.ROUND="round",n))(Zn||{}),Bi=(n=>(n.BUTT="butt",n.ROUND="round",n.SQUARE="square",n))(Bi||{}),Vi={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(n,e=20){if(!this.adaptive||!n||isNaN(n))return e;let t=Math.ceil(n/this.maxLength);return t<this.minSegments?t=this.minSegments:t>this.maxSegments&&(t=this.maxSegments),t}};var tu=class{static curveTo(e,t,r,i,s,a){let l=a[a.length-2],o=a[a.length-1]-t,c=l-e,u=i-t,h=r-e,d=Math.abs(o*h-c*u);if(d<1e-8||s===0)return(a[a.length-2]!==e||a[a.length-1]!==t)&&a.push(e,t),null;let f=o*o+c*c,p=u*u+h*h,m=o*u+c*h,g=s*Math.sqrt(f)/d,v=s*Math.sqrt(p)/d,x=g*m/f,y=v*m/p,_=g*h+v*c,b=g*u+v*o,w=c*(v+x),E=o*(v+x),S=h*(g+y),C=u*(g+y),R=Math.atan2(E-b,w-_),P=Math.atan2(C-b,S-_);return{cx:_+e,cy:b+t,radius:s,startAngle:R,endAngle:P,anticlockwise:c*u>h*o}}static arc(e,t,r,i,s,a,l,o,c){let u=l-a,h=Vi._segmentsCount(Math.abs(u)*s,Math.ceil(Math.abs(u)/Na)*40),d=u/(h*2),f=d*2,p=Math.cos(d),m=Math.sin(d),g=h-1,v=g%1/g;for(let x=0;x<=g;++x){let y=x+v*x,_=d+a+f*y,b=Math.cos(_),w=-Math.sin(_);c.push((p*b+m*w)*s+r,(p*-w+m*b)*s+i)}}};var yd=class{constructor(){this.reset()}begin(e,t,r){this.reset(),this.style=e,this.start=t,this.attribStart=r}end(e,t){this.attribSize=t-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}};var xd=class n{static curveLength(e,t,r,i,s,a,l,o){let c=0,u=0,h=0,d=0,f=0,p=0,m=0,g=0,v=0,x=0,y=0,_=e,b=t;for(let w=1;w<=10;++w)u=w/10,h=u*u,d=h*u,f=1-u,p=f*f,m=p*f,g=m*e+3*p*u*r+3*f*h*s+d*l,v=m*t+3*p*u*i+3*f*h*a+d*o,x=_-g,y=b-v,_=g,b=v,c+=Math.sqrt(x*x+y*y);return c}static curveTo(e,t,r,i,s,a,l){let o=l[l.length-2],c=l[l.length-1];l.length-=2;let u=Vi._segmentsCount(n.curveLength(o,c,e,t,r,i,s,a)),h=0,d=0,f=0,p=0,m=0;l.push(o,c);for(let g=1,v=0;g<=u;++g)v=g/u,h=1-v,d=h*h,f=d*h,p=v*v,m=p*v,l.push(f*o+3*d*v*e+3*h*p*r+m*s,f*c+3*d*v*t+3*h*p*i+m*a)}};function BF(n,e,t,r,i,s,a,l){let o=n-t*i,c=e-r*i,u=n+t*s,h=e+r*s,d,f;a?(d=r,f=-t):(d=-r,f=t);let p=o+d,m=c+f,g=u+d,v=h+f;return l.push(p,m,g,v),2}function nu(n,e,t,r,i,s,a,l){let o=t-n,c=r-e,u=Math.atan2(o,c),h=Math.atan2(i-n,s-e);l&&u<h?u+=Math.PI*2:!l&&u>h&&(h+=Math.PI*2);let d=u,f=h-u,p=Math.abs(f),m=Math.sqrt(o*o+c*c),g=(15*p*Math.sqrt(m)/Math.PI>>0)+1,v=f/g;if(d+=v,l){a.push(n,e,t,r);for(let x=1,y=d;x<g;x++,y+=v)a.push(n,e,n+Math.sin(y)*m,e+Math.cos(y)*m);a.push(n,e,i,s)}else{a.push(t,r,n,e);for(let x=1,y=d;x<g;x++,y+=v)a.push(n+Math.sin(y)*m,e+Math.cos(y)*m,n,e);a.push(i,s,n,e)}return g*2}function d5(n,e){let t=n.shape,r=n.points||t.points.slice(),i=e.closePointEps;if(r.length===0)return;let s=n.lineStyle,a=new nt(r[0],r[1]),l=new nt(r[r.length-2],r[r.length-1]),o=t.type!==mt.POLY||t.closeStroke,c=Math.abs(a.x-l.x)<i&&Math.abs(a.y-l.y)<i;if(o){r=r.slice(),c&&(r.pop(),r.pop(),l.set(r[r.length-2],r[r.length-1]));let H=(a.x+l.x)*.5,L=(l.y+a.y)*.5;r.unshift(H,L),r.push(H,L)}let u=e.points,h=r.length/2,d=r.length,f=u.length/2,p=s.width/2,m=p*p,g=s.miterLimit*s.miterLimit,v=r[0],x=r[1],y=r[2],_=r[3],b=0,w=0,E=-(x-_),S=v-y,C=0,R=0,P=Math.sqrt(E*E+S*S);E/=P,S/=P,E*=p,S*=p;let k=s.alignment,N=(1-k)*2,O=k*2;o||(s.cap===Bi.ROUND?d+=nu(v-E*(N-O)*.5,x-S*(N-O)*.5,v-E*N,x-S*N,v+E*O,x+S*O,u,!0)+2:s.cap===Bi.SQUARE&&(d+=BF(v,x,E,S,N,O,!0,u))),u.push(v-E*N,x-S*N,v+E*O,x+S*O);for(let H=1;H<h-1;++H){v=r[(H-1)*2],x=r[(H-1)*2+1],y=r[H*2],_=r[H*2+1],b=r[(H+1)*2],w=r[(H+1)*2+1],E=-(x-_),S=v-y,P=Math.sqrt(E*E+S*S),E/=P,S/=P,E*=p,S*=p,C=-(_-w),R=y-b,P=Math.sqrt(C*C+R*R),C/=P,R/=P,C*=p,R*=p;let L=y-v,U=x-_,V=y-b,Z=w-_,z=L*V+U*Z,Y=U*V-Z*L,$=Y<0;if(Math.abs(Y)<.001*Math.abs(z)){u.push(y-E*N,_-S*N,y+E*O,_+S*O),z>=0&&(s.join===Zn.ROUND?d+=nu(y,_,y-E*N,_-S*N,y-C*N,_-R*N,u,!1)+4:d+=2,u.push(y-C*O,_-R*O,y+C*N,_+R*N));continue}let ae=(-E+v)*(-S+_)-(-E+y)*(-S+x),me=(-C+b)*(-R+_)-(-C+y)*(-R+w),Oe=(L*me-V*ae)/Y,qe=(Z*ae-U*me)/Y,ge=(Oe-y)*(Oe-y)+(qe-_)*(qe-_),Le=y+(Oe-y)*N,He=_+(qe-_)*N,at=y-(Oe-y)*O,dt=_-(qe-_)*O,Kn=Math.min(L*L+U*U,V*V+Z*Z),Wr=$?N:O,Yr=Kn+Wr*Wr*m,Xr=ge<=Yr,Sr=s.join;if(Sr===Zn.MITER&&ge/m>g&&(Sr=Zn.BEVEL),Xr)switch(Sr){case Zn.MITER:{u.push(Le,He,at,dt);break}case Zn.BEVEL:{$?u.push(Le,He,y+E*O,_+S*O,Le,He,y+C*O,_+R*O):u.push(y-E*N,_-S*N,at,dt,y-C*N,_-R*N,at,dt),d+=2;break}case Zn.ROUND:{$?(u.push(Le,He,y+E*O,_+S*O),d+=nu(y,_,y+E*O,_+S*O,y+C*O,_+R*O,u,!0)+4,u.push(Le,He,y+C*O,_+R*O)):(u.push(y-E*N,_-S*N,at,dt),d+=nu(y,_,y-E*N,_-S*N,y-C*N,_-R*N,u,!1)+4,u.push(y-C*N,_-R*N,at,dt));break}}else{switch(u.push(y-E*N,_-S*N,y+E*O,_+S*O),Sr){case Zn.MITER:{$?u.push(at,dt,at,dt):u.push(Le,He,Le,He),d+=2;break}case Zn.ROUND:{$?d+=nu(y,_,y+E*O,_+S*O,y+C*O,_+R*O,u,!0)+2:d+=nu(y,_,y-E*N,_-S*N,y-C*N,_-R*N,u,!1)+2;break}}u.push(y-C*N,_-R*N,y+C*O,_+R*O),d+=2}}v=r[(h-2)*2],x=r[(h-2)*2+1],y=r[(h-1)*2],_=r[(h-1)*2+1],E=-(x-_),S=v-y,P=Math.sqrt(E*E+S*S),E/=P,S/=P,E*=p,S*=p,u.push(y-E*N,_-S*N,y+E*O,_+S*O),o||(s.cap===Bi.ROUND?d+=nu(y-E*(N-O)*.5,_-S*(N-O)*.5,y-E*N,_-S*N,y+E*O,_+S*O,u,!1)+2:s.cap===Bi.SQUARE&&(d+=BF(y,_,E,S,N,O,!1,u)));let G=e.indices,q=Vi.epsilon*Vi.epsilon;for(let H=f;H<d+f-2;++H)v=u[H*2],x=u[H*2+1],y=u[(H+1)*2],_=u[(H+1)*2+1],b=u[(H+2)*2],w=u[(H+2)*2+1],!(Math.abs(v*(_-w)+y*(w-x)+b*(x-_))<q)&&G.push(H,H+1,H+2)}function f5(n,e){let t=0,r=n.shape,i=n.points||r.points,s=r.type!==mt.POLY||r.closeStroke;if(i.length===0)return;let a=e.points,l=e.indices,o=i.length/2,c=a.length/2,u=c;for(a.push(i[0],i[1]),t=1;t<o;t++)a.push(i[t*2],i[t*2+1]),l.push(u,u+1),u++;s&&l.push(u,c)}function Em(n,e){n.lineStyle.native?f5(n,e):d5(n,e)}var vd=class n{static curveLength(e,t,r,i,s,a){let l=e-2*r+s,o=t-2*i+a,c=2*r-2*e,u=2*i-2*t,h=4*(l*l+o*o),d=4*(l*c+o*u),f=c*c+u*u,p=2*Math.sqrt(h+d+f),m=Math.sqrt(h),g=2*h*m,v=2*Math.sqrt(f),x=d/m;return(g*p+m*d*(p-v)+(4*f*h-d*d)*Math.log((2*m+x+p)/(x+v)))/(4*g)}static curveTo(e,t,r,i,s){let a=s[s.length-2],l=s[s.length-1],o=Vi._segmentsCount(n.curveLength(a,l,e,t,r,i)),c=0,u=0;for(let h=1;h<=o;++h){let d=h/o;c=a+(e-a)*d,u=l+(t-l)*d,s.push(c+(e+(r-e)*d-c)*d,u+(t+(i-t)*d-u)*d)}}};var Sm={[mt.POLY]:wm,[mt.CIRC]:eu,[mt.ELIP]:eu,[mt.RECT]:pC,[mt.RREC]:mC},Dx=[],_d=[];var bd=class n{constructor(e,t=null,r=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=r,this.fillStyle=t,this.matrix=i,this.type=e.type}clone(){return new n(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}};var wd=new nt,VF=class UF extends Nc{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Ys,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let e=0;e<this.drawCalls.length;e++)this.drawCalls[e].texArray.clear(),_d.push(this.drawCalls[e]);this.drawCalls.length=0;for(let e=0;e<this.batches.length;e++){let t=this.batches[e];t.reset(),Dx.push(t)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(e,t=null,r=null,i=null){let s=new bd(e,t,r,i);return this.graphicsData.push(s),this.dirty++,this}drawHole(e,t=null){if(!this.graphicsData.length)return null;let r=new bd(e,null,null,t),i=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=i.lineStyle,i.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let e=0;e<this.graphicsData.length;++e)this.graphicsData[e].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(e){let t=this.graphicsData;for(let r=0;r<t.length;++r){let i=t[r];if(i.fillStyle.visible&&i.shape&&(i.matrix?i.matrix.applyInverse(e,wd):wd.copyFrom(e),i.shape.contains(wd.x,wd.y))){let s=!1;if(i.holes){for(let a=0;a<i.holes.length;a++)if(i.holes[a].shape.contains(wd.x,wd.y)){s=!0;break}}if(!s)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;let e=this.uvs,t=this.graphicsData,r=null,i=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],i=r.style);for(let o=this.shapeIndex;o<t.length;o++){this.shapeIndex++;let c=t[o],u=c.fillStyle,h=c.lineStyle;Sm[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(u.visible||h.visible)&&this.processHoles(c.holes);for(let d=0;d<2;d++){let f=d===0?u:h;if(!f.visible)continue;let p=f.texture.baseTexture,m=this.indices.length,g=this.points.length/2;p.wrapMode=_o.REPEAT,d===0?this.processFill(c):this.processLine(c);let v=this.points.length/2-g;v!==0&&(r&&!this._compareStyles(i,f)&&(r.end(m,g),r=null),r||(r=Dx.pop()||new yd,r.begin(f,m,g),this.batches.push(r),i=f),this.addUvs(this.points,e,f.texture,g,v,f.matrix))}}let s=this.indices.length,a=this.points.length/2;if(r&&r.end(s,a),this.batches.length===0){this.batchable=!0;return}let l=a>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&l===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=l?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(e,t){return!(!e||!t||e.texture.baseTexture!==t.texture.baseTexture||e.color+e.alpha!==t.color+t.alpha||!!e.native!=!!t.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let e=0,t=this.graphicsData.length;e<t;e++){let r=this.graphicsData[e],i=r.fillStyle,s=r.lineStyle;if(i&&!i.texture.baseTexture.valid||s&&!s.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);let e=this.batches;for(let t=0,r=e.length;t<r;t++){let i=e[t];for(let s=0;s<i.size;s++){let a=i.start+s;this.indicesUint16[a]=this.indicesUint16[a]-i.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;let e=this.batches;for(let t=0;t<e.length;t++)if(e[t].style.native)return!1;return this.points.length<UF.BATCHABLE_SIZE*2}buildDrawCalls(){let e=++Ee._globalBatch;for(let h=0;h<this.drawCalls.length;h++)this.drawCalls[h].texArray.clear(),_d.push(this.drawCalls[h]);this.drawCalls.length=0;let t=this.colors,r=this.textureIds,i=_d.pop();i||(i=new Oa,i.texArray=new ka),i.texArray.count=0,i.start=0,i.size=0,i.type=Yn.TRIANGLES;let s=0,a=null,l=0,o=!1,c=Yn.TRIANGLES,u=0;this.drawCalls.push(i);for(let h=0;h<this.batches.length;h++){let d=this.batches[h],f=8,p=d.style,m=p.texture.baseTexture;o!==!!p.native&&(o=!!p.native,c=o?Yn.LINES:Yn.TRIANGLES,a=null,s=f,e++),a!==m&&(a=m,m._batchEnabled!==e&&(s===f&&(e++,s=0,i.size>0&&(i=_d.pop(),i||(i=new Oa,i.texArray=new ka),this.drawCalls.push(i)),i.start=u,i.size=0,i.texArray.count=0,i.type=c),m.touched=1,m._batchEnabled=e,m._batchLocation=s,m.wrapMode=_o.REPEAT,i.texArray.elements[i.texArray.count++]=m,s++)),i.size+=d.size,u+=d.size,l=m._batchLocation,this.addColors(t,p.color,p.alpha,d.attribSize,d.attribStart),this.addTextureIds(r,l,d.attribSize,d.attribStart)}Ee._globalBatch=e,this.packAttributes()}packAttributes(){let e=this.points,t=this.uvs,r=this.colors,i=this.textureIds,s=new ArrayBuffer(e.length*3*4),a=new Float32Array(s),l=new Uint32Array(s),o=0;for(let c=0;c<e.length/2;c++)a[o++]=e[c*2],a[o++]=e[c*2+1],a[o++]=t[c*2],a[o++]=t[c*2+1],l[o++]=r[c],a[o++]=i[c];this._buffer.update(s),this._indexBuffer.update(this.indicesUint16)}processFill(e){e.holes.length?wm.triangulate(e,this):Sm[e.type].triangulate(e,this)}processLine(e){Em(e,this);for(let t=0;t<e.holes.length;t++)Em(e.holes[t],this)}processHoles(e){for(let t=0;t<e.length;t++){let r=e[t];Sm[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){let e=this._bounds;e.clear(),e.addVertexData(this.points,0,this.points.length),e.pad(this.boundsPadding,this.boundsPadding)}transformPoints(e,t){for(let r=0;r<e.length/2;r++){let i=e[r*2],s=e[r*2+1];e[r*2]=t.a*i+t.c*s+t.tx,e[r*2+1]=t.b*i+t.d*s+t.ty}}addColors(e,t,r,i,s=0){let a=et.shared.setValue(t).toLittleEndianNumber(),l=et.shared.setValue(a).toPremultiplied(r);e.length=Math.max(e.length,s+i);for(let o=0;o<i;o++)e[s+o]=l}addTextureIds(e,t,r,i=0){e.length=Math.max(e.length,i+r);for(let s=0;s<r;s++)e[i+s]=t}addUvs(e,t,r,i,s,a=null){let l=0,o=t.length,c=r.frame;for(;l<s;){let h=e[(i+l)*2],d=e[(i+l)*2+1];if(a){let f=a.a*h+a.c*d+a.tx;d=a.b*h+a.d*d+a.ty,h=f}l++,t.push(h/c.width,d/c.height)}let u=r.baseTexture;(c.width<u.width||c.height<u.height)&&this.adjustUvs(t,r,o,s)}adjustUvs(e,t,r,i){let s=t.baseTexture,a=1e-6,l=r+i*2,o=t.frame,c=o.width/s.width,u=o.height/s.height,h=o.x/o.width,d=o.y/o.height,f=Math.floor(e[r]+a),p=Math.floor(e[r+1]+a);for(let m=r+2;m<l;m+=2)f=Math.min(f,Math.floor(e[m]+a)),p=Math.min(p,Math.floor(e[m+1]+a));h-=f,d-=p;for(let m=r;m<l;m+=2)e[m]=(e[m]+h)*c,e[m+1]=(e[m+1]+d)*u}};VF.BATCHABLE_SIZE=100;var gC=VF;var ru=class n{constructor(){this.color=16777215,this.alpha=1,this.texture=rt.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){let e=new n;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=rt.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}};var Cm=class n extends ru{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Bi.BUTT,this.join=Zn.MITER,this.miterLimit=10}clone(){let e=new n;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1,this.cap=Bi.BUTT,this.join=Zn.MITER,this.miterLimit=10}};var yC={},xC=class Rx extends wn{constructor(e=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new ru,this._lineStyle=new Cm,this._matrix=null,this._holeMode=!1,this.state=Br.for2d(),this._geometry=e||new gC,this._geometry.refCount++,this._transformID=-1,this._tintColor=new et(16777215),this.blendMode=ne.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Rx(this._geometry)}set blendMode(e){this.state.blendMode=e}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(e=null,t=0,r,i=.5,s=!1){return typeof e=="number"&&(e={width:e,color:t,alpha:r,alignment:i,native:s}),this.lineTextureStyle(e)}lineTextureStyle(e){let t={width:0,texture:rt.WHITE,color:e?.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Bi.BUTT,join:Zn.MITER,miterLimit:10};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();let r=e.width>0&&e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._lineStyle,{visible:r},e)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){let e=this.currentPath.points,t=this.currentPath.points.length;t>2&&(this.drawShape(this.currentPath),this.currentPath=new Fi,this.currentPath.closeStroke=!1,this.currentPath.points.push(e[t-2],e[t-1]))}else this.currentPath=new Fi,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(e,t){return this.startPoly(),this.currentPath.points[0]=e,this.currentPath.points[1]=t,this}lineTo(e,t){this.currentPath||this.moveTo(0,0);let r=this.currentPath.points,i=r[r.length-2],s=r[r.length-1];return(i!==e||s!==t)&&r.push(e,t),this}_initCurve(e=0,t=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[e,t]):this.moveTo(e,t)}quadraticCurveTo(e,t,r,i){this._initCurve();let s=this.currentPath.points;return s.length===0&&this.moveTo(0,0),vd.curveTo(e,t,r,i,s),this}bezierCurveTo(e,t,r,i,s,a){return this._initCurve(),xd.curveTo(e,t,r,i,s,a,this.currentPath.points),this}arcTo(e,t,r,i,s){this._initCurve(e,t);let a=this.currentPath.points,l=tu.curveTo(e,t,r,i,s,a);if(l){let{cx:o,cy:c,radius:u,startAngle:h,endAngle:d,anticlockwise:f}=l;this.arc(o,c,u,h,d,f)}return this}arc(e,t,r,i,s,a=!1){if(i===s)return this;if(!a&&s<=i?s+=Na:a&&i<=s&&(i+=Na),s-i===0)return this;let l=e+Math.cos(i)*r,o=t+Math.sin(i)*r,c=this._geometry.closePointEps,u=this.currentPath?this.currentPath.points:null;if(u){let h=Math.abs(u[u.length-2]-l),d=Math.abs(u[u.length-1]-o);h<c&&d<c||u.push(l,o)}else this.moveTo(l,o),u=this.currentPath.points;return tu.arc(l,o,e,t,r,i,s,a,u),this}beginFill(e=0,t){return this.beginTextureFill({texture:rt.WHITE,color:e,alpha:t})}normalizeColor(e){let t=et.shared.setValue(e.color??0);e.color=t.toNumber(),e.alpha??(e.alpha=t.alpha)}beginTextureFill(e){let t={texture:rt.WHITE,color:16777215,matrix:null};e=Object.assign(t,e),this.normalizeColor(e),this.currentPath&&this.startPoly();let r=e.alpha>0;return r?(e.matrix&&(e.matrix=e.matrix.clone(),e.matrix.invert()),Object.assign(this._fillStyle,{visible:r},e)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(e,t,r,i){return this.drawShape(new be(e,t,r,i))}drawRoundedRect(e,t,r,i,s){return this.drawShape(new Qh(e,t,r,i,s))}drawCircle(e,t,r){return this.drawShape(new qh(e,t,r))}drawEllipse(e,t,r,i){return this.drawShape(new Zh(e,t,r,i))}drawPolygon(...e){let t,r=!0,i=e[0];i.points?(r=i.closeStroke,t=i.points):Array.isArray(e[0])?t=e[0]:t=e;let s=new Fi(t);return s.closeStroke=r,this.drawShape(s),this}drawShape(e){return this._holeMode?this._geometry.drawHole(e,this._matrix):this._geometry.drawShape(e,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){let e=this._geometry.graphicsData;return e.length===1&&e[0].shape.type===mt.RECT&&!e[0].matrix&&!e[0].holes.length&&!(e[0].lineStyle.visible&&e[0].lineStyle.width)}_render(e){this.finishPoly();let t=this._geometry;t.updateBatches(),t.batchable?(this.batchDirty!==t.batchDirty&&this._populateBatches(),this._renderBatched(e)):(e.batch.flush(),this._renderDirect(e))}_populateBatches(){let e=this._geometry,t=this.blendMode,r=e.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=e.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(e.points);for(let i=0;i<r;i++){let s=e.batches[i],a=s.style.color,l=new Float32Array(this.vertexData.buffer,s.attribStart*4*2,s.attribSize*2),o=new Float32Array(e.uvsFloat32.buffer,s.attribStart*4*2,s.attribSize*2),c=new Uint16Array(e.indicesUint16.buffer,s.start*2,s.size),u={vertexData:l,blendMode:t,indices:c,uvs:o,_batchRGB:et.shared.setValue(a).toRgbArray(),_tintRGB:a,_texture:s.style.texture,alpha:s.style.alpha,worldAlpha:1};this.batches[i]=u}}_renderBatched(e){if(this.batches.length){e.batch.setObjectRenderer(e.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let t=0,r=this.batches.length;t<r;t++){let i=this.batches[t];i.worldAlpha=this.worldAlpha*i.alpha,e.plugins[this.pluginName].render(i)}}}_renderDirect(e){let t=this._resolveDirectShader(e),r=this._geometry,i=this.worldAlpha,s=t.uniforms,a=r.drawCalls;s.translationMatrix=this.transform.worldTransform,et.shared.setValue(this._tintColor).premultiply(i).toArray(s.tint),e.shader.bind(t),e.geometry.bind(r,t),e.state.set(this.state);for(let l=0,o=a.length;l<o;l++)this._renderDrawCallDirect(e,r.drawCalls[l])}_renderDrawCallDirect(e,t){let{texArray:r,type:i,size:s,start:a}=t,l=r.count;for(let o=0;o<l;o++)e.texture.bind(r.elements[o],o);e.geometry.draw(i,s,a)}_resolveDirectShader(e){let t=this.shader,r=this.pluginName;if(!t){if(!yC[r]){let{maxTextures:i}=e.plugins[r],s=new Int32Array(i);for(let o=0;o<i;o++)s[o]=o;let a={tint:new Float32Array([1,1,1,1]),translationMatrix:new ke,default:ar.from({uSamplers:s},!0)},l=e.plugins[r]._shader.program;yC[r]=new ss(l,a)}t=yC[r]}return t}_calculateBounds(){this.finishPoly();let e=this._geometry;if(!e.graphicsData.length)return;let{minX:t,minY:r,maxX:i,maxY:s}=e.bounds;this._bounds.addFrame(this.transform,t,r,i,s)}containsPoint(e){return this.worldTransform.applyInverse(e,Rx._TEMP_POINT),this._geometry.containsPoint(Rx._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let e=0;e<this.batches.length;e++){let t=this.batches[e];t._tintRGB=et.shared.setValue(this._tintColor).multiply(t._batchRGB).toLittleEndianNumber()}}}calculateVertices(){let e=this.transform._worldID;if(this._transformID===e)return;this._transformID=e;let t=this.transform.worldTransform,r=t.a,i=t.b,s=t.c,a=t.d,l=t.tx,o=t.ty,c=this._geometry.points,u=this.vertexData,h=0;for(let d=0;d<c.length;d+=2){let f=c[d],p=c[d+1];u[h++]=r*f+s*p+l,u[h++]=a*p+i*f+o}}closePath(){let e=this.currentPath;return e&&(e.closeStroke=!0,this.finishPoly()),this}setMatrix(e){return this._matrix=e,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(e){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(e)}};xC.curves=Vi,xC._TEMP_POINT=new nt;var Px=xC;var Ga=[0,0,0],Ox=class extends xm{constructor(){super(...arguments),this.region=null,this.attachment=null}},Nx=class extends bm{constructor(e,t,r,i,s){super(e,t,r,i,s),this.region=null,this.attachment=null}},jF=class extends wn{constructor(n){if(super(),!n)throw new Error("The spineData param is required.");if(typeof n=="string")throw new Error('spineData param cant be string. Please use spine.Spine.fromAtlas("YOUR_RESOURCE_NAME") from now on.');this.spineData=n,this.createSkeleton(n),this.slotContainers=[],this.tempClipContainers=[];for(let e=0,t=this.skeleton.slots.length;e<t;e++){let r=this.skeleton.slots[e],i=r.getAttachment(),s=this.newContainer();if(this.slotContainers.push(s),this.addChild(s),this.tempClipContainers.push(null),!!i)if(i.type===le.Region){let a=i.name,l=this.createSprite(r,i,a);r.currentSprite=l,r.currentSpriteName=a,s.addChild(l)}else if(i.type===le.Mesh){let a=this.createMesh(r,i);r.currentMesh=a,r.currentMeshId=i.id,r.currentMeshName=i.name,s.addChild(a)}else i.type===le.Clipping&&(this.createGraphics(r,i),s.addChild(r.clippingContainer),s.addChild(r.currentGraphics))}this.tintRgb=new Float32Array([1,1,1]),this.autoUpdate=!0,this.visible=!0}get debug(){return this._debug}set debug(n){n!=this._debug&&(this._debug?.unregisterSpine(this),n?.registerSpine(this),this._debug=n)}get autoUpdate(){return this._autoUpdate}set autoUpdate(n){n!==this._autoUpdate&&(this._autoUpdate=n,this.updateTransform=n?jF.prototype.autoUpdateTransform:wn.prototype.updateTransform)}get tint(){return de.rgb2hex(this.tintRgb)}set tint(n){this.tintRgb=de.hex2rgb(n,this.tintRgb)}get delayLimit(){return(typeof this.localDelayLimit<"u"?this.localDelayLimit:Ct.GLOBAL_DELAY_LIMIT)||Number.MAX_VALUE}update(n){let e=this.delayLimit;if(n>e&&(n=e),this.state.update(n),this.state.apply(this.skeleton),!this.skeleton)return;this.skeleton.updateWorldTransform();let t=this.skeleton.slots,r=this.color,i=null,s=null;r?(i=r.light,s=r.dark):i=this.tintRgb;for(let c=0,u=t.length;c<u;c++){let h=t[c],d=h.getAttachment(),f=this.slotContainers[c];if(!d){f.visible=!1;continue}let p=null;d.sequence&&d.sequence.apply(h,d);let m=d.region,g=d.color;switch(d!=null&&d.type){case le.Region:if(f.transform.setFromMatrix(h.bone.matrix),m=d.region,h.currentMesh&&(h.currentMesh.visible=!1,h.currentMesh=null,h.currentMeshId=void 0,h.currentMeshName=void 0),!m){h.currentSprite&&(h.currentSprite.renderable=!1);break}if(!h.currentSpriteName||h.currentSpriteName!==d.name){let y=d.name;if(h.currentSprite&&(h.currentSprite.visible=!1),h.sprites=h.sprites||{},h.sprites[y]!==void 0)h.sprites[y].visible=!0;else{let _=this.createSprite(h,d,y);f.addChild(_)}h.currentSprite=h.sprites[y],h.currentSpriteName=y}h.currentSprite.renderable=!0,h.hackRegion||this.setSpriteRegion(d,h.currentSprite,m),h.currentSprite.color?p=h.currentSprite.color:(Ga[0]=i[0]*h.color.r*g.r,Ga[1]=i[1]*h.color.g*g.g,Ga[2]=i[2]*h.color.b*g.b,h.currentSprite.tint=de.rgb2hex(Ga)),h.currentSprite.blendMode=h.blendMode;break;case le.Mesh:if(h.currentSprite){h.currentSprite.visible=!1,h.currentSprite=null,h.currentSpriteName=void 0;let y=new Fa;y._parentID=-1,y._worldID=f.transform._worldID,f.transform=y}if(!m){h.currentMesh&&(h.currentMesh.renderable=!1);break}let x=d.id;if(h.currentMeshId===void 0||h.currentMeshId!==x){let y=x;if(h.currentMesh&&(h.currentMesh.visible=!1),h.meshes=h.meshes||{},h.meshes[y]!==void 0)h.meshes[y].visible=!0;else{let _=this.createMesh(h,d);f.addChild(_)}h.currentMesh=h.meshes[y],h.currentMeshName=d.name,h.currentMeshId=y}h.currentMesh.renderable=!0,d.computeWorldVerticesOld(h,h.currentMesh.vertices),h.currentMesh.color?p=h.currentMesh.color:(Ga[0]=i[0]*h.color.r*g.r,Ga[1]=i[1]*h.color.g*g.g,Ga[2]=i[2]*h.color.b*g.b,h.currentMesh.tint=de.rgb2hex(Ga)),h.currentMesh.blendMode=h.blendMode,h.hackRegion||this.setMeshRegion(d,h.currentMesh,m);break;case le.Clipping:h.currentGraphics||(this.createGraphics(h,d),f.addChild(h.clippingContainer),f.addChild(h.currentGraphics)),this.updateGraphics(h,d),f.alpha=1,f.visible=!0;continue;default:f.visible=!1;continue}if(f.visible=!0,p){let v=h.color.r*g.r,x=h.color.g*g.g,y=h.color.b*g.b;p.setLight(i[0]*v+s[0]*(1-v),i[1]*x+s[1]*(1-x),i[2]*y+s[2]*(1-y)),h.darkColor?(v=h.darkColor.r,x=h.darkColor.g,y=h.darkColor.b):(v=0,x=0,y=0),p.setDark(i[0]*v+s[0]*(1-v),i[1]*x+s[1]*(1-x),i[2]*y+s[2]*(1-y))}f.alpha=h.color.a}let a=this.skeleton.drawOrder,l=null,o=null;for(let c=0,u=a.length;c<u;c++){let h=t[a[c].data.index],d=this.slotContainers[a[c].data.index];if(o||d.parent!==null&&d.parent!==this&&(d.parent.removeChild(d),d.parent=this),h.currentGraphics&&h.getAttachment())o=h.clippingContainer,l=h.getAttachment(),o.children.length=0,this.children[c]=d,l.endSlot===h.data&&(l.endSlot=null);else if(o){let f=this.tempClipContainers[c];f||(f=this.tempClipContainers[c]=this.newContainer(),f.visible=!1),this.children[c]=f,d.parent=null,o.addChild(d),l.endSlot==h.data&&(o.renderable=!0,o=null,l=null)}else this.children[c]=d}this._debug?.renderDebug(this)}setSpriteRegion(n,e,t){e.attachment===n&&e.region===t||(e.region=t,e.attachment=n,e.texture=t.texture,e.rotation=n.rotation*D.degRad,e.position.x=n.x,e.position.y=n.y,e.alpha=n.color.a,t.size?(e.scale.x=t.size.width/t.originalWidth,e.scale.y=-t.size.height/t.originalHeight):(e.scale.x=n.scaleX*n.width/t.originalWidth,e.scale.y=-n.scaleY*n.height/t.originalHeight))}setMeshRegion(n,e,t){e.attachment===n&&e.region===t||(e.region=t,e.attachment=n,e.texture=t.texture,t.texture.updateUvs(),e.uvBuffer.update(n.regionUVs))}autoUpdateTransform(){if(Ct.GLOBAL_AUTO_UPDATE){this.lastTime=this.lastTime||Date.now();let n=(Date.now()-this.lastTime)*.001;this.lastTime=Date.now(),this.update(n)}else this.lastTime=0;wn.prototype.updateTransform.call(this)}createSprite(n,e,t){let r=e.region;n.hackAttachment===e&&(r=n.hackRegion);let i=r?r.texture:null,s=this.newSprite(i);return s.anchor.set(.5),r&&this.setSpriteRegion(e,s,e.region),n.sprites=n.sprites||{},n.sprites[t]=s,s}createMesh(n,e){!e.region&&e.sequence&&e.sequence.apply(n,e);let t=e.region;n.hackAttachment===e&&(t=n.hackRegion,n.hackAttachment=null,n.hackRegion=null);let r=this.newMesh(t?t.texture:null,new Float32Array(e.regionUVs.length),e.regionUVs,new Uint16Array(e.triangles),Yn.TRIANGLES);return typeof r._canvasPadding<"u"&&(r._canvasPadding=1.5),r.alpha=e.color.a,r.region=e.region,t&&this.setMeshRegion(e,r,t),n.meshes=n.meshes||{},n.meshes[e.id]=r,r}createGraphics(n,e){let t=this.newGraphics(),r=new Fi([]);return t.clear(),t.beginFill(16777215,1),t.drawPolygon(r),t.renderable=!1,n.currentGraphics=t,n.clippingContainer=this.newContainer(),n.clippingContainer.mask=n.currentGraphics,t}updateGraphics(n,e){let t=n.currentGraphics.geometry,r=t.graphicsData[0].shape.points,i=e.worldVerticesLength;r.length=i,e.computeWorldVertices(n,0,i,r,0,2),t.invalidate()}hackTextureBySlotIndex(n,e=null,t=null){let r=this.skeleton.slots[n];if(!r)return!1;let i=r.getAttachment(),s=i.region;return e?(s=new Va,s.texture=e,s.size=t,r.hackRegion=s,r.hackAttachment=i):(r.hackRegion=null,r.hackAttachment=null),r.currentSprite?this.setSpriteRegion(i,r.currentSprite,s):r.currentMesh&&this.setMeshRegion(i,r.currentMesh,s),!0}hackTextureBySlotName(n,e=null,t=null){let r=this.skeleton.findSlotIndex(n);return r==-1?!1:this.hackTextureBySlotIndex(r,e,t)}hackTextureAttachment(n,e,t,r=null){let i=this.skeleton.findSlotIndex(n),s=this.skeleton.getAttachmentByName(n,e);s.region.texture=t;let a=this.skeleton.slots[i];if(!a)return!1;let l=a.getAttachment();if(e===l.name){let o=s.region;return t?(o=new Va,o.texture=t,o.size=r,a.hackRegion=o,a.hackAttachment=l):(a.hackRegion=null,a.hackAttachment=null),a.currentSprite&&a.currentSprite.region!=o?(this.setSpriteRegion(l,a.currentSprite,o),a.currentSprite.region=o):a.currentMesh&&a.currentMesh.region!=o&&this.setMeshRegion(l,a.currentMesh,o),!0}return!1}newContainer(){return new wn}newSprite(n){return new Ox(n)}newGraphics(){return new Px}newMesh(n,e,t,r,i){return new Nx(n,e,t,r,i)}transformHack(){return 1}hackAttachmentGroups(n,e,t){if(!n)return;let r=[],i=[];for(let s=0,a=this.skeleton.slots.length;s<a;s++){let l=this.skeleton.slots[s],o=l.currentSpriteName||l.currentMeshName||"",c=l.currentSprite||l.currentMesh;o.endsWith(n)?(c.parentGroup=e,i.push(c)):t&&c&&(c.parentGroup=t,r.push(c))}return[r,i]}destroy(n){this.debug=null;for(let e=0,t=this.skeleton.slots.length;e<t;e++){let r=this.skeleton.slots[e];for(let i in r.meshes)r.meshes[i].destroy(n);r.meshes=null;for(let i in r.sprites)r.sprites[i].destroy(n);r.sprites=null}for(let e=0,t=this.slotContainers.length;e<t;e++)this.slotContainers[e].destroy(n);this.spineData=null,this.skeleton=null,this.slotContainers=null,this.stateData=null,this.state=null,this.tempClipContainers=null,super.destroy(n)}},ls=jF;ls.clippingPolygon=[];Object.defineProperty(ls.prototype,"visible",{get(){return this._visible},set(n){n!==this._visible&&(this._visible=n,n&&(this.lastTime=0))}});var GF={loader:Q.LoadParser,resolver:Q.ResolveParser,cache:Q.CacheParser,detection:Q.DetectionParser};K.handle(Q.Asset,n=>{let e=n.ref;Object.entries(GF).filter(([t])=>!!e[t]).forEach(([t,r])=>K.add(Object.assign(e[t],{extension:e[t].extension??r})))},n=>{let e=n.ref;Object.keys(GF).filter(t=>!!e[t]).forEach(t=>K.remove(e[t]))});var Fx=class{constructor(e,t=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=t}add(e){e.forEach(t=>{this._assetList.push(t)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}_next(){return B(this,null,function*(){if(this._assetList.length&&this._isActive){this._isLoading=!0;let e=[],t=Math.min(this._assetList.length,this._maxConcurrent);for(let r=0;r<t;r++)e.push(this._assetList.pop());yield this._loader.load(e),this._isLoading=!1,this._next()}})}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}};function Ur(n,e){if(Array.isArray(e)){for(let t of e)if(n.startsWith(`data:${t}`))return!0;return!1}return n.startsWith(`data:${e}`)}function Wt(n,e){let t=n.split("?")[0],r=de.path.extname(t).toLowerCase();return Array.isArray(e)?e.includes(r):r===e}var Fn=(n,e,t=!1)=>(Array.isArray(n)||(n=[n]),e?n.map(r=>typeof r=="string"||t?e(r):r):n);function $F(n,e,t,r,i){let s=e[t];for(let a=0;a<s.length;a++){let l=s[a];t<e.length-1?$F(n.replace(r[t],l),e,t+1,r,i):i.push(n.replace(r[t],l))}}function kx(n){let e=/\{(.*?)\}/g,t=n.match(e),r=[];if(t){let i=[];t.forEach(s=>{let a=s.substring(1,s.length-1).split(",");i.push(a)}),$F(n,i,0,t,r)}else r.push(n);return r}var Mo=n=>!Array.isArray(n);var vC=class{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){let t=this._cache.get(e);return t||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),t}set(e,t){let r=Fn(e),i;for(let l=0;l<this.parsers.length;l++){let o=this.parsers[l];if(o.test(t)){i=o.getCacheableAssets(r,t);break}}i||(i={},r.forEach(l=>{i[l]=t}));let s=Object.keys(i),a={cacheKeys:s,keys:r};if(r.forEach(l=>{this._cacheMap.set(l,a)}),s.forEach(l=>{let o=i?i[l]:t;this._cache.has(l)&&this._cache.get(l)!==o&&console.warn("[Cache] already has key:",l),this._cache.set(l,i[l])}),t instanceof rt){let l=t;r.forEach(o=>{l.baseTexture!==rt.EMPTY.baseTexture&&Ee.addToCache(l.baseTexture,o),rt.addToCache(l,o)})}}remove(e){if(!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}let t=this._cacheMap.get(e);t.cacheKeys.forEach(r=>{this._cache.delete(r)}),t.keys.forEach(r=>{this._cacheMap.delete(r)})}get parsers(){return this._parsers}},cs=new vC;var Lx=class{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,t,r)=>(this._parsersValidated=!1,e[t]=r,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,t){let r={promise:null,parser:null};return r.promise=B(this,null,function*(){let i=null,s=null;if(t.loadParser&&(s=this._parserHash[t.loadParser],s||console.warn(`[Assets] specified load parser "${t.loadParser}" not found while loading ${e}`)),!s){for(let a=0;a<this.parsers.length;a++){let l=this.parsers[a];if(l.load&&l.test?.(e,t,this)){s=l;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=yield s.load(e,t,this),r.parser=s;for(let a=0;a<this.parsers.length;a++){let l=this.parsers[a];l.parse&&l.parse&&(yield l.testParse?.(i,t,this))&&(i=(yield l.parse(i,t,this))||i,r.parser=l)}return i}),r}load(e,t){return B(this,null,function*(){this._parsersValidated||this._validateParsers();let r=0,i={},s=Mo(e),a=Fn(e,c=>({alias:[c],src:c})),l=a.length,o=a.map(c=>B(this,null,function*(){let u=de.path.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[u]||(this.promiseCache[u]=this._getLoadPromiseAndParser(u,c)),i[c.src]=yield this.promiseCache[u].promise,t&&t(++r/l)}catch(h){throw delete this.promiseCache[u],delete i[c.src],new Error(`[Loader.load] Failed to load ${u}.
${h}`)}}));return yield Promise.all(o),s?i[a[0].src]:i})}unload(e){return B(this,null,function*(){let t=Fn(e,r=>({alias:[r],src:r})).map(r=>B(this,null,function*(){let i=de.path.toAbsolute(r.src),s=this.promiseCache[i];if(s){let a=yield s.promise;delete this.promiseCache[i],s.parser?.unload?.(a,r,this)}}));yield Promise.all(t)})}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,t)=>(e[t.name]&&console.warn(`[Assets] loadParser name conflict "${t.name}"`),ve(W({},e),{[t.name]:t})),{})}};var dn=(n=>(n[n.Low=0]="Low",n[n.Normal=1]="Normal",n[n.High=2]="High",n))(dn||{});var m5=".json",g5="application/json",_C={extension:{type:Q.LoadParser,priority:dn.Low},name:"loadJson",test(n){return Ur(n,g5)||Wt(n,m5)},load(n){return B(this,null,function*(){return yield(yield J.ADAPTER.fetch(n)).json()})}};K.add(_C);var y5=".txt",x5="text/plain",bC={name:"loadTxt",extension:{type:Q.LoadParser,priority:dn.Low},test(n){return Ur(n,x5)||Wt(n,y5)},load(n){return B(this,null,function*(){return yield(yield J.ADAPTER.fetch(n)).text()})}};K.add(bC);var v5=["normal","bold","100","200","300","400","500","600","700","800","900"],_5=[".ttf",".otf",".woff",".woff2"],b5=["font/ttf","font/otf","font/woff","font/woff2"],w5=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function wC(n){let e=de.path.extname(n),t=de.path.basename(n,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1)),r=t.length>0;for(let s of t)if(!s.match(w5)){r=!1;break}let i=t.join(" ");return r||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}var E5=/^[0-9A-Za-z%:/?#\[\]@!\$&'()\*\+,;=\-._~]*$/;function S5(n){return E5.test(n)?n:encodeURI(n)}var EC={extension:{type:Q.LoadParser,priority:dn.Low},name:"loadWebFont",test(n){return Ur(n,b5)||Wt(n,_5)},load(n,e){return B(this,null,function*(){let t=J.ADAPTER.getFontFaceSet();if(t){let r=[],i=e.data?.family??wC(n),s=e.data?.weights?.filter(l=>v5.includes(l))??["normal"],a=e.data??{};for(let l=0;l<s.length;l++){let o=s[l],c=new FontFace(i,`url(${S5(n)})`,ve(W({},a),{weight:o}));yield c.load(),t.add(c),r.push(c)}return r.length===1?r[0]:r}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null})},unload(n){(Array.isArray(n)?n:[n]).forEach(e=>J.ADAPTER.getFontFaceSet().delete(e))}};K.add(EC);var C5=`(function() {
  "use strict";
  const WHITE_PNG = "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=";
  async function checkImageBitmap() {
    try {
      if (typeof createImageBitmap != "function")
        return !1;
      const imageBlob = await (await fetch(WHITE_PNG)).blob(), imageBitmap = await createImageBitmap(imageBlob);
      return imageBitmap.width === 1 && imageBitmap.height === 1;
    } catch {
      return !1;
    }
  }
  checkImageBitmap().then((result) => {
    self.postMessage(result);
  });
})();
`,Ed=null,SC=(()=>{class n{constructor(){Ed||(Ed=URL.createObjectURL(new Blob([C5],{type:"application/javascript"}))),this.worker=new Worker(Ed)}}return n.revokeObjectURL=function(){Ed&&(URL.revokeObjectURL(Ed),Ed=null)},n})();var A5=`(function() {
  "use strict";
  async function loadImageBitmap(url) {
    const response = await fetch(url);
    if (!response.ok)
      throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \${response.status} \${response.statusText}\`);
    const imageBlob = await response.blob();
    return await createImageBitmap(imageBlob);
  }
  self.onmessage = async (event) => {
    try {
      const imageBitmap = await loadImageBitmap(event.data.data[0]);
      self.postMessage({
        data: imageBitmap,
        uuid: event.data.uuid,
        id: event.data.id
      }, [imageBitmap]);
    } catch (e) {
      self.postMessage({
        error: e,
        uuid: event.data.uuid,
        id: event.data.id
      });
    }
  };
})();
`,Sd=null,HF=(()=>{class n{constructor(){Sd||(Sd=URL.createObjectURL(new Blob([A5],{type:"application/javascript"}))),this.worker=new Worker(Sd)}}return n.revokeObjectURL=function(){Sd&&(URL.revokeObjectURL(Sd),Sd=null)},n})();var WF=0,CC,AC=class{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{let{worker:t}=new SC;t.addEventListener("message",r=>{t.terminate(),SC.revokeObjectURL(),e(r.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}_initWorkers(){return B(this,null,function*(){this._initialized||(this._initialized=!0)})}getWorker(){CC===void 0&&(CC=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<CC&&(this._createdWorkers++,e=new HF().worker,e.addEventListener("message",t=>{this.complete(t.data),this.returnWorker(t.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}_run(e,t){return B(this,null,function*(){yield this._initWorkers();let r=new Promise((i,s)=>{this.queue.push({id:e,arguments:t,resolve:i,reject:s})});return this.next(),r})}next(){if(!this.queue.length)return;let e=this.getWorker();if(!e)return;let t=this.queue.pop(),r=t.id;this.resolveHash[WF]={resolve:t.resolve,reject:t.reject},e.postMessage({data:t.arguments,uuid:WF++,id:r})}},TC=new AC;function $a(n,e,t){n.resource.internal=!0;let r=new rt(n),i=()=>{delete e.promiseCache[t],cs.has(t)&&cs.remove(t)};return r.baseTexture.once("destroyed",()=>{t in e.promiseCache&&(console.warn("[Assets] A BaseTexture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the BaseTexture."),i())}),r.once("destroyed",()=>{n.destroyed||(console.warn("[Assets] A Texture managed by Assets was destroyed instead of unloaded! Use Assets.unload() instead of destroying the Texture."),i())}),r}var T5=[".jpeg",".jpg",".png",".webp",".avif"],M5=["image/jpeg","image/png","image/webp","image/avif"];function MC(n){return B(this,null,function*(){let e=yield J.ADAPTER.fetch(n);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${n}: ${e.status} ${e.statusText}`);let t=yield e.blob();return yield createImageBitmap(t)})}var Io={name:"loadTextures",extension:{type:Q.LoadParser,priority:dn.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(n){return Ur(n,M5)||Wt(n,T5)},load(n,e,t){return B(this,null,function*(){let r=globalThis.createImageBitmap&&this.config.preferCreateImageBitmap,i;r?this.config.preferWorkers&&(yield TC.isImageBitmapSupported())?i=yield TC.loadImageBitmap(n):i=yield MC(n):i=yield new Promise((l,o)=>{let c=new Image;c.crossOrigin=this.config.crossOrigin,c.src=n,c.complete?l(c):(c.onload=()=>l(c),c.onerror=u=>o(u))});let s=W({},e.data);s.resolution??(s.resolution=de.getResolutionOfUrl(n)),r&&s.resourceOptions?.ownsImageBitmap===void 0&&(s.resourceOptions=W({},s.resourceOptions),s.resourceOptions.ownsImageBitmap=!0);let a=new Ee(i,s);return a.resource.src=n,$a(a,t,n)})},unload(n){n.destroy(!0)}};K.add(Io);var I5=".svg",D5="image/svg+xml",IC={extension:{type:Q.LoadParser,priority:dn.High},name:"loadSVG",test(n){return Ur(n,D5)||Wt(n,I5)},testParse(n){return B(this,null,function*(){return md.test(n)})},parse(n,e,t){return B(this,null,function*(){let r=new md(n,e?.data?.resourceOptions);yield r.load();let i=new Ee(r,W({resolution:de.getResolutionOfUrl(n)},e?.data));return i.resource.src=e.src,$a(i,t,e.src)})},load(n,e){return B(this,null,function*(){return(yield J.ADAPTER.fetch(n)).text()})},unload:Io.unload};K.add(IC);var R5=[".mp4",".m4v",".webm",".ogv"],P5=["video/mp4","video/webm","video/ogg"],DC={name:"loadVideo",extension:{type:Q.LoadParser,priority:dn.High},config:{defaultAutoPlay:!0,defaultUpdateFPS:0,defaultLoop:!1,defaultMuted:!1,defaultPlaysinline:!0},test(n){return Ur(n,P5)||Wt(n,R5)},load(n,e,t){return B(this,null,function*(){let r,i=yield(yield J.ADAPTER.fetch(n)).blob(),s=URL.createObjectURL(i);try{let a=ve(W({autoPlay:this.config.defaultAutoPlay,updateFPS:this.config.defaultUpdateFPS,loop:this.config.defaultLoop,muted:this.config.defaultMuted,playsinline:this.config.defaultPlaysinline},e?.data?.resourceOptions),{autoLoad:!0}),l=new pm(s,a);yield l.load();let o=new Ee(l,W({alphaMode:yield de.detectVideoAlphaMode(),resolution:de.getResolutionOfUrl(n)},e?.data));o.resource.src=n,r=$a(o,t,n),r.baseTexture.once("destroyed",()=>{URL.revokeObjectURL(s)})}catch(a){throw URL.revokeObjectURL(s),a}return r})},unload(n){n.destroy(!0)}};K.add(DC);var Bx=class{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,t)=>`${e}${this._bundleIdConnector}${t}`,extractAssetIdFromBundle:(e,t)=>t.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(t=>{this._preferredOrder.push(t),t.priority||(t.priority=Object.keys(t.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{let t=e;this._defaultSearchParams=Object.keys(t).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(t[r])}`).join("&")}}getAlias(e){let{alias:t,name:r,src:i,srcs:s}=e;return Fn(t||r||i||s,a=>typeof a=="string"?a:Array.isArray(a)?a.map(l=>l?.src??l?.srcs??l):a?.src||a?.srcs?a.src??a.srcs:a,!0)}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(t=>{this.addBundle(t.name,t.assets)})}addBundle(e,t){let r=[];Array.isArray(t)?t.forEach(i=>{let s=i.src??i.srcs,a=i.alias??i.name,l;if(typeof a=="string"){let o=this._createBundleAssetId(e,a);r.push(o),l=[a,o]}else{let o=a.map(c=>this._createBundleAssetId(e,c));r.push(...o),l=[...a,...o]}this.add(ve(W({},i),{alias:l,src:s}))}):Object.keys(t).forEach(i=>{let s=[i,this._createBundleAssetId(e,i)];if(typeof t[i]=="string")this.add({alias:s,src:t[i]});else if(Array.isArray(t[i]))this.add({alias:s,src:t[i]});else{let a=t[i],l=a.src??a.srcs;this.add(ve(W({},a),{alias:s,src:Array.isArray(l)?l:[l]}))}r.push(...s)}),this._bundles[e]=r}add(e,t,r,i,s){let a=[];typeof e=="string"||Array.isArray(e)&&typeof e[0]=="string"?(de.deprecation("7.2.0",`Assets.add now uses an object instead of individual parameters.
Please use Assets.add({ alias, src, data, format, loadParser }) instead.`),a.push({alias:e,src:t,data:r,format:i,loadParser:s})):Array.isArray(e)?a.push(...e):a.push(e);let l;l=o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)},Fn(a).forEach(o=>{let{src:c,srcs:u}=o,{data:h,format:d,loadParser:f}=o,p=Fn(c||u).map(v=>typeof v=="string"?kx(v):Array.isArray(v)?v:[v]),m=this.getAlias(o);Array.isArray(m)?m.forEach(l):l(m);let g=[];p.forEach(v=>{v.forEach(x=>{let y={};if(typeof x!="object"){y.src=x;for(let _=0;_<this._parsers.length;_++){let b=this._parsers[_];if(b.test(x)){y=b.parse(x);break}}}else h=x.data??h,d=x.format??d,f=x.loadParser??f,y=W(W({},y),x);if(!m)throw new Error(`[Resolver] alias is undefined for this asset: ${y.src}`);y=this.buildResolvedAsset(y,{aliases:m,data:h,format:d,loadParser:f}),g.push(y)})}),m.forEach(v=>{this._assetMap[v]=g})})}resolveBundle(e){let t=Mo(e);e=Fn(e);let r={};return e.forEach(i=>{let s=this._bundles[i];if(s){let a=this.resolve(s),l={};for(let o in a){let c=a[o];l[this._extractAssetIdFromBundle(i,o)]=c}r[i]=l}}),t?r[e[0]]:r}resolveUrl(e){let t=this.resolve(e);if(typeof e!="string"){let r={};for(let i in t)r[i]=t[i].src;return r}return t.src}resolve(e){let t=Mo(e);e=Fn(e);let r={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i],a=s[0],l=this._getPreferredOrder(s);l?.priority.forEach(o=>{l.params[o].forEach(c=>{let u=s.filter(h=>h[o]?h[o]===c:!1);u.length&&(s=u)})}),this._resolverHash[i]=s[0]??a}else this._resolverHash[i]=this.buildResolvedAsset({alias:[i],src:i},{});r[i]=this._resolverHash[i]}),t?r[e[0]]:r}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let t=0;t<e.length;t++){let r=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(r.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;let t=/\?/.test(e)?"&":"?";return`${e}${t}${this._defaultSearchParams}`}buildResolvedAsset(e,t){let{aliases:r,data:i,loadParser:s,format:a}=t;return(this._basePath||this._rootPath)&&(e.src=de.path.toAbsolute(e.src,this._basePath,this._rootPath)),e.alias=r??e.alias??[e.src],e.src=this._appendDefaultSearchParams(e.src),e.data=W(W({},i||{}),e.data),e.loadParser=s??e.loadParser,e.format=a??e.format??de.path.extname(e.src).slice(1),e.srcs=e.src,e.name=e.alias,e}};var Vx=class{constructor(){this._detections=[],this._initialized=!1,this.resolver=new Bx,this.loader=new Lx,this.cache=cs,this._backgroundLoader=new Fx(this.loader),this._backgroundLoader.active=!0,this.reset()}init(){return B(this,arguments,function*(e={}){if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Assets.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let s=e.manifest;typeof s=="string"&&(s=yield this.load(s)),this.resolver.addManifest(s)}let t=e.texturePreference?.resolution??1,r=typeof t=="number"?[t]:t,i=yield this._detectFormats({preferredFormats:e.texturePreference?.format,skipDetections:e.skipDetections,detections:this._detections});this.resolver.prefer({params:{format:i,resolution:r}}),e.preferences&&this.setPreferences(e.preferences)})}add(e,t,r,i,s){this.resolver.add(e,t,r,i,s)}load(e,t){return B(this,null,function*(){this._initialized||(yield this.init());let r=Mo(e),i=Fn(e).map(l=>{if(typeof l!="string"){let o=this.resolver.getAlias(l);return o.some(c=>!this.resolver.hasKey(c))&&this.add(l),Array.isArray(o)?o[0]:o}return this.resolver.hasKey(l)||this.add({alias:l,src:l}),l}),s=this.resolver.resolve(i),a=yield this._mapLoadToResolve(s,t);return r?a[i[0]]:a})}addBundle(e,t){this.resolver.addBundle(e,t)}loadBundle(e,t){return B(this,null,function*(){this._initialized||(yield this.init());let r=!1;typeof e=="string"&&(r=!0,e=[e]);let i=this.resolver.resolveBundle(e),s={},a=Object.keys(i),l=0,o=0,c=()=>{t?.(++l/o)},u=a.map(h=>{let d=i[h];return o+=Object.keys(d).length,this._mapLoadToResolve(d,c).then(f=>{s[h]=f})});return yield Promise.all(u),r?s[e[0]]:s})}backgroundLoad(e){return B(this,null,function*(){this._initialized||(yield this.init()),typeof e=="string"&&(e=[e]);let t=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(t))})}backgroundLoadBundle(e){return B(this,null,function*(){this._initialized||(yield this.init()),typeof e=="string"&&(e=[e]);let t=this.resolver.resolveBundle(e);Object.values(t).forEach(r=>{this._backgroundLoader.add(Object.values(r))})})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return cs.get(e);let t={};for(let r=0;r<e.length;r++)t[r]=cs.get(e[r]);return t}_mapLoadToResolve(e,t){return B(this,null,function*(){let r=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;let s=yield this.loader.load(r,t);this._backgroundLoader.active=!0;let a={};return r.forEach((l,o)=>{let c=s[l.src],u=[l.src];l.alias&&u.push(...l.alias),a[i[o]]=c,cs.set(u,c)}),a})}unload(e){return B(this,null,function*(){this._initialized||(yield this.init());let t=Fn(e).map(i=>typeof i!="string"?i.src:i),r=this.resolver.resolve(t);yield this._unloadFromResolved(r)})}unloadBundle(e){return B(this,null,function*(){this._initialized||(yield this.init()),e=Fn(e);let t=this.resolver.resolveBundle(e),r=Object.keys(t).map(i=>this._unloadFromResolved(t[i]));yield Promise.all(r)})}_unloadFromResolved(e){return B(this,null,function*(){let t=Object.values(e);t.forEach(r=>{cs.remove(r.src)}),yield this.loader.unload(t)})}_detectFormats(e){return B(this,null,function*(){let t=[];e.preferredFormats&&(t=Array.isArray(e.preferredFormats)?e.preferredFormats:[e.preferredFormats]);for(let r of e.detections)e.skipDetections||(yield r.test())?t=yield r.add(t):e.skipDetections||(t=yield r.remove(t));return t=t.filter((r,i)=>t.indexOf(r)===i),t})}get detections(){return this._detections}get preferWorkers(){return Io.config.preferWorkers}set preferWorkers(e){de.deprecation("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(t=>{t.config&&Object.keys(t.config).filter(r=>r in e).forEach(r=>{t.config[r]=e[r]})})}},Am=new Vx;K.handleByList(Q.LoadParser,Am.loader.parsers).handleByList(Q.ResolveParser,Am.resolver.parsers).handleByList(Q.CacheParser,Am.cache.parsers).handleByList(Q.DetectionParser,Am.detections);var RC={extension:Q.CacheParser,test:n=>Array.isArray(n)&&n.every(e=>e instanceof rt),getCacheableAssets:(n,e)=>{let t={};return n.forEach(r=>{e.forEach((i,s)=>{t[r+(s===0?"":s+1)]=i})}),t}};K.add(RC);function Ux(n){return B(this,null,function*(){if("Image"in globalThis)return new Promise(e=>{let t=new Image;t.onload=()=>{e(!0)},t.onerror=()=>{e(!1)},t.src=n});if("createImageBitmap"in globalThis&&"fetch"in globalThis){try{let e=yield(yield fetch(n)).blob();yield createImageBitmap(e)}catch{return!1}return!0}return!1})}var PC={extension:{type:Q.DetectionParser,priority:1},test:()=>B(void 0,null,function*(){return Ux("data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=")}),add:n=>B(void 0,null,function*(){return[...n,"avif"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="avif")})};K.add(PC);var OC={extension:{type:Q.DetectionParser,priority:0},test:()=>B(void 0,null,function*(){return Ux("data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=")}),add:n=>B(void 0,null,function*(){return[...n,"webp"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="webp")})};K.add(OC);var YF=["png","jpg","jpeg"],NC={extension:{type:Q.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:n=>B(void 0,null,function*(){return[...n,...YF]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>!YF.includes(e))})};K.add(NC);var O5="WorkerGlobalScope"in globalThis&&globalThis instanceof globalThis.WorkerGlobalScope;function Cd(n){return O5?!1:document.createElement("video").canPlayType(n)!==""}var FC={extension:{type:Q.DetectionParser,priority:0},test:()=>B(void 0,null,function*(){return Cd("video/webm")}),add:n=>B(void 0,null,function*(){return[...n,"webm"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="webm")})};K.add(FC);var kC={extension:{type:Q.DetectionParser,priority:0},test:()=>B(void 0,null,function*(){return Cd("video/mp4")}),add:n=>B(void 0,null,function*(){return[...n,"mp4","m4v"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="mp4"&&e!=="m4v")})};K.add(kC);var LC={extension:{type:Q.DetectionParser,priority:0},test:()=>B(void 0,null,function*(){return Cd("video/ogg")}),add:n=>B(void 0,null,function*(){return[...n,"ogv"]}),remove:n=>B(void 0,null,function*(){return n.filter(e=>e!=="ogv")})};K.add(LC);var BC={extension:Q.ResolveParser,test:Io.test,parse:n=>({resolution:parseFloat(J.RETINA_PREFIX.exec(n)?.[1]??"1"),format:de.path.extname(n).slice(1),src:n})};K.add(BC);var N5={extension:Q.Asset,loader:{extension:{type:Q.LoadParser,priority:dn.Normal},test(n){return Wt(n,".atlas")},load(n){return B(this,null,function*(){return yield(yield J.ADAPTER.fetch(n)).text()})},testParse(n,e){let t=Wt(e.src,".atlas"),r=typeof n=="string";return Promise.resolve(t&&r)},parse(n,e,t){return B(this,null,function*(){let r=e.data,i=de.path.dirname(e.src);i&&i.lastIndexOf("/")!==i.length-1&&(i+="/");let s=null,a=null,l=new Promise((u,h)=>{s=u,a=h}),o,c=u=>{u||a(`Something went terribly wrong loading a spine .atlas file
Most likely your texture failed to load.`),s(o)};if(r.image||r.images){let u=Object.assign(r.image?{default:r.image}:{},r.images);o=new Ua(n,(h,d)=>{let f=u[h]||u.default;f&&f.baseTexture?d(f.baseTexture):d(f)},c)}else o=new Ua(n,jx(t,i,r.imageMetadata),c);return yield l})},unload(n){n.dispose()}}},jx=(n,e,t)=>(r,i)=>B(void 0,null,function*(){try{let s=de.path.normalize([...e.split(de.path.sep),r].join(de.path.sep)),a=yield n.load({src:s,data:t});i(a.baseTexture)}catch(s){Ct.REPORT_TEXTURE_LOADER_ERROR&&console.error("Spine: error in texture loader",s),i(null)}});K.add(N5);function XF(n){return n.hasOwnProperty("bones")}function F5(n){return n instanceof ArrayBuffer}var Tm=class{constructor(){}installLoader(){let e=this,t={extension:Q.Asset,loader:{extension:{type:Q.LoadParser,priority:dn.Normal},test(i){return Wt(i,".skel")},load(i){return B(this,null,function*(){return yield(yield J.ADAPTER.fetch(i)).arrayBuffer()})},testParse(i,s){let a=Wt(s.src,".json")&&XF(i),l=Wt(s.src,".skel")&&F5(i),o=s.data?.spineAtlas===!1;return Promise.resolve(a&&!o||l)},parse(i,s,a){return B(this,null,function*(){let l=de.path.extname(s.src).toLowerCase(),o=de.path.basename(s.src,l),c=de.path.dirname(s.src);c&&c.lastIndexOf("/")!==c.length-1&&(c+="/");let u=Wt(s.src,".json")&&XF(i),h=null,d=i;u?h=e.createJsonParser():(h=e.createBinaryParser(),d=new Uint8Array(i));let f=s.data||{},p=f?.spineSkeletonScale??null;p&&(h.scale=p);let m=f.spineAtlas;if(m&&m.pages)return e.parseData(h,m,d);let g=f.atlasRawData;if(g){let y=null,_=null,b=new Promise((S,C)=>{y=S,_=C}),w=new Ua(g,jx(a,c,f.imageMetadata),S=>{S||_(`Something went terribly wrong loading a spine .atlas file
Most likely your texture failed to load.`),y(w)}),E=yield b;return e.parseData(h,E,d)}let v=f.spineAtlasFile;v||(v=`${c+o}.atlas`);let x=yield a.load({src:v,data:f,alias:f.spineAtlasAlias});return e.parseData(h,x,d)})}}};return K.add(t),t}};var Xx={};Hm(Xx,{Animation:()=>gt,AnimationState:()=>fr,AnimationStateAdapter:()=>$x,AnimationStateData:()=>Im,AtlasAttachmentLoader:()=>su,Attachment:()=>iu,AttachmentTimeline:()=>hi,Bone:()=>ou,BoneData:()=>Za,BoundingBoxAttachment:()=>Ad,ClippingAttachment:()=>Td,ColorTimeline:()=>Sn,ConstraintData:()=>qs,CurveTimeline:()=>hr,DeformTimeline:()=>za,DrawOrderTimeline:()=>Ui,Event:()=>Qa,EventData:()=>Ka,EventQueue:()=>Hx,EventTimeline:()=>zs,EventType:()=>dr,IkConstraint:()=>Id,IkConstraintData:()=>Ja,IkConstraintTimeline:()=>nn,JitterEffect:()=>Gx,MeshAttachment:()=>Xs,PathAttachment:()=>us,PathConstraint:()=>tl,PathConstraintData:()=>el,PathConstraintMixTimeline:()=>jr,PathConstraintPositionTimeline:()=>di,PathConstraintSpacingTimeline:()=>qa,PointAttachment:()=>Md,RegionAttachment:()=>Ce,RotateTimeline:()=>Kt,ScaleTimeline:()=>Ya,ShearTimeline:()=>Xa,Skeleton:()=>Rm,SkeletonBinary:()=>Ot,SkeletonBounds:()=>Wx,SkeletonData:()=>nl,SkeletonJson:()=>Pd,Skin:()=>Ro,SkinEntry:()=>Rd,Slot:()=>Ha,SlotData:()=>rl,SpacingMode:()=>Yt,Spine:()=>Yx,SwirlEffect:()=>VC,TimelineType:()=>UC,TrackEntry:()=>Mm,TransformConstraint:()=>Dd,TransformConstraintData:()=>il,TransformConstraintTimeline:()=>Cn,TranslateTimeline:()=>Qn,TwoColorTimeline:()=>At,VertexAttachment:()=>lr});var iu=class{constructor(e){if(e==null)throw new Error("name cannot be null.");this.name=e}},zF=class extends iu{constructor(n){super(n),this.id=(zF.nextID++&65535)<<11,this.worldVerticesLength=0,this.deformAttachment=this}computeWorldVerticesOld(n,e){this.computeWorldVertices(n,0,this.worldVerticesLength,e,0,2)}computeWorldVertices(n,e,t,r,i,s){t=i+(t>>1)*s;let a=n.bone.skeleton,l=n.deform,o=this.vertices,c=this.bones;if(c==null){l.length>0&&(o=l);let f=n.bone.matrix,p=f.tx,m=f.ty,g=f.a,v=f.c,x=f.b,y=f.d;for(let _=e,b=i;b<t;_+=2,b+=s){let w=o[_],E=o[_+1];r[b]=w*g+E*v+p,r[b+1]=w*x+E*y+m}return}let u=0,h=0;for(let f=0;f<e;f+=2){let p=c[u];u+=p+1,h+=p}let d=a.bones;if(l.length==0)for(let f=i,p=h*3;f<t;f+=s){let m=0,g=0,v=c[u++];for(v+=u;u<v;u++,p+=3){let x=d[c[u]].matrix,y=o[p],_=o[p+1],b=o[p+2];m+=(y*x.a+_*x.c+x.tx)*b,g+=(y*x.b+_*x.d+x.ty)*b}r[f]=m,r[f+1]=g}else{let f=l;for(let p=i,m=h*3,g=h<<1;p<t;p+=s){let v=0,x=0,y=c[u++];for(y+=u;u<y;u++,m+=3,g+=2){let _=d[c[u]].matrix,b=o[m]+f[g],w=o[m+1]+f[g+1],E=o[m+2];v+=(b*_.a+w*_.c+_.tx)*E,x+=(b*_.b+w*_.d+_.ty)*E}r[p]=v,r[p+1]=x}}}copyTo(n){this.bones!=null?(n.bones=new Array(this.bones.length),F.arrayCopy(this.bones,0,n.bones,0,this.bones.length)):n.bones=null,this.vertices!=null?(n.vertices=F.newFloatArray(this.vertices.length),F.arrayCopy(this.vertices,0,n.vertices,0,this.vertices.length)):n.vertices=null,n.worldVerticesLength=this.worldVerticesLength,n.deformAttachment=this.deformAttachment}},lr=zF;lr.nextID=0;var Ad=class n extends lr{constructor(e){super(e),this.type=le.BoundingBox,this.color=new X(1,1,1,1)}copy(){let e=new n(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}};var Td=class n extends lr{constructor(e){super(e),this.type=le.Clipping,this.color=new X(.2275,.2275,.8078,1)}copy(){let e=new n(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}};var Xs=class n extends lr{constructor(e){super(e),this.type=le.Mesh,this.color=new X(1,1,1,1),this.tempColor=new X(0,0,0,0)}getParentMesh(){return this.parentMesh}setParentMesh(e){this.parentMesh=e,e!=null&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}copy(){if(this.parentMesh!=null)return this.newLinkedMesh();let e=new n(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),F.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),F.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,this.edges!=null&&(e.edges=new Array(this.edges.length),F.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}newLinkedMesh(){let e=new n(this.name);return e.region=this.region,e.path=this.path,e.color.setFromColor(this.color),e.deformAttachment=this.deformAttachment,e.setParentMesh(this.parentMesh!=null?this.parentMesh:this),e}};var us=class n extends lr{constructor(e){super(e),this.type=le.Path,this.closed=!1,this.constantSpeed=!1,this.color=new X(1,1,1,1)}copy(){let e=new n(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),F.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}};var Md=class n extends lr{constructor(e){super(e),this.type=le.Point,this.color=new X(.38,.94,0,1)}computeWorldPosition(e,t){let r=e.matrix;return t.x=this.x*r.a+this.y*r.c+e.worldX,t.y=this.x*r.b+this.y*r.d+e.worldY,t}computeWorldRotation(e){let t=e.matrix,r=D.cosDeg(this.rotation),i=D.sinDeg(this.rotation),s=r*t.a+i*t.c,a=r*t.b+i*t.d;return Math.atan2(a,s)*D.radDeg}copy(){let e=new n(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}};var Ha=class{constructor(e,t){if(this.deform=new Array,e==null)throw new Error("data cannot be null.");if(t==null)throw new Error("bone cannot be null.");this.data=e,this.bone=t,this.color=new X,this.darkColor=e.darkColor==null?null:new X,this.setToSetupPose(),this.blendMode=this.data.blendMode}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.deform.length=0)}setAttachmentTime(e){this.attachmentTime=this.bone.skeleton.time-e}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}};var En=class extends iu{constructor(n){super(n),this.type=le.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new X(1,1,1,1),this.offset=F.newFloatArray(8),this.uvs=F.newFloatArray(8),this.tempColor=new X(1,1,1,1)}updateOffset(){let n=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,t=-this.width/2*this.scaleX+this.region.offsetX*n,r=-this.height/2*this.scaleY+this.region.offsetY*e,i=t+this.region.width*n,s=r+this.region.height*e,a=this.rotation*Math.PI/180,l=Math.cos(a),o=Math.sin(a),c=t*l+this.x,u=t*o,h=r*l+this.y,d=r*o,f=i*l+this.x,p=i*o,m=s*l+this.y,g=s*o,v=this.offset;v[En.OX1]=c-d,v[En.OY1]=h+u,v[En.OX2]=c-g,v[En.OY2]=m+u,v[En.OX3]=f-g,v[En.OY3]=m+p,v[En.OX4]=f-d,v[En.OY4]=h+p}setRegion(n){this.region=n;let e=this.uvs;n.rotate?(e[2]=n.u,e[3]=n.v2,e[4]=n.u,e[5]=n.v,e[6]=n.u2,e[7]=n.v,e[0]=n.u2,e[1]=n.v2):(e[0]=n.u,e[1]=n.v2,e[2]=n.u,e[3]=n.v,e[4]=n.u2,e[5]=n.v,e[6]=n.u2,e[7]=n.v2)}computeWorldVertices(n,e,t,r){let i=this.offset,s=n instanceof Ha?n.bone.matrix:n.matrix,a=s.tx,l=s.ty,o=s.a,c=s.c,u=s.b,h=s.d,d=0,f=0;d=i[En.OX1],f=i[En.OY1],e[t]=d*o+f*c+a,e[t+1]=d*u+f*h+l,t+=r,d=i[En.OX2],f=i[En.OY2],e[t]=d*o+f*c+a,e[t+1]=d*u+f*h+l,t+=r,d=i[En.OX3],f=i[En.OY3],e[t]=d*o+f*c+a,e[t+1]=d*u+f*h+l,t+=r,d=i[En.OX4],f=i[En.OY4],e[t]=d*o+f*c+a,e[t+1]=d*u+f*h+l}copy(){let n=new En(this.name);return n.region=this.region,n.rendererObject=this.rendererObject,n.path=this.path,n.x=this.x,n.y=this.y,n.scaleX=this.scaleX,n.scaleY=this.scaleY,n.rotation=this.rotation,n.width=this.width,n.height=this.height,F.arrayCopy(this.uvs,0,n.uvs,0,8),F.arrayCopy(this.offset,0,n.offset,0,8),n.color.setFromColor(this.color),n}},Ce=En;Ce.OX1=0;Ce.OY1=1;Ce.OX2=2;Ce.OY2=3;Ce.OX3=4;Ce.OY3=5;Ce.OX4=6;Ce.OY4=7;Ce.X1=0;Ce.Y1=1;Ce.C1R=2;Ce.C1G=3;Ce.C1B=4;Ce.C1A=5;Ce.U1=6;Ce.V1=7;Ce.X2=8;Ce.Y2=9;Ce.C2R=10;Ce.C2G=11;Ce.C2B=12;Ce.C2A=13;Ce.U2=14;Ce.V2=15;Ce.X3=16;Ce.Y3=17;Ce.C3R=18;Ce.C3G=19;Ce.C3B=20;Ce.C3A=21;Ce.U3=22;Ce.V3=23;Ce.X4=24;Ce.Y4=25;Ce.C4R=26;Ce.C4G=27;Ce.C4B=28;Ce.C4A=29;Ce.U4=30;Ce.V4=31;var Gx=class{constructor(e,t){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=t}begin(e){}transform(e,t,r,i){e.x+=D.randomTriangular(-this.jitterX,this.jitterY),e.y+=D.randomTriangular(-this.jitterX,this.jitterY)}end(){}};var qF=class{constructor(n){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=n}begin(n){this.worldX=n.x+this.centerX,this.worldY=n.y+this.centerY}transform(n,e,t,r){let i=this.angle*D.degreesToRadians,s=n.x-this.worldX,a=n.y-this.worldY,l=Math.sqrt(s*s+a*a);if(l<this.radius){let o=qF.interpolation.apply(0,i,(this.radius-l)/this.radius),c=Math.cos(o),u=Math.sin(o);n.x=c*s-u*a+this.worldX,n.y=u*s+c*a+this.worldY}}end(){}},VC=qF;VC.interpolation=new Zc(2);var gt=class{constructor(e,t,r){if(e==null)throw new Error("name cannot be null.");if(t==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=t,this.timelineIds=[];for(let i=0;i<t.length;i++)this.timelineIds[t[i].getPropertyId()]=!0;this.duration=r}hasTimeline(e){return this.timelineIds[e]==!0}apply(e,t,r,i,s,a,l,o){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(r%=this.duration,t>0&&(t%=this.duration));let c=this.timelines;for(let u=0,h=c.length;u<h;u++)c[u].apply(e,t,r,s,a,l,o)}static binarySearch(e,t,r=1){let i=0,s=e.length/r-2;if(s==0)return r;let a=s>>>1;for(;;){if(e[(a+1)*r]<=t?i=a+1:s=a,i==s)return(i+1)*r;a=i+s>>>1}}static linearSearch(e,t,r){for(let i=0,s=e.length-r;i<=s;i+=r)if(e[i]>t)return i;return-1}},UC=(n=>(n[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor",n))(UC||{}),Qt=class{constructor(n){if(n<=0)throw new Error(`frameCount must be > 0: ${n}`);this.curves=F.newFloatArray((n-1)*Qt.BEZIER_SIZE)}getFrameCount(){return this.curves.length/Qt.BEZIER_SIZE+1}setLinear(n){this.curves[n*Qt.BEZIER_SIZE]=Qt.LINEAR}setStepped(n){this.curves[n*Qt.BEZIER_SIZE]=Qt.STEPPED}getCurveType(n){let e=n*Qt.BEZIER_SIZE;if(e==this.curves.length)return Qt.LINEAR;let t=this.curves[e];return t==Qt.LINEAR?Qt.LINEAR:t==Qt.STEPPED?Qt.STEPPED:Qt.BEZIER}setCurve(n,e,t,r,i){let s=(-e*2+r)*.03,a=(-t*2+i)*.03,l=((e-r)*3+1)*.006,o=((t-i)*3+1)*.006,c=s*2+l,u=a*2+o,h=e*.3+s+l*.16666667,d=t*.3+a+o*.16666667,f=n*Qt.BEZIER_SIZE,p=this.curves;p[f++]=Qt.BEZIER;let m=h,g=d;for(let v=f+Qt.BEZIER_SIZE-1;f<v;f+=2)p[f]=m,p[f+1]=g,h+=c,d+=u,c+=l,u+=o,m+=h,g+=d}getCurvePercent(n,e){e=D.clamp(e,0,1);let t=this.curves,r=n*Qt.BEZIER_SIZE,i=t[r];if(i==Qt.LINEAR)return e;if(i==Qt.STEPPED)return 0;r++;let s=0;for(let l=r,o=r+Qt.BEZIER_SIZE-1;r<o;r+=2)if(s=t[r],s>=e){let c,u;return r==l?(c=0,u=0):(c=t[r-2],u=t[r-1]),u+(t[r+1]-u)*(e-c)/(s-c)}let a=t[r-1];return a+(1-a)*(e-s)/(1-s)}},hr=Qt;hr.LINEAR=0;hr.STEPPED=1;hr.BEZIER=2;hr.BEZIER_SIZE=10*2-1;var Wa=class extends hr{constructor(n){super(n),this.frames=F.newFloatArray(n<<1)}getPropertyId(){return 0+this.boneIndex}setFrame(n,e,t){n<<=1,this.frames[n]=e,this.frames[n+Wa.ROTATION]=t}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.bones[this.boneIndex];if(!o.active)return;if(t<l[0]){switch(s){case I.setup:o.rotation=o.data.rotation;return;case I.first:let p=o.data.rotation-o.rotation;o.rotation+=(p-(16384-(16384.499999999996-p/360|0))*360)*i}return}if(t>=l[l.length-Wa.ENTRIES]){let p=l[l.length+Wa.PREV_ROTATION];switch(s){case I.setup:o.rotation=o.data.rotation+p*i;break;case I.first:case I.replace:p+=o.data.rotation-o.rotation,p-=(16384-(16384.499999999996-p/360|0))*360;case I.add:o.rotation+=p*i}return}let c=gt.binarySearch(l,t,Wa.ENTRIES),u=l[c+Wa.PREV_ROTATION],h=l[c],d=this.getCurvePercent((c>>1)-1,1-(t-h)/(l[c+Wa.PREV_TIME]-h)),f=l[c+Wa.ROTATION]-u;switch(f=u+(f-(16384-(16384.499999999996-f/360|0))*360)*d,s){case I.setup:o.rotation=o.data.rotation+(f-(16384-(16384.499999999996-f/360|0))*360)*i;break;case I.first:case I.replace:f+=o.data.rotation-o.rotation;case I.add:o.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*i}}},Kt=Wa;Kt.ENTRIES=2;Kt.PREV_TIME=-2;Kt.PREV_ROTATION=-1;Kt.ROTATION=1;var cr=class extends hr{constructor(n){super(n),this.frames=F.newFloatArray(n*cr.ENTRIES)}getPropertyId(){return(1<<24)+this.boneIndex}setFrame(n,e,t,r){n*=cr.ENTRIES,this.frames[n]=e,this.frames[n+cr.X]=t,this.frames[n+cr.Y]=r}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.bones[this.boneIndex];if(!o.active)return;if(t<l[0]){switch(s){case I.setup:o.x=o.data.x,o.y=o.data.y;return;case I.first:o.x+=(o.data.x-o.x)*i,o.y+=(o.data.y-o.y)*i}return}let c=0,u=0;if(t>=l[l.length-cr.ENTRIES])c=l[l.length+cr.PREV_X],u=l[l.length+cr.PREV_Y];else{let h=gt.binarySearch(l,t,cr.ENTRIES);c=l[h+cr.PREV_X],u=l[h+cr.PREV_Y];let d=l[h],f=this.getCurvePercent(h/cr.ENTRIES-1,1-(t-d)/(l[h+cr.PREV_TIME]-d));c+=(l[h+cr.X]-c)*f,u+=(l[h+cr.Y]-u)*f}switch(s){case I.setup:o.x=o.data.x+c*i,o.y=o.data.y+u*i;break;case I.first:case I.replace:o.x+=(o.data.x+c-o.x)*i,o.y+=(o.data.y+u-o.y)*i;break;case I.add:o.x+=c*i,o.y+=u*i}}},Qn=cr;Qn.ENTRIES=3;Qn.PREV_TIME=-3;Qn.PREV_X=-2;Qn.PREV_Y=-1;Qn.X=1;Qn.Y=2;var Ya=class n extends Qn{constructor(e){super(e)}getPropertyId(){return(2<<24)+this.boneIndex}apply(e,t,r,i,s,a,l){let o=this.frames,c=e.bones[this.boneIndex];if(!c.active)return;if(r<o[0]){switch(a){case I.setup:c.scaleX=c.data.scaleX,c.scaleY=c.data.scaleY;return;case I.first:c.scaleX+=(c.data.scaleX-c.scaleX)*s,c.scaleY+=(c.data.scaleY-c.scaleY)*s}return}let u=0,h=0;if(r>=o[o.length-n.ENTRIES])u=o[o.length+n.PREV_X]*c.data.scaleX,h=o[o.length+n.PREV_Y]*c.data.scaleY;else{let d=gt.binarySearch(o,r,n.ENTRIES);u=o[d+n.PREV_X],h=o[d+n.PREV_Y];let f=o[d],p=this.getCurvePercent(d/n.ENTRIES-1,1-(r-f)/(o[d+n.PREV_TIME]-f));u=(u+(o[d+n.X]-u)*p)*c.data.scaleX,h=(h+(o[d+n.Y]-h)*p)*c.data.scaleY}if(s==1)a==I.add?(c.scaleX+=u-c.data.scaleX,c.scaleY+=h-c.data.scaleY):(c.scaleX=u,c.scaleY=h);else{let d=0,f=0;if(l==_e.mixOut)switch(a){case I.setup:d=c.data.scaleX,f=c.data.scaleY,c.scaleX=d+(Math.abs(u)*D.signum(d)-d)*s,c.scaleY=f+(Math.abs(h)*D.signum(f)-f)*s;break;case I.first:case I.replace:d=c.scaleX,f=c.scaleY,c.scaleX=d+(Math.abs(u)*D.signum(d)-d)*s,c.scaleY=f+(Math.abs(h)*D.signum(f)-f)*s;break;case I.add:d=c.scaleX,f=c.scaleY,c.scaleX=d+(Math.abs(u)*D.signum(d)-c.data.scaleX)*s,c.scaleY=f+(Math.abs(h)*D.signum(f)-c.data.scaleY)*s}else switch(a){case I.setup:d=Math.abs(c.data.scaleX)*D.signum(u),f=Math.abs(c.data.scaleY)*D.signum(h),c.scaleX=d+(u-d)*s,c.scaleY=f+(h-f)*s;break;case I.first:case I.replace:d=Math.abs(c.scaleX)*D.signum(u),f=Math.abs(c.scaleY)*D.signum(h),c.scaleX=d+(u-d)*s,c.scaleY=f+(h-f)*s;break;case I.add:d=D.signum(u),f=D.signum(h),c.scaleX=Math.abs(c.scaleX)*d+(u-Math.abs(c.data.scaleX)*d)*s,c.scaleY=Math.abs(c.scaleY)*f+(h-Math.abs(c.data.scaleY)*f)*s}}}},Xa=class n extends Qn{constructor(e){super(e)}getPropertyId(){return(3<<24)+this.boneIndex}apply(e,t,r,i,s,a,l){let o=this.frames,c=e.bones[this.boneIndex];if(!c.active)return;if(r<o[0]){switch(a){case I.setup:c.shearX=c.data.shearX,c.shearY=c.data.shearY;return;case I.first:c.shearX+=(c.data.shearX-c.shearX)*s,c.shearY+=(c.data.shearY-c.shearY)*s}return}let u=0,h=0;if(r>=o[o.length-n.ENTRIES])u=o[o.length+n.PREV_X],h=o[o.length+n.PREV_Y];else{let d=gt.binarySearch(o,r,n.ENTRIES);u=o[d+n.PREV_X],h=o[d+n.PREV_Y];let f=o[d],p=this.getCurvePercent(d/n.ENTRIES-1,1-(r-f)/(o[d+n.PREV_TIME]-f));u=u+(o[d+n.X]-u)*p,h=h+(o[d+n.Y]-h)*p}switch(a){case I.setup:c.shearX=c.data.shearX+u*s,c.shearY=c.data.shearY+h*s;break;case I.first:case I.replace:c.shearX+=(c.data.shearX+u-c.shearX)*s,c.shearY+=(c.data.shearY+h-c.shearY)*s;break;case I.add:c.shearX+=u*s,c.shearY+=h*s}}},Dt=class extends hr{constructor(n){super(n),this.frames=F.newFloatArray(n*Dt.ENTRIES)}getPropertyId(){return(5<<24)+this.slotIndex}setFrame(n,e,t,r,i,s){n*=Dt.ENTRIES,this.frames[n]=e,this.frames[n+Dt.R]=t,this.frames[n+Dt.G]=r,this.frames[n+Dt.B]=i,this.frames[n+Dt.A]=s}apply(n,e,t,r,i,s,a){let l=n.slots[this.slotIndex];if(!l.bone.active)return;let o=this.frames;if(t<o[0]){switch(s){case I.setup:l.color.setFromColor(l.data.color);return;case I.first:let f=l.color,p=l.data.color;f.add((p.r-f.r)*i,(p.g-f.g)*i,(p.b-f.b)*i,(p.a-f.a)*i)}return}let c=0,u=0,h=0,d=0;if(t>=o[o.length-Dt.ENTRIES]){let f=o.length;c=o[f+Dt.PREV_R],u=o[f+Dt.PREV_G],h=o[f+Dt.PREV_B],d=o[f+Dt.PREV_A]}else{let f=gt.binarySearch(o,t,Dt.ENTRIES);c=o[f+Dt.PREV_R],u=o[f+Dt.PREV_G],h=o[f+Dt.PREV_B],d=o[f+Dt.PREV_A];let p=o[f],m=this.getCurvePercent(f/Dt.ENTRIES-1,1-(t-p)/(o[f+Dt.PREV_TIME]-p));c+=(o[f+Dt.R]-c)*m,u+=(o[f+Dt.G]-u)*m,h+=(o[f+Dt.B]-h)*m,d+=(o[f+Dt.A]-d)*m}if(i==1)l.color.set(c,u,h,d);else{let f=l.color;s==I.setup&&f.setFromColor(l.data.color),f.add((c-f.r)*i,(u-f.g)*i,(h-f.b)*i,(d-f.a)*i)}}},Sn=Dt;Sn.ENTRIES=5;Sn.PREV_TIME=-5;Sn.PREV_R=-4;Sn.PREV_G=-3;Sn.PREV_B=-2;Sn.PREV_A=-1;Sn.R=1;Sn.G=2;Sn.B=3;Sn.A=4;var Ye=class extends hr{constructor(n){super(n),this.frames=F.newFloatArray(n*Ye.ENTRIES)}getPropertyId(){return(14<<24)+this.slotIndex}setFrame(n,e,t,r,i,s,a,l,o){n*=Ye.ENTRIES,this.frames[n]=e,this.frames[n+Ye.R]=t,this.frames[n+Ye.G]=r,this.frames[n+Ye.B]=i,this.frames[n+Ye.A]=s,this.frames[n+Ye.R2]=a,this.frames[n+Ye.G2]=l,this.frames[n+Ye.B2]=o}apply(n,e,t,r,i,s,a){let l=n.slots[this.slotIndex];if(!l.bone.active)return;let o=this.frames;if(t<o[0]){switch(s){case I.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case I.first:let g=l.color,v=l.darkColor,x=l.data.color,y=l.data.darkColor;g.add((x.r-g.r)*i,(x.g-g.g)*i,(x.b-g.b)*i,(x.a-g.a)*i),v.add((y.r-v.r)*i,(y.g-v.g)*i,(y.b-v.b)*i,0)}return}let c=0,u=0,h=0,d=0,f=0,p=0,m=0;if(t>=o[o.length-Ye.ENTRIES]){let g=o.length;c=o[g+Ye.PREV_R],u=o[g+Ye.PREV_G],h=o[g+Ye.PREV_B],d=o[g+Ye.PREV_A],f=o[g+Ye.PREV_R2],p=o[g+Ye.PREV_G2],m=o[g+Ye.PREV_B2]}else{let g=gt.binarySearch(o,t,Ye.ENTRIES);c=o[g+Ye.PREV_R],u=o[g+Ye.PREV_G],h=o[g+Ye.PREV_B],d=o[g+Ye.PREV_A],f=o[g+Ye.PREV_R2],p=o[g+Ye.PREV_G2],m=o[g+Ye.PREV_B2];let v=o[g],x=this.getCurvePercent(g/Ye.ENTRIES-1,1-(t-v)/(o[g+Ye.PREV_TIME]-v));c+=(o[g+Ye.R]-c)*x,u+=(o[g+Ye.G]-u)*x,h+=(o[g+Ye.B]-h)*x,d+=(o[g+Ye.A]-d)*x,f+=(o[g+Ye.R2]-f)*x,p+=(o[g+Ye.G2]-p)*x,m+=(o[g+Ye.B2]-m)*x}if(i==1)l.color.set(c,u,h,d),l.darkColor.set(f,p,m,1);else{let g=l.color,v=l.darkColor;s==I.setup&&(g.setFromColor(l.data.color),v.setFromColor(l.data.darkColor)),g.add((c-g.r)*i,(u-g.g)*i,(h-g.b)*i,(d-g.a)*i),v.add((f-v.r)*i,(p-v.g)*i,(m-v.b)*i,0)}}},At=Ye;At.ENTRIES=8;At.PREV_TIME=-8;At.PREV_R=-7;At.PREV_G=-6;At.PREV_B=-5;At.PREV_A=-4;At.PREV_R2=-3;At.PREV_G2=-2;At.PREV_B2=-1;At.R=1;At.G=2;At.B=3;At.A=4;At.R2=5;At.G2=6;At.B2=7;var hi=class{constructor(e){this.frames=F.newFloatArray(e),this.attachmentNames=new Array(e)}getPropertyId(){return(4<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(e,t,r){this.frames[e]=t,this.attachmentNames[e]=r}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(!o.bone.active)return;if(l==_e.mixOut){a==I.setup&&this.setAttachment(e,o,o.data.attachmentName);return}let c=this.frames;if(r<c[0]){(a==I.setup||a==I.first)&&this.setAttachment(e,o,o.data.attachmentName);return}let u=0;r>=c[c.length-1]?u=c.length-1:u=gt.binarySearch(c,r,1)-1;let h=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(h==null?null:e.getAttachment(this.slotIndex,h))}setAttachment(e,t,r){t.setAttachment(r==null?null:e.getAttachment(this.slotIndex,r))}},ZF=null,za=class extends hr{constructor(e){super(e),this.frames=F.newFloatArray(e),this.frameVertices=new Array(e),ZF==null&&(ZF=F.newFloatArray(64))}getPropertyId(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}setFrame(e,t,r){this.frames[e]=t,this.frameVertices[e]=r}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(!o.bone.active)return;let c=o.getAttachment();if(!(c instanceof lr)||c.deformAttachment!=this.attachment)return;let u=o.deform;u.length==0&&(a=I.setup);let h=this.frameVertices,d=h[0].length,f=this.frames;if(r<f[0]){let _=c;switch(a){case I.setup:u.length=0;return;case I.first:if(s==1){u.length=0;break}let b=F.setArraySize(u,d);if(_.bones==null){let w=_.vertices;for(let E=0;E<d;E++)b[E]+=(w[E]-b[E])*s}else{s=1-s;for(let w=0;w<d;w++)b[w]*=s}}return}let p=F.setArraySize(u,d);if(r>=f[f.length-1]){let _=h[f.length-1];if(s==1)if(a==I.add){let b=c;if(b.bones==null){let w=b.vertices;for(let E=0;E<d;E++)p[E]+=_[E]-w[E]}else for(let w=0;w<d;w++)p[w]+=_[w]}else F.arrayCopy(_,0,p,0,d);else switch(a){case I.setup:{let w=c;if(w.bones==null){let E=w.vertices;for(let S=0;S<d;S++){let C=E[S];p[S]=C+(_[S]-C)*s}}else for(let E=0;E<d;E++)p[E]=_[E]*s;break}case I.first:case I.replace:for(let w=0;w<d;w++)p[w]+=(_[w]-p[w])*s;break;case I.add:let b=c;if(b.bones==null){let w=b.vertices;for(let E=0;E<d;E++)p[E]+=(_[E]-w[E])*s}else for(let w=0;w<d;w++)p[w]+=_[w]*s}return}let m=gt.binarySearch(f,r),g=h[m-1],v=h[m],x=f[m],y=this.getCurvePercent(m-1,1-(r-x)/(f[m-1]-x));if(s==1)if(a==I.add){let _=c;if(_.bones==null){let b=_.vertices;for(let w=0;w<d;w++){let E=g[w];p[w]+=E+(v[w]-E)*y-b[w]}}else for(let b=0;b<d;b++){let w=g[b];p[b]+=w+(v[b]-w)*y}}else for(let _=0;_<d;_++){let b=g[_];p[_]=b+(v[_]-b)*y}else switch(a){case I.setup:{let b=c;if(b.bones==null){let w=b.vertices;for(let E=0;E<d;E++){let S=g[E],C=w[E];p[E]=C+(S+(v[E]-S)*y-C)*s}}else for(let w=0;w<d;w++){let E=g[w];p[w]=(E+(v[w]-E)*y)*s}break}case I.first:case I.replace:for(let b=0;b<d;b++){let w=g[b];p[b]+=(w+(v[b]-w)*y-p[b])*s}break;case I.add:let _=c;if(_.bones==null){let b=_.vertices;for(let w=0;w<d;w++){let E=g[w];p[w]+=(E+(v[w]-E)*y-b[w])*s}}else for(let b=0;b<d;b++){let w=g[b];p[b]+=(w+(v[b]-w)*y)*s}}}},zs=class{constructor(e){this.frames=F.newFloatArray(e),this.events=new Array(e)}getPropertyId(){return 7<<24}getFrameCount(){return this.frames.length}setFrame(e,t){this.frames[e]=t.time,this.events[e]=t}apply(e,t,r,i,s,a,l){if(i==null)return;let o=this.frames,c=this.frames.length;if(t>r)this.apply(e,t,Number.MAX_VALUE,i,s,a,l),t=-1;else if(t>=o[c-1])return;if(r<o[0])return;let u=0;if(t<o[0])u=0;else{u=gt.binarySearch(o,t);let h=o[u];for(;u>0&&o[u-1]==h;)u--}for(;u<c&&r>=o[u];u++)i.push(this.events[u])}},Ui=class{constructor(e){this.frames=F.newFloatArray(e),this.drawOrders=new Array(e)}getPropertyId(){return 8<<24}getFrameCount(){return this.frames.length}setFrame(e,t,r){this.frames[e]=t,this.drawOrders[e]=r}apply(e,t,r,i,s,a,l){let o=e.drawOrder,c=e.slots;if(l==_e.mixOut&&a==I.setup){F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}let u=this.frames;if(r<u[0]){(a==I.setup||a==I.first)&&F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}let h=0;r>=u[u.length-1]?h=u.length-1:h=gt.binarySearch(u,r)-1;let d=this.drawOrders[h];if(d==null)F.arrayCopy(c,0,o,0,c.length);else for(let f=0,p=d.length;f<p;f++)o[f]=c[d[f]]}},Ke=class extends hr{constructor(n){super(n),this.frames=F.newFloatArray(n*Ke.ENTRIES)}getPropertyId(){return(9<<24)+this.ikConstraintIndex}setFrame(n,e,t,r,i,s,a){n*=Ke.ENTRIES,this.frames[n]=e,this.frames[n+Ke.MIX]=t,this.frames[n+Ke.SOFTNESS]=r,this.frames[n+Ke.BEND_DIRECTION]=i,this.frames[n+Ke.COMPRESS]=s?1:0,this.frames[n+Ke.STRETCH]=a?1:0}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.ikConstraints[this.ikConstraintIndex];if(!o.active)return;if(t<l[0]){switch(s){case I.setup:o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch;return;case I.first:o.mix+=(o.data.mix-o.mix)*i,o.softness+=(o.data.softness-o.softness)*i,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}return}if(t>=l[l.length-Ke.ENTRIES]){s==I.setup?(o.mix=o.data.mix+(l[l.length+Ke.PREV_MIX]-o.data.mix)*i,o.softness=o.data.softness+(l[l.length+Ke.PREV_SOFTNESS]-o.data.softness)*i,a==_e.mixOut?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=l[l.length+Ke.PREV_BEND_DIRECTION],o.compress=l[l.length+Ke.PREV_COMPRESS]!=0,o.stretch=l[l.length+Ke.PREV_STRETCH]!=0)):(o.mix+=(l[l.length+Ke.PREV_MIX]-o.mix)*i,o.softness+=(l[l.length+Ke.PREV_SOFTNESS]-o.softness)*i,a==_e.mixIn&&(o.bendDirection=l[l.length+Ke.PREV_BEND_DIRECTION],o.compress=l[l.length+Ke.PREV_COMPRESS]!=0,o.stretch=l[l.length+Ke.PREV_STRETCH]!=0));return}let c=gt.binarySearch(l,t,Ke.ENTRIES),u=l[c+Ke.PREV_MIX],h=l[c+Ke.PREV_SOFTNESS],d=l[c],f=this.getCurvePercent(c/Ke.ENTRIES-1,1-(t-d)/(l[c+Ke.PREV_TIME]-d));s==I.setup?(o.mix=o.data.mix+(u+(l[c+Ke.MIX]-u)*f-o.data.mix)*i,o.softness=o.data.softness+(h+(l[c+Ke.SOFTNESS]-h)*f-o.data.softness)*i,a==_e.mixOut?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=l[c+Ke.PREV_BEND_DIRECTION],o.compress=l[c+Ke.PREV_COMPRESS]!=0,o.stretch=l[c+Ke.PREV_STRETCH]!=0)):(o.mix+=(u+(l[c+Ke.MIX]-u)*f-o.mix)*i,o.softness+=(h+(l[c+Ke.SOFTNESS]-h)*f-o.softness)*i,a==_e.mixIn&&(o.bendDirection=l[c+Ke.PREV_BEND_DIRECTION],o.compress=l[c+Ke.PREV_COMPRESS]!=0,o.stretch=l[c+Ke.PREV_STRETCH]!=0))}},nn=Ke;nn.ENTRIES=6;nn.PREV_TIME=-6;nn.PREV_MIX=-5;nn.PREV_SOFTNESS=-4;nn.PREV_BEND_DIRECTION=-3;nn.PREV_COMPRESS=-2;nn.PREV_STRETCH=-1;nn.MIX=1;nn.SOFTNESS=2;nn.BEND_DIRECTION=3;nn.COMPRESS=4;nn.STRETCH=5;var Rt=class extends hr{constructor(n){super(n),this.frames=F.newFloatArray(n*Rt.ENTRIES)}getPropertyId(){return(10<<24)+this.transformConstraintIndex}setFrame(n,e,t,r,i,s){n*=Rt.ENTRIES,this.frames[n]=e,this.frames[n+Rt.ROTATE]=t,this.frames[n+Rt.TRANSLATE]=r,this.frames[n+Rt.SCALE]=i,this.frames[n+Rt.SHEAR]=s}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.transformConstraints[this.transformConstraintIndex];if(!o.active)return;if(t<l[0]){let f=o.data;switch(s){case I.setup:o.rotateMix=f.rotateMix,o.translateMix=f.translateMix,o.scaleMix=f.scaleMix,o.shearMix=f.shearMix;return;case I.first:o.rotateMix+=(f.rotateMix-o.rotateMix)*i,o.translateMix+=(f.translateMix-o.translateMix)*i,o.scaleMix+=(f.scaleMix-o.scaleMix)*i,o.shearMix+=(f.shearMix-o.shearMix)*i}return}let c=0,u=0,h=0,d=0;if(t>=l[l.length-Rt.ENTRIES]){let f=l.length;c=l[f+Rt.PREV_ROTATE],u=l[f+Rt.PREV_TRANSLATE],h=l[f+Rt.PREV_SCALE],d=l[f+Rt.PREV_SHEAR]}else{let f=gt.binarySearch(l,t,Rt.ENTRIES);c=l[f+Rt.PREV_ROTATE],u=l[f+Rt.PREV_TRANSLATE],h=l[f+Rt.PREV_SCALE],d=l[f+Rt.PREV_SHEAR];let p=l[f],m=this.getCurvePercent(f/Rt.ENTRIES-1,1-(t-p)/(l[f+Rt.PREV_TIME]-p));c+=(l[f+Rt.ROTATE]-c)*m,u+=(l[f+Rt.TRANSLATE]-u)*m,h+=(l[f+Rt.SCALE]-h)*m,d+=(l[f+Rt.SHEAR]-d)*m}if(s==I.setup){let f=o.data;o.rotateMix=f.rotateMix+(c-f.rotateMix)*i,o.translateMix=f.translateMix+(u-f.translateMix)*i,o.scaleMix=f.scaleMix+(h-f.scaleMix)*i,o.shearMix=f.shearMix+(d-f.shearMix)*i}else o.rotateMix+=(c-o.rotateMix)*i,o.translateMix+=(u-o.translateMix)*i,o.scaleMix+=(h-o.scaleMix)*i,o.shearMix+=(d-o.shearMix)*i}},Cn=Rt;Cn.ENTRIES=5;Cn.PREV_TIME=-5;Cn.PREV_ROTATE=-4;Cn.PREV_TRANSLATE=-3;Cn.PREV_SCALE=-2;Cn.PREV_SHEAR=-1;Cn.ROTATE=1;Cn.TRANSLATE=2;Cn.SCALE=3;Cn.SHEAR=4;var hs=class extends hr{constructor(n){super(n),this.frames=F.newFloatArray(n*hs.ENTRIES)}getPropertyId(){return(11<<24)+this.pathConstraintIndex}setFrame(n,e,t){n*=hs.ENTRIES,this.frames[n]=e,this.frames[n+hs.VALUE]=t}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.pathConstraints[this.pathConstraintIndex];if(!o.active)return;if(t<l[0]){switch(s){case I.setup:o.position=o.data.position;return;case I.first:o.position+=(o.data.position-o.position)*i}return}let c=0;if(t>=l[l.length-hs.ENTRIES])c=l[l.length+hs.PREV_VALUE];else{let u=gt.binarySearch(l,t,hs.ENTRIES);c=l[u+hs.PREV_VALUE];let h=l[u],d=this.getCurvePercent(u/hs.ENTRIES-1,1-(t-h)/(l[u+hs.PREV_TIME]-h));c+=(l[u+hs.VALUE]-c)*d}s==I.setup?o.position=o.data.position+(c-o.data.position)*i:o.position+=(c-o.position)*i}},di=hs;di.ENTRIES=2;di.PREV_TIME=-2;di.PREV_VALUE=-1;di.VALUE=1;var qa=class n extends di{constructor(e){super(e)}getPropertyId(){return(12<<24)+this.pathConstraintIndex}apply(e,t,r,i,s,a,l){let o=this.frames,c=e.pathConstraints[this.pathConstraintIndex];if(!c.active)return;if(r<o[0]){switch(a){case I.setup:c.spacing=c.data.spacing;return;case I.first:c.spacing+=(c.data.spacing-c.spacing)*s}return}let u=0;if(r>=o[o.length-n.ENTRIES])u=o[o.length+n.PREV_VALUE];else{let h=gt.binarySearch(o,r,n.ENTRIES);u=o[h+n.PREV_VALUE];let d=o[h],f=this.getCurvePercent(h/n.ENTRIES-1,1-(r-d)/(o[h+n.PREV_TIME]-d));u+=(o[h+n.VALUE]-u)*f}a==I.setup?c.spacing=c.data.spacing+(u-c.data.spacing)*s:c.spacing+=(u-c.spacing)*s}},ur=class extends hr{constructor(n){super(n),this.frames=F.newFloatArray(n*ur.ENTRIES)}getPropertyId(){return(13<<24)+this.pathConstraintIndex}setFrame(n,e,t,r){n*=ur.ENTRIES,this.frames[n]=e,this.frames[n+ur.ROTATE]=t,this.frames[n+ur.TRANSLATE]=r}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.pathConstraints[this.pathConstraintIndex];if(!o.active)return;if(t<l[0]){switch(s){case I.setup:o.rotateMix=o.data.rotateMix,o.translateMix=o.data.translateMix;return;case I.first:o.rotateMix+=(o.data.rotateMix-o.rotateMix)*i,o.translateMix+=(o.data.translateMix-o.translateMix)*i}return}let c=0,u=0;if(t>=l[l.length-ur.ENTRIES])c=l[l.length+ur.PREV_ROTATE],u=l[l.length+ur.PREV_TRANSLATE];else{let h=gt.binarySearch(l,t,ur.ENTRIES);c=l[h+ur.PREV_ROTATE],u=l[h+ur.PREV_TRANSLATE];let d=l[h],f=this.getCurvePercent(h/ur.ENTRIES-1,1-(t-d)/(l[h+ur.PREV_TIME]-d));c+=(l[h+ur.ROTATE]-c)*f,u+=(l[h+ur.TRANSLATE]-u)*f}s==I.setup?(o.rotateMix=o.data.rotateMix+(c-o.data.rotateMix)*i,o.translateMix=o.data.translateMix+(u-o.data.translateMix)*i):(o.rotateMix+=(c-o.rotateMix)*i,o.translateMix+=(u-o.translateMix)*i)}},jr=ur;jr.ENTRIES=3;jr.PREV_TIME=-3;jr.PREV_ROTATE=-2;jr.PREV_TRANSLATE=-1;jr.ROTATE=1;jr.TRANSLATE=2;var Pt=class{constructor(n){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new Hx(this),this.propertyIDs=new zc,this.animationsChanged=!1,this.trackEntryPool=new as(()=>new Mm),this.data=n}update(n){n*=this.timeScale;let e=this.tracks;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i==null)continue;i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;let s=n*i.timeScale;if(i.delay>0){if(i.delay-=s,i.delay>0)continue;s=-i.delay,i.delay=0}let a=i.next;if(a!=null){let l=i.trackLast-a.delay;if(l>=0){for(a.delay=0,a.trackTime+=i.timeScale==0?0:(l/i.timeScale+n)*a.timeScale,i.trackTime+=s,this.setCurrent(t,a,!0);a.mixingFrom!=null;)a.mixTime+=n,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&i.mixingFrom==null){e[t]=null,this.queue.end(i),this.disposeNext(i);continue}if(i.mixingFrom!=null&&this.updateMixingFrom(i,n)){let l=i.mixingFrom;for(i.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=s}this.queue.drain()}updateMixingFrom(n,e){let t=n.mixingFrom;if(t==null)return!0;let r=this.updateMixingFrom(t,e);return t.animationLast=t.nextAnimationLast,t.trackLast=t.nextTrackLast,n.mixTime>0&&n.mixTime>=n.mixDuration?((t.totalAlpha==0||n.mixDuration==0)&&(n.mixingFrom=t.mixingFrom,t.mixingFrom!=null&&(t.mixingFrom.mixingTo=n),n.interruptAlpha=t.interruptAlpha,this.queue.end(t)),r):(t.trackTime+=e*t.timeScale,n.mixTime+=e,!1)}apply(n){if(n==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let e=this.events,t=this.tracks,r=!1;for(let a=0,l=t.length;a<l;a++){let o=t[a];if(o==null||o.delay>0)continue;r=!0;let c=a==0?I.first:o.mixBlend,u=o.alpha;o.mixingFrom!=null?u*=this.applyMixingFrom(o,n,c):o.trackTime>=o.trackEnd&&o.next==null&&(u=0);let h=o.animationLast,d=o.getAnimationTime(),f=o.animation.timelines.length,p=o.animation.timelines;if(a==0&&u==1||c==I.add)for(let m=0;m<f;m++){F.webkit602BugfixHelper(u,c);let g=p[m];g instanceof hi?this.applyAttachmentTimeline(g,n,d,c,!0):g.apply(n,h,d,e,u,c,_e.mixIn)}else{let m=o.timelineMode,g=o.timelinesRotation.length==0;g&&F.setArraySize(o.timelinesRotation,f<<1,null);let v=o.timelinesRotation;for(let x=0;x<f;x++){let y=p[x],_=m[x]==Pt.SUBSEQUENT?c:I.setup;y instanceof Kt?this.applyRotateTimeline(y,n,d,u,_,v,x<<1,g):y instanceof hi?this.applyAttachmentTimeline(y,n,d,c,!0):(F.webkit602BugfixHelper(u,c),y.apply(n,h,d,e,u,_,_e.mixIn))}}this.queueEvents(o,d),e.length=0,o.nextAnimationLast=d,o.nextTrackLast=o.trackTime}let i=this.unkeyedState+Pt.SETUP,s=n.slots;for(let a=0,l=n.slots.length;a<l;a++){let o=s[a];if(o.attachmentState==i){let c=o.data.attachmentName;o.setAttachment(c==null?null:n.getAttachment(o.data.index,c))}}return this.unkeyedState+=2,this.queue.drain(),r}applyMixingFrom(n,e,t){let r=n.mixingFrom;r.mixingFrom!=null&&this.applyMixingFrom(r,e,t);let i=0;n.mixDuration==0?(i=1,t==I.first&&(t=I.setup)):(i=n.mixTime/n.mixDuration,i>1&&(i=1),t!=I.first&&(t=r.mixBlend));let s=i<r.eventThreshold?this.events:null,a=i<r.attachmentThreshold,l=i<r.drawOrderThreshold,o=r.animationLast,c=r.getAnimationTime(),u=r.animation.timelines.length,h=r.animation.timelines,d=r.alpha*n.interruptAlpha,f=d*(1-i);if(t==I.add)for(let p=0;p<u;p++)h[p].apply(e,o,c,s,f,t,_e.mixOut);else{let p=r.timelineMode,m=r.timelineHoldMix,g=r.timelinesRotation.length==0;g&&F.setArraySize(r.timelinesRotation,u<<1,null);let v=r.timelinesRotation;r.totalAlpha=0;for(let x=0;x<u;x++){let y=h[x],_=_e.mixOut,b,w=0;switch(p[x]){case Pt.SUBSEQUENT:if(!l&&y instanceof Ui)continue;b=t,w=f;break;case Pt.FIRST:b=I.setup,w=f;break;case Pt.HOLD_SUBSEQUENT:b=t,w=d;break;case Pt.HOLD_FIRST:b=I.setup,w=d;break;default:b=I.setup;let E=m[x];w=d*Math.max(0,1-E.mixTime/E.mixDuration);break}r.totalAlpha+=w,y instanceof Kt?this.applyRotateTimeline(y,e,c,w,b,v,x<<1,g):y instanceof hi?this.applyAttachmentTimeline(y,e,c,b,a):(F.webkit602BugfixHelper(w,t),l&&y instanceof Ui&&b==I.setup&&(_=_e.mixIn),y.apply(e,o,c,s,w,b,_))}}return n.mixDuration>0&&this.queueEvents(r,c),this.events.length=0,r.nextAnimationLast=c,r.nextTrackLast=r.trackTime,i}applyAttachmentTimeline(n,e,t,r,i){let s=e.slots[n.slotIndex];if(!s.bone.active)return;let a=n.frames;if(t<a[0])(r==I.setup||r==I.first)&&this.setAttachment(e,s,s.data.attachmentName,i);else{let l;t>=a[a.length-1]?l=a.length-1:l=gt.binarySearch(a,t)-1,this.setAttachment(e,s,n.attachmentNames[l],i)}s.attachmentState<=this.unkeyedState&&(s.attachmentState=this.unkeyedState+Pt.SETUP)}setAttachment(n,e,t,r){e.setAttachment(t==null?null:n.getAttachment(e.data.index,t)),r&&(e.attachmentState=this.unkeyedState+Pt.CURRENT)}applyRotateTimeline(n,e,t,r,i,s,a,l){if(l&&(s[a]=0),r==1){n.apply(e,0,t,null,1,i,_e.mixIn);return}let o=n,c=o.frames,u=e.bones[o.boneIndex];if(!u.active)return;let h=0,d=0;if(t<c[0])switch(i){case I.setup:u.rotation=u.data.rotation;default:return;case I.first:h=u.rotation,d=u.data.rotation}else if(h=i==I.setup?u.data.rotation:u.rotation,t>=c[c.length-Kt.ENTRIES])d=u.data.rotation+c[c.length+Kt.PREV_ROTATION];else{let m=gt.binarySearch(c,t,Kt.ENTRIES),g=c[m+Kt.PREV_ROTATION],v=c[m],x=o.getCurvePercent((m>>1)-1,1-(t-v)/(c[m+Kt.PREV_TIME]-v));d=c[m+Kt.ROTATION]-g,d-=(16384-(16384.499999999996-d/360|0))*360,d=g+d*x+u.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}let f=0,p=d-h;if(p-=(16384-(16384.499999999996-p/360|0))*360,p==0)f=s[a];else{let m=0,g=0;l?(m=0,g=p):(m=s[a],g=s[a+1]);let v=p>0,x=m>=0;D.signum(g)!=D.signum(p)&&Math.abs(g)<=90&&(Math.abs(m)>180&&(m+=360*D.signum(m)),x=v),f=p+m-m%360,x!=v&&(f+=360*D.signum(m)),s[a]=f}s[a+1]=p,h+=f*r,u.rotation=h-(16384-(16384.499999999996-h/360|0))*360}queueEvents(n,e){let t=n.animationStart,r=n.animationEnd,i=r-t,s=n.trackLast%i,a=this.events,l=0,o=a.length;for(;l<o;l++){let u=a[l];if(u.time<s)break;u.time>r||this.queue.event(n,u)}let c=!1;for(n.loop?c=i==0||s>n.trackTime%i:c=e>=r&&n.animationLast<r,c&&this.queue.complete(n);l<o;l++)a[l].time<t||this.queue.event(n,a[l])}clearTracks(){let n=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,t=this.tracks.length;e<t;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=n,this.queue.drain()}clearTrack(n){if(n>=this.tracks.length)return;let e=this.tracks[n];if(e==null)return;this.queue.end(e),this.disposeNext(e);let t=e;for(;;){let r=t.mixingFrom;if(r==null)break;this.queue.end(r),t.mixingFrom=null,t.mixingTo=null,t=r}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(n,e,t){let r=this.expandToIndex(n);this.tracks[n]=e,r!=null&&(t&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,r.mixingFrom!=null&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)}setAnimation(n,e,t){let r=this.data.skeletonData.findAnimation(e);if(r==null)throw new Error(`Animation not found: ${e}`);return this.setAnimationWith(n,r,t)}setAnimationWith(n,e,t){if(e==null)throw new Error("animation cannot be null.");let r=!0,i=this.expandToIndex(n);i!=null&&(i.nextTrackLast==-1?(this.tracks[n]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i));let s=this.trackEntry(n,e,t,i);return this.setCurrent(n,s,r),this.queue.drain(),s}addAnimation(n,e,t,r){let i=this.data.skeletonData.findAnimation(e);if(i==null)throw new Error(`Animation not found: ${e}`);return this.addAnimationWith(n,i,t,r)}addAnimationWith(n,e,t,r){if(e==null)throw new Error("animation cannot be null.");let i=this.expandToIndex(n);if(i!=null)for(;i.next!=null;)i=i.next;let s=this.trackEntry(n,e,t,i);if(i==null)this.setCurrent(n,s,!0),this.queue.drain();else if(i.next=s,r<=0){let a=i.animationEnd-i.animationStart;a!=0?(i.loop?r+=a*(1+(i.trackTime/a|0)):r+=Math.max(a,i.trackTime),r-=this.data.getMix(i.animation,e)):r=i.trackTime}return s.delay=r,s}setEmptyAnimation(n,e){let t=this.setAnimationWith(n,Pt.emptyAnimation,!1);return t.mixDuration=e,t.trackEnd=e,t}addEmptyAnimation(n,e,t){t<=0&&(t-=e);let r=this.addAnimationWith(n,Pt.emptyAnimation,!1,t);return r.mixDuration=e,r.trackEnd=e,r}setEmptyAnimations(n){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,r=this.tracks.length;t<r;t++){let i=this.tracks[t];i!=null&&this.setEmptyAnimation(i.trackIndex,n)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(n){return n<this.tracks.length?this.tracks[n]:(F.ensureArrayCapacity(this.tracks,n+1,null),this.tracks.length=n+1,null)}trackEntry(n,e,t,r){let i=this.trackEntryPool.obtain();return i.trackIndex=n,i.animation=e,i.loop=t,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=r==null?0:this.data.getMix(r.animation,e),i.mixBlend=I.replace,i}disposeNext(n){let e=n.next;for(;e!=null;)this.queue.dispose(e),e=e.next;n.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();for(let n=0,e=this.tracks.length;n<e;n++){let t=this.tracks[n];if(t!=null){for(;t.mixingFrom!=null;)t=t.mixingFrom;do(t.mixingFrom==null||t.mixBlend!=I.add)&&this.computeHold(t),t=t.mixingTo;while(t!=null)}}}computeHold(n){let e=n.mixingTo,t=n.animation.timelines,r=n.animation.timelines.length,i=F.setArraySize(n.timelineMode,r);n.timelineHoldMix.length=0;let s=F.setArraySize(n.timelineHoldMix,r),a=this.propertyIDs;if(e!=null&&e.holdPrevious){for(let l=0;l<r;l++)i[l]=a.add(t[l].getPropertyId())?Pt.HOLD_FIRST:Pt.HOLD_SUBSEQUENT;return}e:for(let l=0;l<r;l++){let o=t[l],c=o.getPropertyId();if(!a.add(c))i[l]=Pt.SUBSEQUENT;else if(e==null||o instanceof hi||o instanceof Ui||o instanceof zs||!e.animation.hasTimeline(c))i[l]=Pt.FIRST;else{for(let u=e.mixingTo;u!=null;u=u.mixingTo)if(!u.animation.hasTimeline(c)){if(n.mixDuration>0){i[l]=Pt.HOLD_MIX,s[l]=u;continue e}break}i[l]=Pt.HOLD_FIRST}}}getCurrent(n){return n>=this.tracks.length?null:this.tracks[n]}addListener(n){if(n==null)throw new Error("listener cannot be null.");this.listeners.push(n)}removeListener(n){let e=this.listeners.indexOf(n);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(n,e,t){Pt.deprecatedWarning1||(Pt.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(n,e,t)}addAnimationByName(n,e,t,r){Pt.deprecatedWarning2||(Pt.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(n,e,t,r)}hasAnimation(n){return this.data.skeletonData.findAnimation(n)!==null}hasAnimationByName(n){return Pt.deprecatedWarning3||(Pt.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(n)}},fr=Pt;fr.emptyAnimation=new gt("<empty>",[],0);fr.SUBSEQUENT=0;fr.FIRST=1;fr.HOLD_SUBSEQUENT=2;fr.HOLD_FIRST=3;fr.HOLD_MIX=4;fr.SETUP=1;fr.CURRENT=2;fr.deprecatedWarning1=!1;fr.deprecatedWarning2=!1;fr.deprecatedWarning3=!1;var Do=class{constructor(){this.mixBlend=I.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let n=this.animationEnd-this.animationStart;return n==0?this.animationStart:this.trackTime%n+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(n){this.animationLast=n,this.nextAnimationLast=n}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}get time(){return Do.deprecatedWarning1||(Do.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(n){Do.deprecatedWarning1||(Do.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=n}get endTime(){return Do.deprecatedWarning2||(Do.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(n){Do.deprecatedWarning2||(Do.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=n}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}},Mm=Do;Mm.deprecatedWarning1=!1;Mm.deprecatedWarning2=!1;var jC=class{constructor(n){this.objects=[],this.drainDisabled=!1,this.animState=n}start(n){this.objects.push(dr.start),this.objects.push(n),this.animState.animationsChanged=!0}interrupt(n){this.objects.push(dr.interrupt),this.objects.push(n)}end(n){this.objects.push(dr.end),this.objects.push(n),this.animState.animationsChanged=!0}dispose(n){this.objects.push(dr.dispose),this.objects.push(n)}complete(n){this.objects.push(dr.complete),this.objects.push(n)}event(n,e){this.objects.push(dr.event),this.objects.push(n),this.objects.push(e)}deprecateStuff(){return jC.deprecatedWarning1||(jC.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let n=this.objects,e=this.animState.listeners;for(let t=0;t<n.length;t+=2){let r=n[t],i=n[t+1];switch(r){case dr.start:i.listener!=null&&i.listener.start&&i.listener.start(i);for(let l=0;l<e.length;l++)e[l].start&&e[l].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case dr.interrupt:i.listener!=null&&i.listener.interrupt&&i.listener.interrupt(i);for(let l=0;l<e.length;l++)e[l].interrupt&&e[l].interrupt(i);break;case dr.end:i.listener!=null&&i.listener.end&&i.listener.end(i);for(let l=0;l<e.length;l++)e[l].end&&e[l].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case dr.dispose:i.listener!=null&&i.listener.dispose&&i.listener.dispose(i);for(let l=0;l<e.length;l++)e[l].dispose&&e[l].dispose(i);this.animState.trackEntryPool.free(i);break;case dr.complete:i.listener!=null&&i.listener.complete&&i.listener.complete(i);for(let l=0;l<e.length;l++)e[l].complete&&e[l].complete(i);let s=D.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,s);break;case dr.event:let a=n[t+++2];i.listener!=null&&i.listener.event&&i.listener.event(i,a);for(let l=0;l<e.length;l++)e[l].event&&e[l].event(i,a);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,a),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,a);break}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}},Hx=jC;Hx.deprecatedWarning1=!1;var dr=(n=>(n[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event",n))(dr||{}),$x=class{start(e){}interrupt(e){}end(e){}dispose(e){}complete(e){}event(e,t){}};var GC=class{constructor(n){if(this.animationToMixTime={},this.defaultMix=0,n==null)throw new Error("skeletonData cannot be null.");this.skeletonData=n}setMix(n,e,t){let r=this.skeletonData.findAnimation(n);if(r==null)throw new Error(`Animation not found: ${n}`);let i=this.skeletonData.findAnimation(e);if(i==null)throw new Error(`Animation not found: ${e}`);this.setMixWith(r,i,t)}setMixByName(n,e,t){GC.deprecatedWarning1||(GC.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(n,e,t)}setMixWith(n,e,t){if(n==null)throw new Error("from cannot be null.");if(e==null)throw new Error("to cannot be null.");let r=`${n.name}.${e.name}`;this.animationToMixTime[r]=t}getMix(n,e){let t=`${n.name}.${e.name}`,r=this.animationToMixTime[t];return r===void 0?this.defaultMix:r}},Im=GC;Im.deprecatedWarning1=!1;var su=class{constructor(e){this.atlas=e}newRegionAttachment(e,t,r){let i=this.atlas.findRegion(r);if(i==null)throw new Error(`Region not found in atlas: ${r} (region attachment: ${t})`);let s=new Ce(t);return s.region=i,s}newMeshAttachment(e,t,r){let i=this.atlas.findRegion(r);if(i==null)throw new Error(`Region not found in atlas: ${r} (mesh attachment: ${t})`);let s=new Xs(t);return s.region=i,s}newBoundingBoxAttachment(e,t){return new Ad(t)}newPathAttachment(e,t){return new us(t)}newPointAttachment(e,t){return new Md(t)}newClippingAttachment(e,t){return new Td(t)}};var ou=class{constructor(e,t,r){if(this.matrix=new ke,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!1,e==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=t,this.parent=r,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}isActive(){return this.active}update(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(e,t,r,i,s,a,l){this.ax=e,this.ay=t,this.arotation=r,this.ascaleX=i,this.ascaleY=s,this.ashearX=a,this.ashearY=l,this.appliedValid=!0;let o=this.parent,c=this.matrix,u=this.skeleton.scaleX,h=Ct.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(o==null){let g=this.skeleton,v=r+90+l;c.a=D.cosDeg(r+a)*i*u,c.c=D.cosDeg(v)*s*u,c.b=D.sinDeg(r+a)*i*h,c.d=D.sinDeg(v)*s*h,c.tx=e*u+g.x,c.ty=t*h+g.y;return}let d=o.matrix.a,f=o.matrix.c,p=o.matrix.b,m=o.matrix.d;switch(c.tx=d*e+f*t+o.matrix.tx,c.ty=p*e+m*t+o.matrix.ty,this.data.transformMode){case ce.Normal:{let g=r+90+l,v=D.cosDeg(r+a)*i,x=D.cosDeg(g)*s,y=D.sinDeg(r+a)*i,_=D.sinDeg(g)*s;c.a=d*v+f*y,c.c=d*x+f*_,c.b=p*v+m*y,c.d=p*x+m*_;return}case ce.OnlyTranslation:{let g=r+90+l;c.a=D.cosDeg(r+a)*i,c.c=D.cosDeg(g)*s,c.b=D.sinDeg(r+a)*i,c.d=D.sinDeg(g)*s;break}case ce.NoRotationOrReflection:{let g=d*d+p*p,v=0;g>1e-4?(g=Math.abs(d*m-f*p)/g,d/=this.skeleton.scaleX,p/=this.skeleton.scaleY,f=p*g,m=d*g,v=Math.atan2(p,d)*D.radDeg):(d=0,p=0,v=90-Math.atan2(m,f)*D.radDeg);let x=r+a-v,y=r+l-v+90,_=D.cosDeg(x)*i,b=D.cosDeg(y)*s,w=D.sinDeg(x)*i,E=D.sinDeg(y)*s;c.a=d*_-f*w,c.c=d*b-f*E,c.b=p*_+m*w,c.d=p*b+m*E;break}case ce.NoScale:case ce.NoScaleOrReflection:{let g=D.cosDeg(r),v=D.sinDeg(r),x=(d*g+f*v)/u,y=(p*g+m*v)/h,_=Math.sqrt(x*x+y*y);_>1e-5&&(_=1/_),x*=_,y*=_,_=Math.sqrt(x*x+y*y),this.data.transformMode==ce.NoScale&&d*m-f*p<0!=(Ct.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(_=-_);let b=Math.PI/2+Math.atan2(y,x),w=Math.cos(b)*_,E=Math.sin(b)*_,S=D.cosDeg(a)*i,C=D.cosDeg(90+l)*s,R=D.sinDeg(a)*i,P=D.sinDeg(90+l)*s;c.a=x*S+w*R,c.c=x*C+w*P,c.b=y*S+E*R,c.d=y*C+E*P;break}}c.a*=u,c.c*=u,c.b*=h,c.d*=h}setToSetupPose(){let e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*D.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*D.radDeg}getWorldScaleX(){let e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)}getWorldScaleY(){let e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)}updateAppliedTransform(){this.appliedValid=!0;let e=this.parent,t=this.matrix;if(e==null){this.ax=t.tx,this.ay=t.ty,this.arotation=Math.atan2(t.b,t.a)*D.radDeg,this.ascaleX=Math.sqrt(t.a*t.a+t.b*t.b),this.ascaleY=Math.sqrt(t.c*t.c+t.d*t.d),this.ashearX=0,this.ashearY=Math.atan2(t.a*t.c+t.b*t.d,t.a*t.d-t.b*t.c)*D.radDeg;return}let r=e.matrix,i=1/(r.a*r.d-r.b*r.c),s=t.tx-r.tx,a=t.ty-r.ty;this.ax=s*r.d*i-a*r.c*i,this.ay=a*r.a*i-s*r.b*i;let l=i*r.d,o=i*r.a,c=i*r.c,u=i*r.b,h=l*t.a-c*t.b,d=l*t.c-c*t.d,f=o*t.b-u*t.a,p=o*t.d-u*t.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+f*f),this.ascaleX>1e-4){let m=h*p-d*f;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(h*d+f*p,m)*D.radDeg,this.arotation=Math.atan2(f,h)*D.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(d*d+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,d)*D.radDeg}worldToLocal(e){let t=this.matrix,r=t.a,i=t.c,s=t.b,a=t.d,l=1/(r*a-i*s),o=e.x-t.tx,c=e.y-t.ty;return e.x=o*a*l-c*i*l,e.y=c*r*l-o*s*l,e}localToWorld(e){let t=this.matrix,r=e.x,i=e.y;return e.x=r*t.a+i*t.c+t.tx,e.y=r*t.b+i*t.d+t.ty,e}worldToLocalRotation(e){let t=D.sinDeg(e),r=D.cosDeg(e),i=this.matrix;return Math.atan2(i.a*t-i.b*r,i.d*r-i.c*t)*D.radDeg}localToWorldRotation(e){let t=D.sinDeg(e),r=D.cosDeg(e),i=this.matrix;return Math.atan2(r*i.b+t*i.d,r*i.a+t*i.c)*D.radDeg}rotateWorld(e){let t=this.matrix,r=t.a,i=t.c,s=t.b,a=t.d,l=D.cosDeg(e),o=D.sinDeg(e);t.a=l*r-o*s,t.c=l*i-o*a,t.b=o*r+l*s,t.d=o*i+l*a,this.appliedValid=!1}};var Za=class{constructor(e,t,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ce.Normal,this.skinRequired=!1,this.color=new X,e<0)throw new Error("index must be >= 0.");if(t==null)throw new Error("name cannot be null.");this.index=e,this.name=t,this.parent=r}};var qs=class{constructor(e,t,r){this.name=e,this.order=t,this.skinRequired=r}};var Qa=class{constructor(e,t){if(t==null)throw new Error("data cannot be null.");this.time=e,this.data=t}};var Ka=class{constructor(e){this.name=e}};var Id=class{constructor(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,e==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(let r=0;r<e.bones.length;r++)this.bones.push(t.findBone(e.bones[r].name));this.target=t.findBone(e.target.name)}isActive(){return this.active}apply(){this.update()}update(){let e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.softness,this.mix);break}}apply1(e,t,r,i,s,a,l){e.appliedValid||e.updateAppliedTransform();let o=e.parent.matrix,c=o.a,u=o.c,h=o.b,d=o.d,f=-e.ashearX-e.arotation,p=0,m=0;switch(e.data.transformMode){case ce.OnlyTranslation:p=t-e.worldX,m=r-e.worldY;break;case ce.NoRotationOrReflection:let x=Math.abs(c*d-u*h)/(c*c+h*h),y=c/e.skeleton.scaleX,_=h/e.skeleton.scaleY;u=-_*x*e.skeleton.scaleX,d=y*x*e.skeleton.scaleY,f+=Math.atan2(_,y)*D.radDeg;default:let b=t-o.tx,w=r-o.ty,E=c*d-u*h;p=(b*d-w*u)/E-e.ax,m=(w*c-b*h)/E-e.ay}f+=Math.atan2(m,p)*D.radDeg,e.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);let g=e.ascaleX,v=e.ascaleY;if(i||s){switch(e.data.transformMode){case ce.NoScale:case ce.NoScaleOrReflection:p=t-e.worldX,m=r-e.worldY}let x=e.data.length*g,y=Math.sqrt(p*p+m*m);if(i&&y<x||s&&y>x&&x>1e-4){let _=(y/x-1)*l+1;g*=_,a&&(v*=_)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+f*l,g,v,e.ashearX,e.ashearY)}apply2(e,t,r,i,s,a,l,o){if(o==0){t.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();let c=e.ax,u=e.ay,h=e.ascaleX,d=h,f=e.ascaleY,p=t.ascaleX,m=e.matrix,g=0,v=0,x=0;h<0?(h=-h,g=180,x=-1):(g=0,x=1),f<0&&(f=-f,x=-x),p<0?(p=-p,v=180):v=0;let y=t.ax,_=0,b=0,w=0,E=m.a,S=m.c,C=m.b,R=m.d,P=Math.abs(h-f)<=1e-4;P?(_=t.ay,b=E*y+S*_+m.tx,w=C*y+R*_+m.ty):(_=0,b=E*y+m.tx,w=C*y+m.ty);let k=e.parent.matrix;E=k.a,S=k.c,C=k.b,R=k.d;let N=1/(E*R-S*C),O=b-k.tx,G=w-k.ty,q=(O*R-G*S)*N-c,H=(G*E-O*C)*N-u,L=Math.sqrt(q*q+H*H),U=t.data.length*p,V,Z;if(L<1e-4){this.apply1(e,r,i,!1,a,!1,o),t.updateWorldTransformWith(y,_,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);return}O=r-k.tx,G=i-k.ty;let z=(O*R-G*S)*N-c,Y=(G*E-O*C)*N-u,$=z*z+Y*Y;if(l!=0){l*=h*(p+1)/2;let Oe=Math.sqrt($),qe=Oe-L-U*h+l;if(qe>0){let ge=Math.min(1,qe/(l*2))-1;ge=(qe-l*(1-ge*ge))/Oe,z-=ge*z,Y-=ge*Y,$=z*z+Y*Y}}e:if(P){U*=h;let Oe=($-L*L-U*U)/(2*L*U);Oe<-1?Oe=-1:Oe>1&&(Oe=1,a&&(d*=(Math.sqrt($)/(L+U)-1)*o+1)),Z=Math.acos(Oe)*s,E=L+U*Oe,S=U*Math.sin(Z),V=Math.atan2(Y*E-z*S,z*E+Y*S)}else{E=h*U,S=f*U;let Oe=E*E,qe=S*S,ge=Math.atan2(Y,z);C=qe*L*L+Oe*$-Oe*qe;let Le=-2*qe*L,He=qe-Oe;if(R=Le*Le-4*He*C,R>=0){let zr=Math.sqrt(R);Le<0&&(zr=-zr),zr=-(Le+zr)/2;let jo=zr/He,Ln=C/zr,no=Math.abs(jo)<Math.abs(Ln)?jo:Ln;if(no*no<=$){G=Math.sqrt($-no*no)*s,V=ge-Math.atan2(G,no),Z=Math.atan2(G/f,(no-L)/h);break e}}let at=D.PI,dt=L-E,Kn=dt*dt,Wr=0,Yr=0,Xr=L+E,Sr=Xr*Xr,Cr=0;C=-E*L/(Oe-qe),C>=-1&&C<=1&&(C=Math.acos(C),O=E*Math.cos(C)+L,G=S*Math.sin(C),R=O*O+G*G,R<Kn&&(at=C,Kn=R,dt=O,Wr=G),R>Sr&&(Yr=C,Sr=R,Xr=O,Cr=G)),$<=(Kn+Sr)/2?(V=ge-Math.atan2(Wr*s,dt),Z=at*s):(V=ge-Math.atan2(Cr*s,Xr),Z=Yr*s)}let ae=Math.atan2(_,y)*x,me=e.arotation;V=(V-ae)*D.radDeg+g-me,V>180?V-=360:V<-180&&(V+=360),e.updateWorldTransformWith(c,u,me+V*o,d,e.ascaleY,0,0),me=t.arotation,Z=((Z+ae)*D.radDeg-t.ashearX)*x+v-me,Z>180?Z-=360:Z<-180&&(Z+=360),t.updateWorldTransformWith(y,_,me+Z*o,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}};var Ja=class extends qs{constructor(e){super(e,0,!1),this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}};var el=class extends qs{constructor(e){super(e,0,!1),this.bones=new Array}},Yt=(n=>(n[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",n))(Yt||{});var au=class{constructor(n,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,n==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=n,this.bones=new Array;for(let t=0,r=n.bones.length;t<r;t++)this.bones.push(e.findBone(n.bones[t].name));this.target=e.findSlot(n.target.name),this.position=n.position,this.spacing=n.spacing,this.rotateMix=n.rotateMix,this.translateMix=n.translateMix}isActive(){return this.active}apply(){this.update()}update(){let n=this.target.getAttachment();if(!(n instanceof us))return;let e=this.rotateMix,t=this.translateMix,r=t>0,i=e>0;if(!r&&!i)return;let s=this.data,a=s.spacingMode,l=a==Yt.Length,o=s.rotateMode,c=o==ot.Tangent,u=o==ot.ChainScale,h=this.bones.length,d=c?h:h+1,f=this.bones,p=F.setArraySize(this.spaces,d),m=null,g=this.spacing;if(u||l){u&&(m=F.setArraySize(this.lengths,h));for(let w=0,E=d-1;w<E;){let S=f[w],C=S.data.length;if(C<au.epsilon)u&&(m[w]=0),p[++w]=0;else{let R=C*S.matrix.a,P=C*S.matrix.b,k=Math.sqrt(R*R+P*P);u&&(m[w]=k),p[++w]=(l?C+g:g)*k/C}}}else for(let w=1;w<d;w++)p[w]=g;let v=this.computeWorldPositions(n,d,c,s.positionMode==Je.Percent,a==Yt.Percent),x=v[0],y=v[1],_=s.offsetRotation,b=!1;if(_==0)b=o==ot.Chain;else{b=!1;let w=this.target.bone.matrix;_*=w.a*w.d-w.b*w.c>0?D.degRad:-D.degRad}for(let w=0,E=3;w<h;w++,E+=3){let S=f[w],C=S.matrix;C.tx+=(x-C.tx)*t,C.ty+=(y-C.ty)*t;let R=v[E],P=v[E+1],k=R-x,N=P-y;if(u){let O=m[w];if(O!=0){let G=(Math.sqrt(k*k+N*N)/O-1)*e+1;C.a*=G,C.b*=G}}if(x=R,y=P,i){let O=C.a,G=C.c,q=C.b,H=C.d,L=0,U=0,V=0;if(c&&(c?L=v[E-1]:p[w+1]==0?L=v[E+2]:L=Math.atan2(N,k)),L-=Math.atan2(q,O),b){U=Math.cos(L),V=Math.sin(L);let Z=S.data.length;x+=(Z*(U*O-V*q)-k)*e,y+=(Z*(V*O+U*q)-N)*e}else L+=_;L>D.PI?L-=D.PI2:L<-D.PI&&(L+=D.PI2),L*=e,U=Math.cos(L),V=Math.sin(L),C.a=U*O-V*q,C.c=U*G-V*H,C.b=V*O+U*q,C.d=V*G+U*H}S.appliedValid=!1}}computeWorldPositions(n,e,t,r,i){let s=this.target,a=this.position,l=this.spaces,o=F.setArraySize(this.positions,e*3+2),c=null,u=n.closed,h=n.worldVerticesLength,d=h/6,f=au.NONE;if(!n.constantSpeed){let L=n.lengths;d-=u?1:2;let U=L[d];if(r&&(a*=U),i)for(let V=0;V<e;V++)l[V]*=U;c=F.setArraySize(this.world,8);for(let V=0,Z=0,z=0;V<e;V++,Z+=3){let Y=l[V];a+=Y;let $=a;if(u)$%=U,$<0&&($+=U),z=0;else if($<0){f!=au.BEFORE&&(f=au.BEFORE,n.computeWorldVertices(s,2,4,c,0,2)),this.addBeforePosition($,c,0,o,Z);continue}else if($>U){f!=au.AFTER&&(f=au.AFTER,n.computeWorldVertices(s,h-6,4,c,0,2)),this.addAfterPosition($-U,c,0,o,Z);continue}for(;;z++){let ae=L[z];if(!($>ae)){if(z==0)$/=ae;else{let me=L[z-1];$=($-me)/(ae-me)}break}}z!=f&&(f=z,u&&z==d?(n.computeWorldVertices(s,h-4,4,c,0,2),n.computeWorldVertices(s,0,4,c,4,2)):n.computeWorldVertices(s,z*6+2,8,c,0,2)),this.addCurvePosition($,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],o,Z,t||V>0&&Y==0)}return o}u?(h+=2,c=F.setArraySize(this.world,h),n.computeWorldVertices(s,2,h-4,c,0,2),n.computeWorldVertices(s,0,2,c,h-4,2),c[h-2]=c[0],c[h-1]=c[1]):(d--,h-=4,c=F.setArraySize(this.world,h),n.computeWorldVertices(s,2,h,c,0,2));let p=F.setArraySize(this.curves,d),m=0,g=c[0],v=c[1],x=0,y=0,_=0,b=0,w=0,E=0,S=0,C=0,R=0,P=0,k=0,N=0,O=0,G=0;for(let L=0,U=2;L<d;L++,U+=6)x=c[U],y=c[U+1],_=c[U+2],b=c[U+3],w=c[U+4],E=c[U+5],S=(g-x*2+_)*.1875,C=(v-y*2+b)*.1875,R=((x-_)*3-g+w)*.09375,P=((y-b)*3-v+E)*.09375,k=S*2+R,N=C*2+P,O=(x-g)*.75+S+R*.16666667,G=(y-v)*.75+C+P*.16666667,m+=Math.sqrt(O*O+G*G),O+=k,G+=N,k+=R,N+=P,m+=Math.sqrt(O*O+G*G),O+=k,G+=N,m+=Math.sqrt(O*O+G*G),O+=k+R,G+=N+P,m+=Math.sqrt(O*O+G*G),p[L]=m,g=w,v=E;if(r&&(a*=m),i)for(let L=0;L<e;L++)l[L]*=m;let q=this.segments,H=0;for(let L=0,U=0,V=0,Z=0;L<e;L++,U+=3){let z=l[L];a+=z;let Y=a;if(u)Y%=m,Y<0&&(Y+=m),V=0;else if(Y<0){this.addBeforePosition(Y,c,0,o,U);continue}else if(Y>m){this.addAfterPosition(Y-m,c,h-4,o,U);continue}for(;;V++){let $=p[V];if(!(Y>$)){if(V==0)Y/=$;else{let ae=p[V-1];Y=(Y-ae)/($-ae)}break}}if(V!=f){f=V;let $=V*6;for(g=c[$],v=c[$+1],x=c[$+2],y=c[$+3],_=c[$+4],b=c[$+5],w=c[$+6],E=c[$+7],S=(g-x*2+_)*.03,C=(v-y*2+b)*.03,R=((x-_)*3-g+w)*.006,P=((y-b)*3-v+E)*.006,k=S*2+R,N=C*2+P,O=(x-g)*.3+S+R*.16666667,G=(y-v)*.3+C+P*.16666667,H=Math.sqrt(O*O+G*G),q[0]=H,$=1;$<8;$++)O+=k,G+=N,k+=R,N+=P,H+=Math.sqrt(O*O+G*G),q[$]=H;O+=k,G+=N,H+=Math.sqrt(O*O+G*G),q[8]=H,O+=k+R,G+=N+P,H+=Math.sqrt(O*O+G*G),q[9]=H,Z=0}for(Y*=H;;Z++){let $=q[Z];if(!(Y>$)){if(Z==0)Y/=$;else{let ae=q[Z-1];Y=Z+(Y-ae)/($-ae)}break}}this.addCurvePosition(Y*.1,g,v,x,y,_,b,w,E,o,U,t||L>0&&z==0)}return o}addBeforePosition(n,e,t,r,i){let s=e[t],a=e[t+1],l=e[t+2]-s,o=e[t+3]-a,c=Math.atan2(o,l);r[i]=s+n*Math.cos(c),r[i+1]=a+n*Math.sin(c),r[i+2]=c}addAfterPosition(n,e,t,r,i){let s=e[t+2],a=e[t+3],l=s-e[t],o=a-e[t+1],c=Math.atan2(o,l);r[i]=s+n*Math.cos(c),r[i+1]=a+n*Math.sin(c),r[i+2]=c}addCurvePosition(n,e,t,r,i,s,a,l,o,c,u,h){(n==0||isNaN(n))&&(n=1e-4);let d=n*n,f=d*n,p=1-n,m=p*p,g=m*p,v=p*n,x=v*3,y=p*x,_=x*n,b=e*g+r*y+s*_+l*f,w=t*g+i*y+a*_+o*f;c[u]=b,c[u+1]=w,h&&(c[u+2]=Math.atan2(w-(t*m+i*v*2+a*d),b-(e*m+r*v*2+s*d)))}},tl=au;tl.NONE=-1;tl.BEFORE=-2;tl.AFTER=-3;tl.epsilon=1e-5;var Dd=class{constructor(e,t){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Li,this.active=!1,e==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(let r=0;r<e.bones.length;r++)this.bones.push(t.findBone(e.bones[r].name));this.target=t.findBone(e.target.name)}isActive(){return this.active}apply(){this.update()}update(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}applyAbsoluteWorld(){let e=this.rotateMix,t=this.translateMix,r=this.scaleMix,i=this.shearMix,s=this.target,a=s.matrix,l=a.a,o=a.c,c=a.b,u=a.d,h=l*u-o*c>0?D.degRad:-D.degRad,d=this.data.offsetRotation*h,f=this.data.offsetShearY*h,p=this.bones;for(let m=0,g=p.length;m<g;m++){let v=p[m],x=!1,y=v.matrix;if(e!=0){let _=y.a,b=y.c,w=y.b,E=y.d,S=Math.atan2(c,l)-Math.atan2(w,_)+d;S>D.PI?S-=D.PI2:S<-D.PI&&(S+=D.PI2),S*=e;let C=Math.cos(S),R=Math.sin(S);y.a=C*_-R*w,y.c=C*b-R*E,y.b=R*_+C*w,y.d=R*b+C*E,x=!0}if(t!=0){let _=this.temp;s.localToWorld(_.set(this.data.offsetX,this.data.offsetY)),y.tx+=(_.x-y.tx)*t,y.ty+=(_.y-y.ty)*t,x=!0}if(r>0){let _=Math.sqrt(y.a*y.a+y.b*y.b),b=Math.sqrt(l*l+c*c);_>1e-5&&(_=(_+(b-_+this.data.offsetScaleX)*r)/_),y.a*=_,y.b*=_,_=Math.sqrt(y.c*y.c+y.d*y.d),b=Math.sqrt(o*o+u*u),_>1e-5&&(_=(_+(b-_+this.data.offsetScaleY)*r)/_),y.c*=_,y.d*=_,x=!0}if(i>0){let _=y.c,b=y.d,w=Math.atan2(b,_),E=Math.atan2(u,o)-Math.atan2(c,l)-(w-Math.atan2(y.b,y.a));E>D.PI?E-=D.PI2:E<-D.PI&&(E+=D.PI2),E=w+(E+f)*i;let S=Math.sqrt(_*_+b*b);y.c=Math.cos(E)*S,y.d=Math.sin(E)*S,x=!0}x&&(v.appliedValid=!1)}}applyRelativeWorld(){let e=this.rotateMix,t=this.translateMix,r=this.scaleMix,i=this.shearMix,s=this.target,a=s.matrix,l=a.a,o=a.c,c=a.b,u=a.d,h=l*u-o*c>0?D.degRad:-D.degRad,d=this.data.offsetRotation*h,f=this.data.offsetShearY*h,p=this.bones;for(let m=0,g=p.length;m<g;m++){let v=p[m],x=!1,y=v.matrix;if(e!=0){let _=y.a,b=y.c,w=y.b,E=y.d,S=Math.atan2(c,l)+d;S>D.PI?S-=D.PI2:S<-D.PI&&(S+=D.PI2),S*=e;let C=Math.cos(S),R=Math.sin(S);y.a=C*_-R*w,y.c=C*b-R*E,y.b=R*_+C*w,y.d=R*b+C*E,x=!0}if(t!=0){let _=this.temp;s.localToWorld(_.set(this.data.offsetX,this.data.offsetY)),y.tx+=_.x*t,y.ty+=_.y*t,x=!0}if(r>0){let _=(Math.sqrt(l*l+c*c)-1+this.data.offsetScaleX)*r+1;y.a*=_,y.b*=_,_=(Math.sqrt(o*o+u*u)-1+this.data.offsetScaleY)*r+1,y.c*=_,y.d*=_,x=!0}if(i>0){let _=Math.atan2(u,o)-Math.atan2(c,l);_>D.PI?_-=D.PI2:_<-D.PI&&(_+=D.PI2);let b=y.c,w=y.d;_=Math.atan2(w,b)+(_-D.PI/2+f)*i;let E=Math.sqrt(b*b+w*w);y.c=Math.cos(_)*E,y.d=Math.sin(_)*E,x=!0}x&&(v.appliedValid=!1)}}applyAbsoluteLocal(){let e=this.rotateMix,t=this.translateMix,r=this.scaleMix,i=this.shearMix,s=this.target;s.appliedValid||s.updateAppliedTransform();let a=this.bones;for(let l=0,o=a.length;l<o;l++){let c=a[l];c.appliedValid||c.updateAppliedTransform();let u=c.arotation;if(e!=0){let g=s.arotation-u+this.data.offsetRotation;g-=(16384-(16384.499999999996-g/360|0))*360,u+=g*e}let h=c.ax,d=c.ay;t!=0&&(h+=(s.ax-h+this.data.offsetX)*t,d+=(s.ay-d+this.data.offsetY)*t);let f=c.ascaleX,p=c.ascaleY;r>0&&(f>1e-5&&(f=(f+(s.ascaleX-f+this.data.offsetScaleX)*r)/f),p>1e-5&&(p=(p+(s.ascaleY-p+this.data.offsetScaleY)*r)/p));let m=c.ashearY;if(i>0){let g=s.ashearY-m+this.data.offsetShearY;g-=(16384-(16384.499999999996-g/360|0))*360,c.shearY+=g*i}c.updateWorldTransformWith(h,d,u,f,p,c.ashearX,m)}}applyRelativeLocal(){let e=this.rotateMix,t=this.translateMix,r=this.scaleMix,i=this.shearMix,s=this.target;s.appliedValid||s.updateAppliedTransform();let a=this.bones;for(let l=0,o=a.length;l<o;l++){let c=a[l];c.appliedValid||c.updateAppliedTransform();let u=c.arotation;e!=0&&(u+=(s.arotation+this.data.offsetRotation)*e);let h=c.ax,d=c.ay;t!=0&&(h+=(s.ax+this.data.offsetX)*t,d+=(s.ay+this.data.offsetY)*t);let f=c.ascaleX,p=c.ascaleY;r>0&&(f>1e-5&&(f*=(s.ascaleX-1+this.data.offsetScaleX)*r+1),p>1e-5&&(p*=(s.ascaleY-1+this.data.offsetScaleY)*r+1));let m=c.ashearY;i>0&&(m+=(s.ashearY+this.data.offsetShearY)*i),c.updateWorldTransformWith(h,d,u,f,p,c.ashearX,m)}}};var Dm=class{constructor(n){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,n==null)throw new Error("data cannot be null.");this.data=n,this.bones=new Array;for(let e=0;e<n.bones.length;e++){let t=n.bones[e],r;if(t.parent==null)r=new ou(t,this,null);else{let i=this.bones[t.parent.index];r=new ou(t,this,i),i.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<n.slots.length;e++){let t=n.slots[e],r=this.bones[t.boneData.index],i=new Ha(t,r);this.slots.push(i),this.drawOrder.push(i)}this.ikConstraints=new Array;for(let e=0;e<n.ikConstraints.length;e++){let t=n.ikConstraints[e];this.ikConstraints.push(new Id(t,this))}this.transformConstraints=new Array;for(let e=0;e<n.transformConstraints.length;e++){let t=n.transformConstraints[e];this.transformConstraints.push(new Dd(t,this))}this.pathConstraints=new Array;for(let e=0;e<n.pathConstraints.length;e++){let t=n.pathConstraints[e];this.pathConstraints.push(new tl(t,this))}this.color=new X(1,1,1,1),this.updateCache()}updateCache(){let n=this._updateCache;n.length=0,this.updateCacheReset.length=0;let e=this.bones;for(let c=0,u=e.length;c<u;c++){let h=e[c];h.sorted=h.data.skinRequired,h.active=!h.sorted}if(this.skin!=null){let c=this.skin.bones;for(let u=0,h=this.skin.bones.length;u<h;u++){let d=this.bones[c[u].index];do d.sorted=!1,d.active=!0,d=d.parent;while(d!=null)}}let t=this.ikConstraints,r=this.transformConstraints,i=this.pathConstraints,s=t.length,a=r.length,l=i.length,o=s+a+l;e:for(let c=0;c<o;c++){for(let u=0;u<s;u++){let h=t[u];if(h.data.order==c){this.sortIkConstraint(h);continue e}}for(let u=0;u<a;u++){let h=r[u];if(h.data.order==c){this.sortTransformConstraint(h);continue e}}for(let u=0;u<l;u++){let h=i[u];if(h.data.order==c){this.sortPathConstraint(h);continue e}}}for(let c=0,u=e.length;c<u;c++)this.sortBone(e[c])}sortIkConstraint(n){if(n.active=n.target.isActive()&&(!n.data.skinRequired||this.skin!=null&&F.contains(this.skin.constraints,n.data,!0)),!n.active)return;let e=n.target;this.sortBone(e);let t=n.bones,r=t[0];if(this.sortBone(r),t.length>1){let i=t[t.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(n),this.sortReset(r.children),t[t.length-1].sorted=!0}sortPathConstraint(n){if(n.active=n.target.bone.isActive()&&(!n.data.skinRequired||this.skin!=null&&F.contains(this.skin.constraints,n.data,!0)),!n.active)return;let e=n.target,t=e.data.index,r=e.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,t,r),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,t,r);for(let l=0,o=this.data.skins.length;l<o;l++)this.sortPathConstraintAttachment(this.data.skins[l],t,r);let i=e.getAttachment();i instanceof us&&this.sortPathConstraintAttachmentWith(i,r);let s=n.bones,a=s.length;for(let l=0;l<a;l++)this.sortBone(s[l]);this._updateCache.push(n);for(let l=0;l<a;l++)this.sortReset(s[l].children);for(let l=0;l<a;l++)s[l].sorted=!0}sortTransformConstraint(n){if(n.active=n.target.isActive()&&(!n.data.skinRequired||this.skin!=null&&F.contains(this.skin.constraints,n.data,!0)),!n.active)return;this.sortBone(n.target);let e=n.bones,t=e.length;if(n.data.local)for(let r=0;r<t;r++){let i=e[r];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(let r=0;r<t;r++)this.sortBone(e[r]);this._updateCache.push(n);for(let r=0;r<t;r++)this.sortReset(e[r].children);for(let r=0;r<t;r++)e[r].sorted=!0}sortPathConstraintAttachment(n,e,t){let r=n.attachments[e];if(r)for(let i in r)this.sortPathConstraintAttachmentWith(r[i],t)}sortPathConstraintAttachmentWith(n,e){if(!(n instanceof us))return;let t=n.bones;if(t==null)this.sortBone(e);else{let r=this.bones,i=0;for(;i<t.length;){let s=t[i++];for(let a=i+s;i<a;i++){let l=t[i];this.sortBone(r[l])}}}}sortBone(n){if(n.sorted)return;let e=n.parent;e!=null&&this.sortBone(e),n.sorted=!0,this._updateCache.push(n)}sortReset(n){for(let e=0,t=n.length;e<t;e++){let r=n[e];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}}updateWorldTransform(){let n=this.updateCacheReset;for(let t=0,r=n.length;t<r;t++){let i=n[t];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}let e=this._updateCache;for(let t=0,r=e.length;t<r;t++)e[t].update()}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){let n=this.bones;for(let i=0,s=n.length;i<s;i++)n[i].setToSetupPose();let e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){let a=e[i];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}let t=this.transformConstraints;for(let i=0,s=t.length;i<s;i++){let a=t[i],l=a.data;a.rotateMix=l.rotateMix,a.translateMix=l.translateMix,a.scaleMix=l.scaleMix,a.shearMix=l.shearMix}let r=this.pathConstraints;for(let i=0,s=r.length;i<s;i++){let a=r[i],l=a.data;a.position=l.position,a.spacing=l.spacing,a.rotateMix=l.rotateMix,a.translateMix=l.translateMix}}setSlotsToSetupPose(){let n=this.slots;F.arrayCopy(n,0,this.drawOrder,0,n.length);for(let e=0,t=n.length;e<t;e++)n[e].setToSetupPose()}getRootBone(){return this.bones.length==0?null:this.bones[0]}findBone(n){if(n==null)throw new Error("boneName cannot be null.");let e=this.bones;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findBoneIndex(n){if(n==null)throw new Error("boneName cannot be null.");let e=this.bones;for(let t=0,r=e.length;t<r;t++)if(e[t].data.name==n)return t;return-1}findSlot(n){if(n==null)throw new Error("slotName cannot be null.");let e=this.slots;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findSlotIndex(n){if(n==null)throw new Error("slotName cannot be null.");let e=this.slots;for(let t=0,r=e.length;t<r;t++)if(e[t].data.name==n)return t;return-1}setSkinByName(n){let e=this.data.findSkin(n);if(e==null)throw new Error(`Skin not found: ${n}`);this.setSkin(e)}setSkin(n){if(n!=this.skin){if(n!=null)if(this.skin!=null)n.attachAll(this,this.skin);else{let e=this.slots;for(let t=0,r=e.length;t<r;t++){let i=e[t],s=i.data.attachmentName;if(s!=null){let a=n.getAttachment(t,s);a!=null&&i.setAttachment(a)}}}this.skin=n,this.updateCache()}}getAttachmentByName(n,e){return this.getAttachment(this.data.findSlotIndex(n),e)}getAttachment(n,e){if(e==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){let t=this.skin.getAttachment(n,e);if(t!=null)return t}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(n,e):null}setAttachment(n,e){if(n==null)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.data.name==n){let a=null;if(e!=null&&(a=this.getAttachment(r,e),a==null))throw new Error(`Attachment not found: ${e}, for slot: ${n}`);s.setAttachment(a);return}}throw new Error(`Slot not found: ${n}`)}findIkConstraint(n){if(n==null)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findTransformConstraint(n){if(n==null)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findPathConstraint(n){if(n==null)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}getBounds(n,e,t=new Array(2)){if(n==null)throw new Error("offset cannot be null.");if(e==null)throw new Error("size cannot be null.");let r=this.drawOrder,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let o=0,c=r.length;o<c;o++){let u=r[o];if(!u.bone.active)continue;let h=0,d=null,f=u.getAttachment();if(f instanceof Ce)h=8,d=F.setArraySize(t,h,0),f.computeWorldVertices(u.bone,d,0,2);else if(f instanceof Xs){let p=f;h=p.worldVerticesLength,d=F.setArraySize(t,h,0),p.computeWorldVertices(u,0,h,d,0,2)}if(d!=null)for(let p=0,m=d.length;p<m;p+=2){let g=d[p],v=d[p+1];i=Math.min(i,g),s=Math.min(s,v),a=Math.max(a,g),l=Math.max(l,v)}}n.set(i,s),e.set(a-i,l-s)}update(n){this.time+=n}get flipX(){return this.scaleX==-1}set flipX(n){Dm.deprecatedWarning1||(Dm.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=n?1:-1}get flipY(){return this.scaleY==-1}set flipY(n){Dm.deprecatedWarning1||(Dm.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=n?1:-1}},Rm=Dm;Rm.deprecatedWarning1=!1;var nl=class{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(e){if(e==null)throw new Error("boneName cannot be null.");let t=this.bones;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findBoneIndex(e){if(e==null)throw new Error("boneName cannot be null.");let t=this.bones;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}findSlot(e){if(e==null)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findSlotIndex(e){if(e==null)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}findSkin(e){if(e==null)throw new Error("skinName cannot be null.");let t=this.skins;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findEvent(e){if(e==null)throw new Error("eventDataName cannot be null.");let t=this.events;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findAnimation(e){if(e==null)throw new Error("animationName cannot be null.");let t=this.animations;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findIkConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");let t=this.ikConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findTransformConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");let t=this.transformConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findPathConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");let t=this.pathConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findPathConstraintIndex(e){if(e==null)throw new Error("pathConstraintName cannot be null.");let t=this.pathConstraints;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}};var rl=class{constructor(e,t,r){if(this.color=new X(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(t==null)throw new Error("name cannot be null.");if(r==null)throw new Error("boneData cannot be null.");this.index=e,this.name=t,this.boneData=r}};var il=class extends qs{constructor(e){super(e,0,!1),this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}};var Rd=class{constructor(e,t,r){this.slotIndex=e,this.name=t,this.attachment=r}},Ro=class{constructor(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,e==null)throw new Error("name cannot be null.");this.name=e}setAttachment(e,t,r){if(r==null)throw new Error("attachment cannot be null.");let i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][t]=r}addSkin(e){for(let r=0;r<e.bones.length;r++){let i=e.bones[r],s=!1;for(let a=0;a<this.bones.length;a++)if(this.bones[a]==i){s=!0;break}s||this.bones.push(i)}for(let r=0;r<e.constraints.length;r++){let i=e.constraints[r],s=!1;for(let a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){s=!0;break}s||this.constraints.push(i)}let t=e.getAttachments();for(let r=0;r<t.length;r++){let i=t[r];this.setAttachment(i.slotIndex,i.name,i.attachment)}}copySkin(e){for(let r=0;r<e.bones.length;r++){let i=e.bones[r],s=!1;for(let a=0;a<this.bones.length;a++)if(this.bones[a]==i){s=!0;break}s||this.bones.push(i)}for(let r=0;r<e.constraints.length;r++){let i=e.constraints[r],s=!1;for(let a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){s=!0;break}s||this.constraints.push(i)}let t=e.getAttachments();for(let r=0;r<t.length;r++){let i=t[r];i.attachment!=null&&(i.attachment instanceof Xs?(i.attachment=i.attachment.newLinkedMesh(),this.setAttachment(i.slotIndex,i.name,i.attachment)):(i.attachment=i.attachment.copy(),this.setAttachment(i.slotIndex,i.name,i.attachment)))}}getAttachment(e,t){let r=this.attachments[e];return r?r[t]:null}removeAttachment(e,t){let r=this.attachments[e];r&&(r[t]=null)}getAttachments(){let e=new Array;for(let t=0;t<this.attachments.length;t++){let r=this.attachments[t];if(r)for(let i in r){let s=r[i];s&&e.push(new Rd(t,i,s))}}return e}getAttachmentsForSlot(e,t){let r=this.attachments[e];if(r)for(let i in r){let s=r[i];s&&t.push(new Rd(e,i,s))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(e,t){let r=0;for(let i=0;i<e.slots.length;i++){let s=e.slots[i],a=s.getAttachment();if(a&&r<t.attachments.length){let l=t.attachments[r];for(let o in l){let c=l[o];if(a==c){let u=this.getAttachment(r,o);u!=null&&s.setAttachment(u);break}}}r++}}};var Xt=class{constructor(n){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=n}readSkeletonData(n){let e=this.scale,t=new nl;t.name="";let r=new Ls(n);t.hash=r.readString(),t.version=r.readString(),t.version==="3.8.75"&&console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine."),t.x=r.readFloat(),t.y=r.readFloat(),t.width=r.readFloat(),t.height=r.readFloat();let i=r.readBoolean();i&&(t.fps=r.readFloat(),t.imagesPath=r.readString(),t.audioPath=r.readString());let s=0;s=r.readInt(!0);for(let l=0;l<s;l++)r.strings.push(r.readString());s=r.readInt(!0);for(let l=0;l<s;l++){let o=r.readString(),c=l==0?null:t.bones[r.readInt(!0)],u=new Za(l,o,c);u.rotation=r.readFloat(),u.x=r.readFloat()*e,u.y=r.readFloat()*e,u.scaleX=r.readFloat(),u.scaleY=r.readFloat(),u.shearX=r.readFloat(),u.shearY=r.readFloat(),u.length=r.readFloat()*e,u.transformMode=Xt.TransformModeValues[r.readInt(!0)],u.skinRequired=r.readBoolean(),i&&X.rgba8888ToColor(u.color,r.readInt32()),t.bones.push(u)}s=r.readInt(!0);for(let l=0;l<s;l++){let o=r.readString(),c=t.bones[r.readInt(!0)],u=new rl(l,o,c);X.rgba8888ToColor(u.color,r.readInt32());let h=r.readInt32();h!=-1&&X.rgb888ToColor(u.darkColor=new X,h),u.attachmentName=r.readStringRef(),u.blendMode=Xt.BlendModeValues[r.readInt(!0)],t.slots.push(u)}s=r.readInt(!0);for(let l=0,o;l<s;l++){let c=new Ja(r.readString());c.order=r.readInt(!0),c.skinRequired=r.readBoolean(),o=r.readInt(!0);for(let u=0;u<o;u++)c.bones.push(t.bones[r.readInt(!0)]);c.target=t.bones[r.readInt(!0)],c.mix=r.readFloat(),c.softness=r.readFloat()*e,c.bendDirection=r.readByte(),c.compress=r.readBoolean(),c.stretch=r.readBoolean(),c.uniform=r.readBoolean(),t.ikConstraints.push(c)}s=r.readInt(!0);for(let l=0,o;l<s;l++){let c=new il(r.readString());c.order=r.readInt(!0),c.skinRequired=r.readBoolean(),o=r.readInt(!0);for(let u=0;u<o;u++)c.bones.push(t.bones[r.readInt(!0)]);c.target=t.bones[r.readInt(!0)],c.local=r.readBoolean(),c.relative=r.readBoolean(),c.offsetRotation=r.readFloat(),c.offsetX=r.readFloat()*e,c.offsetY=r.readFloat()*e,c.offsetScaleX=r.readFloat(),c.offsetScaleY=r.readFloat(),c.offsetShearY=r.readFloat(),c.rotateMix=r.readFloat(),c.translateMix=r.readFloat(),c.scaleMix=r.readFloat(),c.shearMix=r.readFloat(),t.transformConstraints.push(c)}s=r.readInt(!0);for(let l=0,o;l<s;l++){let c=new el(r.readString());c.order=r.readInt(!0),c.skinRequired=r.readBoolean(),o=r.readInt(!0);for(let u=0;u<o;u++)c.bones.push(t.bones[r.readInt(!0)]);c.target=t.slots[r.readInt(!0)],c.positionMode=Xt.PositionModeValues[r.readInt(!0)],c.spacingMode=Xt.SpacingModeValues[r.readInt(!0)],c.rotateMode=Xt.RotateModeValues[r.readInt(!0)],c.offsetRotation=r.readFloat(),c.position=r.readFloat(),c.positionMode==Je.Fixed&&(c.position*=e),c.spacing=r.readFloat(),(c.spacingMode==Yt.Length||c.spacingMode==Yt.Fixed)&&(c.spacing*=e),c.rotateMix=r.readFloat(),c.translateMix=r.readFloat(),t.pathConstraints.push(c)}let a=this.readSkin(r,t,!0,i);a!=null&&(t.defaultSkin=a,t.skins.push(a));{let l=t.skins.length;for(F.setArraySize(t.skins,s=l+r.readInt(!0));l<s;l++)t.skins[l]=this.readSkin(r,t,!1,i)}s=this.linkedMeshes.length;for(let l=0;l<s;l++){let o=this.linkedMeshes[l],c=o.skin==null?t.defaultSkin:t.findSkin(o.skin);if(c==null)throw new Error(`Skin not found: ${o.skin}`);let u=c.getAttachment(o.slotIndex,o.parent);if(u==null)throw new Error(`Parent mesh not found: ${o.parent}`);o.mesh.deformAttachment=o.inheritDeform?u:o.mesh,o.mesh.setParentMesh(u)}this.linkedMeshes.length=0,s=r.readInt(!0);for(let l=0;l<s;l++){let o=new Ka(r.readStringRef());o.intValue=r.readInt(!1),o.floatValue=r.readFloat(),o.stringValue=r.readString(),o.audioPath=r.readString(),o.audioPath!=null&&(o.volume=r.readFloat(),o.balance=r.readFloat()),t.events.push(o)}s=r.readInt(!0);for(let l=0;l<s;l++)t.animations.push(this.readAnimation(r,r.readString(),t));return t}readSkin(n,e,t,r){let i=null,s=0;if(t){if(s=n.readInt(!0),s==0)return null;i=new Ro("default")}else{i=new Ro(n.readStringRef()),i.bones.length=n.readInt(!0);for(let a=0,l=i.bones.length;a<l;a++)i.bones[a]=e.bones[n.readInt(!0)];for(let a=0,l=n.readInt(!0);a<l;a++)i.constraints.push(e.ikConstraints[n.readInt(!0)]);for(let a=0,l=n.readInt(!0);a<l;a++)i.constraints.push(e.transformConstraints[n.readInt(!0)]);for(let a=0,l=n.readInt(!0);a<l;a++)i.constraints.push(e.pathConstraints[n.readInt(!0)]);s=n.readInt(!0)}for(let a=0;a<s;a++){let l=n.readInt(!0);for(let o=0,c=n.readInt(!0);o<c;o++){let u=n.readStringRef(),h=this.readAttachment(n,e,i,l,u,r);h!=null&&i.setAttachment(l,u,h)}}return i}readAttachment(n,e,t,r,i,s){let a=this.scale,l=n.readStringRef();l==null&&(l=i);let o=n.readByte();switch(Xt.AttachmentTypeValues[o]){case le.Region:{let u=n.readStringRef(),h=n.readFloat(),d=n.readFloat(),f=n.readFloat(),p=n.readFloat(),m=n.readFloat(),g=n.readFloat(),v=n.readFloat(),x=n.readInt32();u==null&&(u=l);let y=this.attachmentLoader.newRegionAttachment(t,l,u);return y==null?null:(y.path=u,y.x=d*a,y.y=f*a,y.scaleX=p,y.scaleY=m,y.rotation=h,y.width=g*a,y.height=v*a,X.rgba8888ToColor(y.color,x),y)}case le.BoundingBox:{let u=n.readInt(!0),h=this.readVertices(n,u),d=s?n.readInt32():0,f=this.attachmentLoader.newBoundingBoxAttachment(t,l);return f==null?null:(f.worldVerticesLength=u<<1,f.vertices=h.vertices,f.bones=h.bones,s&&X.rgba8888ToColor(f.color,d),f)}case le.Mesh:{let u=n.readStringRef(),h=n.readInt32(),d=n.readInt(!0),f=this.readFloatArray(n,d<<1,1),p=this.readShortArray(n),m=this.readVertices(n,d),g=n.readInt(!0),v=null,x=0,y=0;s&&(v=this.readShortArray(n),x=n.readFloat(),y=n.readFloat()),u==null&&(u=l);let _=this.attachmentLoader.newMeshAttachment(t,l,u);return _==null?null:(_.path=u,X.rgba8888ToColor(_.color,h),_.bones=m.bones,_.vertices=m.vertices,_.worldVerticesLength=d<<1,_.triangles=p,_.regionUVs=new Float32Array(f),_.hullLength=g<<1,s&&(_.edges=v,_.width=x*a,_.height=y*a),_)}case le.LinkedMesh:{let u=n.readStringRef(),h=n.readInt32(),d=n.readStringRef(),f=n.readStringRef(),p=n.readBoolean(),m=0,g=0;s&&(m=n.readFloat(),g=n.readFloat()),u==null&&(u=l);let v=this.attachmentLoader.newMeshAttachment(t,l,u);return v==null?null:(v.path=u,X.rgba8888ToColor(v.color,h),s&&(v.width=m*a,v.height=g*a),this.linkedMeshes.push(new $C(v,d,r,f,p)),v)}case le.Path:{let u=n.readBoolean(),h=n.readBoolean(),d=n.readInt(!0),f=this.readVertices(n,d),p=F.newArray(d/3,0);for(let v=0,x=p.length;v<x;v++)p[v]=n.readFloat()*a;let m=s?n.readInt32():0,g=this.attachmentLoader.newPathAttachment(t,l);return g==null?null:(g.closed=u,g.constantSpeed=h,g.worldVerticesLength=d<<1,g.vertices=f.vertices,g.bones=f.bones,g.lengths=p,s&&X.rgba8888ToColor(g.color,m),g)}case le.Point:{let u=n.readFloat(),h=n.readFloat(),d=n.readFloat(),f=s?n.readInt32():0,p=this.attachmentLoader.newPointAttachment(t,l);return p==null?null:(p.x=h*a,p.y=d*a,p.rotation=u,s&&X.rgba8888ToColor(p.color,f),p)}case le.Clipping:{let u=n.readInt(!0),h=n.readInt(!0),d=this.readVertices(n,h),f=s?n.readInt32():0,p=this.attachmentLoader.newClippingAttachment(t,l);return p==null?null:(p.endSlot=e.slots[u],p.worldVerticesLength=h<<1,p.vertices=d.vertices,p.bones=d.bones,s&&X.rgba8888ToColor(p.color,f),p)}}return null}readVertices(n,e){let t=e<<1,r=new HC,i=this.scale;if(!n.readBoolean())return r.vertices=this.readFloatArray(n,t,i),r;let s=new Array,a=new Array;for(let l=0;l<e;l++){let o=n.readInt(!0);a.push(o);for(let c=0;c<o;c++)a.push(n.readInt(!0)),s.push(n.readFloat()*i),s.push(n.readFloat()*i),s.push(n.readFloat())}return r.vertices=F.toFloatArray(s),r.bones=a,r}readFloatArray(n,e,t){let r=new Array(e);if(t==1)for(let i=0;i<e;i++)r[i]=n.readFloat();else for(let i=0;i<e;i++)r[i]=n.readFloat()*t;return r}readShortArray(n){let e=n.readInt(!0),t=new Array(e);for(let r=0;r<e;r++)t[r]=n.readShort();return t}readAnimation(n,e,t){let r=new Array,i=this.scale,s=0,a=new X,l=new X;for(let u=0,h=n.readInt(!0);u<h;u++){let d=n.readInt(!0);for(let f=0,p=n.readInt(!0);f<p;f++){let m=n.readByte(),g=n.readInt(!0);switch(m){case Xt.SLOT_ATTACHMENT:{let v=new hi(g);v.slotIndex=d;for(let x=0;x<g;x++)v.setFrame(x,n.readFloat(),n.readStringRef());r.push(v),s=Math.max(s,v.frames[g-1]);break}case Xt.SLOT_COLOR:{let v=new Sn(g);v.slotIndex=d;for(let x=0;x<g;x++){let y=n.readFloat();X.rgba8888ToColor(a,n.readInt32()),v.setFrame(x,y,a.r,a.g,a.b,a.a),x<g-1&&this.readCurve(n,x,v)}r.push(v),s=Math.max(s,v.frames[(g-1)*Sn.ENTRIES]);break}case Xt.SLOT_TWO_COLOR:{let v=new At(g);v.slotIndex=d;for(let x=0;x<g;x++){let y=n.readFloat();X.rgba8888ToColor(a,n.readInt32()),X.rgb888ToColor(l,n.readInt32()),v.setFrame(x,y,a.r,a.g,a.b,a.a,l.r,l.g,l.b),x<g-1&&this.readCurve(n,x,v)}r.push(v),s=Math.max(s,v.frames[(g-1)*At.ENTRIES]);break}}}}for(let u=0,h=n.readInt(!0);u<h;u++){let d=n.readInt(!0);for(let f=0,p=n.readInt(!0);f<p;f++){let m=n.readByte(),g=n.readInt(!0);switch(m){case Xt.BONE_ROTATE:{let v=new Kt(g);v.boneIndex=d;for(let x=0;x<g;x++)v.setFrame(x,n.readFloat(),n.readFloat()),x<g-1&&this.readCurve(n,x,v);r.push(v),s=Math.max(s,v.frames[(g-1)*Kt.ENTRIES]);break}case Xt.BONE_TRANSLATE:case Xt.BONE_SCALE:case Xt.BONE_SHEAR:{let v,x=1;m==Xt.BONE_SCALE?v=new Ya(g):m==Xt.BONE_SHEAR?v=new Xa(g):(v=new Qn(g),x=i),v.boneIndex=d;for(let y=0;y<g;y++)v.setFrame(y,n.readFloat(),n.readFloat()*x,n.readFloat()*x),y<g-1&&this.readCurve(n,y,v);r.push(v),s=Math.max(s,v.frames[(g-1)*Qn.ENTRIES]);break}}}}for(let u=0,h=n.readInt(!0);u<h;u++){let d=n.readInt(!0),f=n.readInt(!0),p=new nn(f);p.ikConstraintIndex=d;for(let m=0;m<f;m++)p.setFrame(m,n.readFloat(),n.readFloat(),n.readFloat()*i,n.readByte(),n.readBoolean(),n.readBoolean()),m<f-1&&this.readCurve(n,m,p);r.push(p),s=Math.max(s,p.frames[(f-1)*nn.ENTRIES])}for(let u=0,h=n.readInt(!0);u<h;u++){let d=n.readInt(!0),f=n.readInt(!0),p=new Cn(f);p.transformConstraintIndex=d;for(let m=0;m<f;m++)p.setFrame(m,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat()),m<f-1&&this.readCurve(n,m,p);r.push(p),s=Math.max(s,p.frames[(f-1)*Cn.ENTRIES])}for(let u=0,h=n.readInt(!0);u<h;u++){let d=n.readInt(!0),f=t.pathConstraints[d];for(let p=0,m=n.readInt(!0);p<m;p++){let g=n.readByte(),v=n.readInt(!0);switch(g){case Xt.PATH_POSITION:case Xt.PATH_SPACING:{let x,y=1;g==Xt.PATH_SPACING?(x=new qa(v),(f.spacingMode==Yt.Length||f.spacingMode==Yt.Fixed)&&(y=i)):(x=new di(v),f.positionMode==Je.Fixed&&(y=i)),x.pathConstraintIndex=d;for(let _=0;_<v;_++)x.setFrame(_,n.readFloat(),n.readFloat()*y),_<v-1&&this.readCurve(n,_,x);r.push(x),s=Math.max(s,x.frames[(v-1)*di.ENTRIES]);break}case Xt.PATH_MIX:{let x=new jr(v);x.pathConstraintIndex=d;for(let y=0;y<v;y++)x.setFrame(y,n.readFloat(),n.readFloat(),n.readFloat()),y<v-1&&this.readCurve(n,y,x);r.push(x),s=Math.max(s,x.frames[(v-1)*jr.ENTRIES]);break}}}}for(let u=0,h=n.readInt(!0);u<h;u++){let d=t.skins[n.readInt(!0)];for(let f=0,p=n.readInt(!0);f<p;f++){let m=n.readInt(!0);for(let g=0,v=n.readInt(!0);g<v;g++){let x=d.getAttachment(m,n.readStringRef()),y=x.bones!=null,_=x.vertices,b=y?_.length/3*2:_.length,w=n.readInt(!0),E=new za(w);E.slotIndex=m,E.attachment=x;for(let S=0;S<w;S++){let C=n.readFloat(),R,P=n.readInt(!0);if(P==0)R=y?F.newFloatArray(b):_;else{R=F.newFloatArray(b);let k=n.readInt(!0);if(P+=k,i==1)for(let N=k;N<P;N++)R[N]=n.readFloat();else for(let N=k;N<P;N++)R[N]=n.readFloat()*i;if(!y)for(let N=0,O=R.length;N<O;N++)R[N]+=_[N]}E.setFrame(S,C,R),S<w-1&&this.readCurve(n,S,E)}r.push(E),s=Math.max(s,E.frames[w-1])}}}let o=n.readInt(!0);if(o>0){let u=new Ui(o),h=t.slots.length;for(let d=0;d<o;d++){let f=n.readFloat(),p=n.readInt(!0),m=F.newArray(h,0);for(let y=h-1;y>=0;y--)m[y]=-1;let g=F.newArray(h-p,0),v=0,x=0;for(let y=0;y<p;y++){let _=n.readInt(!0);for(;v!=_;)g[x++]=v++;m[v+n.readInt(!0)]=v++}for(;v<h;)g[x++]=v++;for(let y=h-1;y>=0;y--)m[y]==-1&&(m[y]=g[--x]);u.setFrame(d,f,m)}r.push(u),s=Math.max(s,u.frames[o-1])}let c=n.readInt(!0);if(c>0){let u=new zs(c);for(let h=0;h<c;h++){let d=n.readFloat(),f=t.events[n.readInt(!0)],p=new Qa(d,f);p.intValue=n.readInt(!1),p.floatValue=n.readFloat(),p.stringValue=n.readBoolean()?n.readString():f.stringValue,p.data.audioPath!=null&&(p.volume=n.readFloat(),p.balance=n.readFloat()),u.setFrame(h,p)}r.push(u),s=Math.max(s,u.frames[c-1])}return new gt(e,r,s)}readCurve(n,e,t){switch(n.readByte()){case Xt.CURVE_STEPPED:t.setStepped(e);break;case Xt.CURVE_BEZIER:this.setCurve(t,e,n.readFloat(),n.readFloat(),n.readFloat(),n.readFloat());break}}setCurve(n,e,t,r,i,s){n.setCurve(e,t,r,i,s)}},Ot=Xt;Ot.AttachmentTypeValues=[0,1,2,3,4,5,6];Ot.TransformModeValues=[ce.Normal,ce.OnlyTranslation,ce.NoRotationOrReflection,ce.NoScale,ce.NoScaleOrReflection];Ot.PositionModeValues=[Je.Fixed,Je.Percent];Ot.SpacingModeValues=[Yt.Length,Yt.Fixed,Yt.Percent];Ot.RotateModeValues=[ot.Tangent,ot.Chain,ot.ChainScale];Ot.BlendModeValues=[ne.NORMAL,ne.ADD,ne.MULTIPLY,ne.SCREEN];Ot.BONE_ROTATE=0;Ot.BONE_TRANSLATE=1;Ot.BONE_SCALE=2;Ot.BONE_SHEAR=3;Ot.SLOT_ATTACHMENT=0;Ot.SLOT_COLOR=1;Ot.SLOT_TWO_COLOR=2;Ot.PATH_POSITION=0;Ot.PATH_SPACING=1;Ot.PATH_MIX=2;Ot.CURVE_LINEAR=0;Ot.CURVE_STEPPED=1;Ot.CURVE_BEZIER=2;var $C=class{constructor(e,t,r,i,s){this.mesh=e,this.skin=t,this.slotIndex=r,this.parent=i,this.inheritDeform=s}},HC=class{constructor(e=null,t=null){this.bones=e,this.vertices=t}};var Wx=class extends Ws{};var Pd=class n{constructor(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,r=new nl,i=typeof e=="string"?JSON.parse(e):e,s=i.skeleton;if(s!=null){if(r.hash=s.hash,r.version=s.spine,r.version.substr(0,3)!=="3.8"){let a=`Spine 3.8 loader cant load version ${s.spine}. Please configure your pixi-spine bundle`;console.error(a)}r.version==="3.8.75"&&console.error("Unsupported skeleton data, 3.8.75 is deprecated, please export with a newer version of Spine."),r.x=s.x,r.y=s.y,r.width=s.width,r.height=s.height,r.fps=s.fps,r.imagesPath=s.images}if(i.bones)for(let a=0;a<i.bones.length;a++){let l=i.bones[a],o=null,c=this.getValue(l,"parent",null);if(c!=null&&(o=r.findBone(c),o==null))throw new Error(`Parent bone not found: ${c}`);let u=new Za(r.bones.length,l.name,o);u.length=this.getValue(l,"length",0)*t,u.x=this.getValue(l,"x",0)*t,u.y=this.getValue(l,"y",0)*t,u.rotation=this.getValue(l,"rotation",0),u.scaleX=this.getValue(l,"scaleX",1),u.scaleY=this.getValue(l,"scaleY",1),u.shearX=this.getValue(l,"shearX",0),u.shearY=this.getValue(l,"shearY",0),u.transformMode=n.transformModeFromString(this.getValue(l,"transform","normal")),u.skinRequired=this.getValue(l,"skin",!1),r.bones.push(u)}if(i.slots)for(let a=0;a<i.slots.length;a++){let l=i.slots[a],o=l.name,c=l.bone,u=r.findBone(c);if(u==null)throw new Error(`Slot bone not found: ${c}`);let h=new rl(r.slots.length,o,u),d=this.getValue(l,"color",null);d!=null&&h.color.setFromString(d);let f=this.getValue(l,"dark",null);f!=null&&(h.darkColor=new X(1,1,1,1),h.darkColor.setFromString(f)),h.attachmentName=this.getValue(l,"attachment",null),h.blendMode=n.blendModeFromString(this.getValue(l,"blend","normal")),r.slots.push(h)}if(i.ik)for(let a=0;a<i.ik.length;a++){let l=i.ik[a],o=new Ja(l.name);o.order=this.getValue(l,"order",0),o.skinRequired=this.getValue(l,"skin",!1);for(let u=0;u<l.bones.length;u++){let h=l.bones[u],d=r.findBone(h);if(d==null)throw new Error(`IK bone not found: ${h}`);o.bones.push(d)}let c=l.target;if(o.target=r.findBone(c),o.target==null)throw new Error(`IK target bone not found: ${c}`);o.mix=this.getValue(l,"mix",1),o.softness=this.getValue(l,"softness",0)*t,o.bendDirection=this.getValue(l,"bendPositive",!0)?1:-1,o.compress=this.getValue(l,"compress",!1),o.stretch=this.getValue(l,"stretch",!1),o.uniform=this.getValue(l,"uniform",!1),r.ikConstraints.push(o)}if(i.transform)for(let a=0;a<i.transform.length;a++){let l=i.transform[a],o=new il(l.name);o.order=this.getValue(l,"order",0),o.skinRequired=this.getValue(l,"skin",!1);for(let u=0;u<l.bones.length;u++){let h=l.bones[u],d=r.findBone(h);if(d==null)throw new Error(`Transform constraint bone not found: ${h}`);o.bones.push(d)}let c=l.target;if(o.target=r.findBone(c),o.target==null)throw new Error(`Transform constraint target bone not found: ${c}`);o.local=this.getValue(l,"local",!1),o.relative=this.getValue(l,"relative",!1),o.offsetRotation=this.getValue(l,"rotation",0),o.offsetX=this.getValue(l,"x",0)*t,o.offsetY=this.getValue(l,"y",0)*t,o.offsetScaleX=this.getValue(l,"scaleX",0),o.offsetScaleY=this.getValue(l,"scaleY",0),o.offsetShearY=this.getValue(l,"shearY",0),o.rotateMix=this.getValue(l,"rotateMix",1),o.translateMix=this.getValue(l,"translateMix",1),o.scaleMix=this.getValue(l,"scaleMix",1),o.shearMix=this.getValue(l,"shearMix",1),r.transformConstraints.push(o)}if(i.path)for(let a=0;a<i.path.length;a++){let l=i.path[a],o=new el(l.name);o.order=this.getValue(l,"order",0),o.skinRequired=this.getValue(l,"skin",!1);for(let u=0;u<l.bones.length;u++){let h=l.bones[u],d=r.findBone(h);if(d==null)throw new Error(`Transform constraint bone not found: ${h}`);o.bones.push(d)}let c=l.target;if(o.target=r.findSlot(c),o.target==null)throw new Error(`Path target slot not found: ${c}`);o.positionMode=n.positionModeFromString(this.getValue(l,"positionMode","percent")),o.spacingMode=n.spacingModeFromString(this.getValue(l,"spacingMode","length")),o.rotateMode=n.rotateModeFromString(this.getValue(l,"rotateMode","tangent")),o.offsetRotation=this.getValue(l,"rotation",0),o.position=this.getValue(l,"position",0),o.positionMode==Je.Fixed&&(o.position*=t),o.spacing=this.getValue(l,"spacing",0),(o.spacingMode==Yt.Length||o.spacingMode==Yt.Fixed)&&(o.spacing*=t),o.rotateMix=this.getValue(l,"rotateMix",1),o.translateMix=this.getValue(l,"translateMix",1),r.pathConstraints.push(o)}if(i.skins)for(let a=0;a<i.skins.length;a++){let l=i.skins[a],o=new Ro(l.name);if(l.bones)for(let c=0;c<l.bones.length;c++){let u=r.findBone(l.bones[c]);if(u==null)throw new Error(`Skin bone not found: ${l.bones[a]}`);o.bones.push(u)}if(l.ik)for(let c=0;c<l.ik.length;c++){let u=r.findIkConstraint(l.ik[c]);if(u==null)throw new Error(`Skin IK constraint not found: ${l.ik[a]}`);o.constraints.push(u)}if(l.transform)for(let c=0;c<l.transform.length;c++){let u=r.findTransformConstraint(l.transform[c]);if(u==null)throw new Error(`Skin transform constraint not found: ${l.transform[a]}`);o.constraints.push(u)}if(l.path)for(let c=0;c<l.path.length;c++){let u=r.findPathConstraint(l.path[c]);if(u==null)throw new Error(`Skin path constraint not found: ${l.path[a]}`);o.constraints.push(u)}for(let c in l.attachments){let u=r.findSlot(c);if(u==null)throw new Error(`Slot not found: ${c}`);let h=l.attachments[c];for(let d in h){let f=this.readAttachment(h[d],o,u.index,d,r);f!=null&&o.setAttachment(u.index,d,f)}}r.skins.push(o),o.name=="default"&&(r.defaultSkin=o)}for(let a=0,l=this.linkedMeshes.length;a<l;a++){let o=this.linkedMeshes[a],c=o.skin==null?r.defaultSkin:r.findSkin(o.skin);if(c==null)throw new Error(`Skin not found: ${o.skin}`);let u=c.getAttachment(o.slotIndex,o.parent);if(u==null)throw new Error(`Parent mesh not found: ${o.parent}`);o.mesh.deformAttachment=o.inheritDeform?u:o.mesh,o.mesh.setParentMesh(u)}if(this.linkedMeshes.length=0,i.events)for(let a in i.events){let l=i.events[a],o=new Ka(a);o.intValue=this.getValue(l,"int",0),o.floatValue=this.getValue(l,"float",0),o.stringValue=this.getValue(l,"string",""),o.audioPath=this.getValue(l,"audio",null),o.audioPath!=null&&(o.volume=this.getValue(l,"volume",1),o.balance=this.getValue(l,"balance",0)),r.events.push(o)}if(i.animations)for(let a in i.animations){let l=i.animations[a];this.readAnimation(l,a,r)}return r}readAttachment(e,t,r,i,s){let a=this.scale;switch(i=this.getValue(e,"name",i),this.getValue(e,"type","region")){case"region":{let o=this.getValue(e,"path",i),c=this.attachmentLoader.newRegionAttachment(t,i,o);if(c==null)return null;c.path=o,c.x=this.getValue(e,"x",0)*a,c.y=this.getValue(e,"y",0)*a,c.scaleX=this.getValue(e,"scaleX",1),c.scaleY=this.getValue(e,"scaleY",1),c.rotation=this.getValue(e,"rotation",0),c.width=e.width*a,c.height=e.height*a;let u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"boundingbox":{let o=this.attachmentLoader.newBoundingBoxAttachment(t,i);if(o==null)return null;this.readVertices(e,o,e.vertexCount<<1);let c=this.getValue(e,"color",null);return c!=null&&o.color.setFromString(c),o}case"mesh":case"linkedmesh":{let o=this.getValue(e,"path",i),c=this.attachmentLoader.newMeshAttachment(t,i,o);if(c==null)return null;c.path=o;let u=this.getValue(e,"color",null);u!=null&&c.color.setFromString(u),c.width=this.getValue(e,"width",0)*a,c.height=this.getValue(e,"height",0)*a;let h=this.getValue(e,"parent",null);if(h!=null)return this.linkedMeshes.push(new WC(c,this.getValue(e,"skin",null),r,h,this.getValue(e,"deform",!0))),c;let d=e.uvs;return this.readVertices(e,c,d.length),c.triangles=e.triangles,c.regionUVs=new Float32Array(d),c.edges=this.getValue(e,"edges",null),c.hullLength=this.getValue(e,"hull",0)*2,c}case"path":{let o=this.attachmentLoader.newPathAttachment(t,i);if(o==null)return null;o.closed=this.getValue(e,"closed",!1),o.constantSpeed=this.getValue(e,"constantSpeed",!0);let c=e.vertexCount;this.readVertices(e,o,c<<1);let u=F.newArray(c/3,0);for(let d=0;d<e.lengths.length;d++)u[d]=e.lengths[d]*a;o.lengths=u;let h=this.getValue(e,"color",null);return h!=null&&o.color.setFromString(h),o}case"point":{let o=this.attachmentLoader.newPointAttachment(t,i);if(o==null)return null;o.x=this.getValue(e,"x",0)*a,o.y=this.getValue(e,"y",0)*a,o.rotation=this.getValue(e,"rotation",0);let c=this.getValue(e,"color",null);return c!=null&&o.color.setFromString(c),o}case"clipping":{let o=this.attachmentLoader.newClippingAttachment(t,i);if(o==null)return null;let c=this.getValue(e,"end",null);if(c!=null){let d=s.findSlot(c);if(d==null)throw new Error(`Clipping end slot not found: ${c}`);o.endSlot=d}let u=e.vertexCount;this.readVertices(e,o,u<<1);let h=this.getValue(e,"color",null);return h!=null&&o.color.setFromString(h),o}}return null}readVertices(e,t,r){let i=this.scale;t.worldVerticesLength=r;let s=e.vertices;if(r==s.length){let o=F.toFloatArray(s);if(i!=1)for(let c=0,u=s.length;c<u;c++)o[c]*=i;t.vertices=o;return}let a=new Array,l=new Array;for(let o=0,c=s.length;o<c;){let u=s[o++];l.push(u);for(let h=o+u*4;o<h;o+=4)l.push(s[o]),a.push(s[o+1]*i),a.push(s[o+2]*i),a.push(s[o+3])}t.bones=l,t.vertices=F.toFloatArray(a)}readAnimation(e,t,r){let i=this.scale,s=new Array,a=0;if(e.slots)for(let o in e.slots){let c=e.slots[o],u=r.findSlotIndex(o);if(u==-1)throw new Error(`Slot not found: ${o}`);for(let h in c){let d=c[h];if(h=="attachment"){let f=new hi(d.length);f.slotIndex=u;let p=0;for(let m=0;m<d.length;m++){let g=d[m];f.setFrame(p++,this.getValue(g,"time",0),g.name)}s.push(f),a=Math.max(a,f.frames[f.getFrameCount()-1])}else if(h=="color"){let f=new Sn(d.length);f.slotIndex=u;let p=0;for(let m=0;m<d.length;m++){let g=d[m],v=new X;v.setFromString(g.color||"ffffffff"),f.setFrame(p,this.getValue(g,"time",0),v.r,v.g,v.b,v.a),this.readCurve(g,f,p),p++}s.push(f),a=Math.max(a,f.frames[(f.getFrameCount()-1)*Sn.ENTRIES])}else if(h=="twoColor"){let f=new At(d.length);f.slotIndex=u;let p=0;for(let m=0;m<d.length;m++){let g=d[m],v=new X,x=new X;v.setFromString(g.light),x.setFromString(g.dark),f.setFrame(p,this.getValue(g,"time",0),v.r,v.g,v.b,v.a,x.r,x.g,x.b),this.readCurve(g,f,p),p++}s.push(f),a=Math.max(a,f.frames[(f.getFrameCount()-1)*At.ENTRIES])}else throw new Error(`Invalid timeline type for a slot: ${h} (${o})`)}}if(e.bones)for(let o in e.bones){let c=e.bones[o],u=r.findBoneIndex(o);if(u==-1)throw new Error(`Bone not found: ${o}`);for(let h in c){let d=c[h];if(h==="rotate"){let f=new Kt(d.length);f.boneIndex=u;let p=0;for(let m=0;m<d.length;m++){let g=d[m];f.setFrame(p,this.getValue(g,"time",0),this.getValue(g,"angle",0)),this.readCurve(g,f,p),p++}s.push(f),a=Math.max(a,f.frames[(f.getFrameCount()-1)*Kt.ENTRIES])}else if(h==="translate"||h==="scale"||h==="shear"){let f=null,p=1,m=0;h==="scale"?(f=new Ya(d.length),m=1):h==="shear"?f=new Xa(d.length):(f=new Qn(d.length),p=i),f.boneIndex=u;let g=0;for(let v=0;v<d.length;v++){let x=d[v],y=this.getValue(x,"x",m),_=this.getValue(x,"y",m);f.setFrame(g,this.getValue(x,"time",0),y*p,_*p),this.readCurve(x,f,g),g++}s.push(f),a=Math.max(a,f.frames[(f.getFrameCount()-1)*Qn.ENTRIES])}else throw new Error(`Invalid timeline type for a bone: ${h} (${o})`)}}if(e.ik)for(let o in e.ik){let c=e.ik[o],u=r.findIkConstraint(o),h=new nn(c.length);h.ikConstraintIndex=r.ikConstraints.indexOf(u);let d=0;for(let f=0;f<c.length;f++){let p=c[f];h.setFrame(d,this.getValue(p,"time",0),this.getValue(p,"mix",1),this.getValue(p,"softness",0)*i,this.getValue(p,"bendPositive",!0)?1:-1,this.getValue(p,"compress",!1),this.getValue(p,"stretch",!1)),this.readCurve(p,h,d),d++}s.push(h),a=Math.max(a,h.frames[(h.getFrameCount()-1)*nn.ENTRIES])}if(e.transform)for(let o in e.transform){let c=e.transform[o],u=r.findTransformConstraint(o),h=new Cn(c.length);h.transformConstraintIndex=r.transformConstraints.indexOf(u);let d=0;for(let f=0;f<c.length;f++){let p=c[f];h.setFrame(d,this.getValue(p,"time",0),this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,h,d),d++}s.push(h),a=Math.max(a,h.frames[(h.getFrameCount()-1)*Cn.ENTRIES])}if(e.path)for(let o in e.path){let c=e.path[o],u=r.findPathConstraintIndex(o);if(u==-1)throw new Error(`Path constraint not found: ${o}`);let h=r.pathConstraints[u];for(let d in c){let f=c[d];if(d==="position"||d==="spacing"){let p=null,m=1;d==="spacing"?(p=new qa(f.length),(h.spacingMode==Yt.Length||h.spacingMode==Yt.Fixed)&&(m=i)):(p=new di(f.length),h.positionMode==Je.Fixed&&(m=i)),p.pathConstraintIndex=u;let g=0;for(let v=0;v<f.length;v++){let x=f[v];p.setFrame(g,this.getValue(x,"time",0),this.getValue(x,d,0)*m),this.readCurve(x,p,g),g++}s.push(p),a=Math.max(a,p.frames[(p.getFrameCount()-1)*di.ENTRIES])}else if(d==="mix"){let p=new jr(f.length);p.pathConstraintIndex=u;let m=0;for(let g=0;g<f.length;g++){let v=f[g];p.setFrame(m,this.getValue(v,"time",0),this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,p,m),m++}s.push(p),a=Math.max(a,p.frames[(p.getFrameCount()-1)*jr.ENTRIES])}}}if(e.deform)for(let o in e.deform){let c=e.deform[o],u=r.findSkin(o);if(u==null){if(Ct.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${o}`);continue}for(let h in c){let d=c[h],f=r.findSlotIndex(h);if(f==-1)throw new Error(`Slot not found: ${d.name}`);for(let p in d){let m=d[p],g=u.getAttachment(f,p);if(g==null)throw new Error(`Deform attachment not found: ${m.name}`);let v=g.bones!=null,x=g.vertices,y=v?x.length/3*2:x.length,_=new za(m.length);_.slotIndex=f,_.attachment=g;let b=0;for(let w=0;w<m.length;w++){let E=m[w],S,C=this.getValue(E,"vertices",null);if(C==null)S=v?F.newFloatArray(y):x;else{S=F.newFloatArray(y);let R=this.getValue(E,"offset",0);if(F.arrayCopy(C,0,S,R,C.length),i!=1)for(let P=R,k=P+C.length;P<k;P++)S[P]*=i;if(!v)for(let P=0;P<y;P++)S[P]+=x[P]}_.setFrame(b,this.getValue(E,"time",0),S),this.readCurve(E,_,b),b++}s.push(_),a=Math.max(a,_.frames[_.getFrameCount()-1])}}}let l=e.drawOrder;if(l==null&&(l=e.draworder),l!=null){let o=new Ui(l.length),c=r.slots.length,u=0;for(let h=0;h<l.length;h++){let d=l[h],f=null,p=this.getValue(d,"offsets",null);if(p!=null){f=F.newArray(c,-1);let m=F.newArray(c-p.length,0),g=0,v=0;for(let x=0;x<p.length;x++){let y=p[x],_=r.findSlotIndex(y.slot);if(_==-1)throw new Error(`Slot not found: ${y.slot}`);for(;g!=_;)m[v++]=g++;f[g+y.offset]=g++}for(;g<c;)m[v++]=g++;for(let x=c-1;x>=0;x--)f[x]==-1&&(f[x]=m[--v])}o.setFrame(u++,this.getValue(d,"time",0),f)}s.push(o),a=Math.max(a,o.frames[o.getFrameCount()-1])}if(e.events){let o=new zs(e.events.length),c=0;for(let u=0;u<e.events.length;u++){let h=e.events[u],d=r.findEvent(h.name);if(d==null)throw new Error(`Event not found: ${h.name}`);let f=new Qa(F.toSinglePrecision(this.getValue(h,"time",0)),d);f.intValue=this.getValue(h,"int",d.intValue),f.floatValue=this.getValue(h,"float",d.floatValue),f.stringValue=this.getValue(h,"string",d.stringValue),f.data.audioPath!=null&&(f.volume=this.getValue(h,"volume",1),f.balance=this.getValue(h,"balance",0)),o.setFrame(c++,f)}s.push(o),a=Math.max(a,o.frames[o.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new gt(t,s,a))}readCurve(e,t,r){if(e.hasOwnProperty("curve"))if(e.curve==="stepped")t.setStepped(r);else{let i=e.curve;t.setCurve(r,i,this.getValue(e,"c2",0),this.getValue(e,"c3",1),this.getValue(e,"c4",1))}}getValue(e,t,r){return e[t]!==void 0?e[t]:r}static blendModeFromString(e){if(e=e.toLowerCase(),e=="normal")return ne.NORMAL;if(e=="additive")return ne.ADD;if(e=="multiply")return ne.MULTIPLY;if(e=="screen")return ne.SCREEN;throw new Error(`Unknown blend mode: ${e}`)}static positionModeFromString(e){if(e=e.toLowerCase(),e=="fixed")return Je.Fixed;if(e=="percent")return Je.Percent;throw new Error(`Unknown position mode: ${e}`)}static spacingModeFromString(e){if(e=e.toLowerCase(),e=="length")return Yt.Length;if(e=="fixed")return Yt.Fixed;if(e=="percent")return Yt.Percent;throw new Error(`Unknown position mode: ${e}`)}static rotateModeFromString(e){if(e=e.toLowerCase(),e=="tangent")return ot.Tangent;if(e=="chain")return ot.Chain;if(e=="chainscale")return ot.ChainScale;throw new Error(`Unknown rotate mode: ${e}`)}static transformModeFromString(e){if(e=e.toLowerCase(),e=="normal")return ce.Normal;if(e=="onlytranslation")return ce.OnlyTranslation;if(e=="norotationorreflection")return ce.NoRotationOrReflection;if(e=="noscale")return ce.NoScale;if(e=="noscaleorreflection")return ce.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${e}`)}},WC=class{constructor(e,t,r,i,s){this.mesh=e,this.skin=t,this.slotIndex=r,this.parent=i,this.inheritDeform=s}};var Yx=class extends ls{createSkeleton(e){this.skeleton=new Rm(e),this.skeleton.updateWorldTransform(),this.stateData=new Im(e),this.state=new fr(this.stateData)}};var Jx={};Hm(Jx,{Animation:()=>Tt,AnimationState:()=>ji,AnimationStateAdapter2:()=>qx,AnimationStateData:()=>Om,AtlasAttachmentLoader:()=>jd,Attachment:()=>lu,AttachmentTimeline:()=>Po,Bone:()=>cu,BoneData:()=>Gd,BoundingBoxAttachment:()=>Od,ClippingAttachment:()=>Nd,ColorTimeline:()=>xr,CurveTimeline:()=>yr,DeformTimeline:()=>Bd,DrawOrderTimeline:()=>Oo,Event:()=>$d,EventData:()=>Hd,EventQueue:()=>Zx,EventTimeline:()=>Vd,EventType:()=>br,IkConstraint:()=>Wd,IkConstraintData:()=>Yd,IkConstraintTimeline:()=>vr,JitterEffect:()=>zx,MeshAttachment:()=>sl,PathAttachment:()=>ds,PathConstraint:()=>ll,PathConstraintData:()=>Xd,PathConstraintMixTimeline:()=>ps,PathConstraintPositionTimeline:()=>Zs,PathConstraintSpacingTimeline:()=>Ud,PointAttachment:()=>Fd,RegionAttachment:()=>Ae,RotateTimeline:()=>An,ScaleTimeline:()=>kd,ShearTimeline:()=>Ld,Skeleton:()=>Fm,SkeletonBounds:()=>Qx,SkeletonData:()=>qd,SkeletonJson:()=>Jd,Skin:()=>Kd,Slot:()=>ol,SlotData:()=>Zd,SpacingMode:()=>Gr,Spine:()=>Kx,SwirlEffect:()=>YC,TimelineType:()=>XC,TrackEntry:()=>Pm,TransformConstraint:()=>zd,TransformConstraintData:()=>Qd,TransformConstraintTimeline:()=>_r,TranslateTimeline:()=>fi,TwoColorTimeline:()=>en,VertexAttachment:()=>pr});var lu=class{constructor(e){if(e==null)throw new Error("name cannot be null.");this.name=e}},QF=class extends lu{constructor(n){super(n),this.id=(QF.nextID++&65535)<<11,this.worldVerticesLength=0}computeWorldVerticesOld(n,e){this.computeWorldVertices(n,0,this.worldVerticesLength,e,0,2)}computeWorldVertices(n,e,t,r,i,s){t=i+(t>>1)*s;let a=n.bone.skeleton,l=n.attachmentVertices,o=this.vertices,c=this.bones;if(c==null){l.length>0&&(o=l);let f=n.bone.matrix,p=f.tx,m=f.ty,g=f.a,v=f.c,x=f.b,y=f.d;for(let _=e,b=i;b<t;_+=2,b+=s){let w=o[_],E=o[_+1];r[b]=w*g+E*v+p,r[b+1]=w*x+E*y+m}return}let u=0,h=0;for(let f=0;f<e;f+=2){let p=c[u];u+=p+1,h+=p}let d=a.bones;if(l.length==0)for(let f=i,p=h*3;f<t;f+=s){let m=0,g=0,v=c[u++];for(v+=u;u<v;u++,p+=3){let x=d[c[u]].matrix,y=o[p],_=o[p+1],b=o[p+2];m+=(y*x.a+_*x.c+x.tx)*b,g+=(y*x.b+_*x.d+x.ty)*b}r[f]=m,r[f+1]=g}else{let f=l;for(let p=i,m=h*3,g=h<<1;p<t;p+=s){let v=0,x=0,y=c[u++];for(y+=u;u<y;u++,m+=3,g+=2){let _=d[c[u]].matrix,b=o[m]+f[g],w=o[m+1]+f[g+1],E=o[m+2];v+=(b*_.a+w*_.c+_.tx)*E,x+=(b*_.b+w*_.d+_.ty)*E}r[p]=v,r[p+1]=x}}}applyDeform(n){return this==n}},pr=QF;pr.nextID=0;var Od=class extends pr{constructor(e){super(e),this.type=le.BoundingBox,this.color=new X(1,1,1,1)}};var Nd=class extends pr{constructor(e){super(e),this.type=le.Clipping,this.color=new X(.2275,.2275,.8078,1)}};var sl=class extends pr{constructor(e){super(e),this.type=le.Mesh,this.color=new X(1,1,1,1),this.inheritDeform=!1,this.tempColor=new X(0,0,0,0)}applyDeform(e){return this==e||this.inheritDeform&&this.parentMesh==e}getParentMesh(){return this.parentMesh}setParentMesh(e){this.parentMesh=e,e!=null&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}};var ds=class extends pr{constructor(e){super(e),this.type=le.Path,this.closed=!1,this.constantSpeed=!1,this.color=new X(1,1,1,1)}};var Fd=class extends pr{constructor(e){super(e),this.type=le.Point,this.color=new X(.38,.94,0,1)}computeWorldPosition(e,t){let r=e.matrix;return t.x=this.x*r.a+this.y*r.c+e.worldX,t.y=this.x*r.b+this.y*r.d+e.worldY,t}computeWorldRotation(e){let t=e.matrix,r=D.cosDeg(this.rotation),i=D.sinDeg(this.rotation),s=r*t.a+i*t.c,a=r*t.b+i*t.d;return Math.atan2(a,s)*D.radDeg}};var ol=class{constructor(e,t){if(this.attachmentVertices=new Array,e==null)throw new Error("data cannot be null.");if(t==null)throw new Error("bone cannot be null.");this.data=e,this.bone=t,this.color=new X,this.darkColor=e.darkColor==null?null:new X,this.setToSetupPose(),this.blendMode=this.data.blendMode}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&(this.attachment=e,this.attachmentTime=this.bone.skeleton.time,this.attachmentVertices.length=0)}setAttachmentTime(e){this.attachmentTime=this.bone.skeleton.time-e}getAttachmentTime(){return this.bone.skeleton.time-this.attachmentTime}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor!=null&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName==null?this.attachment=null:(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName)))}};var kn=class extends lu{constructor(n){super(n),this.type=le.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new X(1,1,1,1),this.offset=F.newFloatArray(8),this.uvs=F.newFloatArray(8),this.tempColor=new X(1,1,1,1)}updateOffset(){let n=this.width/this.region.originalWidth*this.scaleX,e=this.height/this.region.originalHeight*this.scaleY,t=-this.width/2*this.scaleX+this.region.offsetX*n,r=-this.height/2*this.scaleY+this.region.offsetY*e,i=t+this.region.width*n,s=r+this.region.height*e,a=this.rotation*Math.PI/180,l=Math.cos(a),o=Math.sin(a),c=t*l+this.x,u=t*o,h=r*l+this.y,d=r*o,f=i*l+this.x,p=i*o,m=s*l+this.y,g=s*o,v=this.offset;v[kn.OX1]=c-d,v[kn.OY1]=h+u,v[kn.OX2]=c-g,v[kn.OY2]=m+u,v[kn.OX3]=f-g,v[kn.OY3]=m+p,v[kn.OX4]=f-d,v[kn.OY4]=h+p}setRegion(n){this.region=n;let e=this.uvs;n.rotate?(e[2]=n.u,e[3]=n.v2,e[4]=n.u,e[5]=n.v,e[6]=n.u2,e[7]=n.v,e[0]=n.u2,e[1]=n.v2):(e[0]=n.u,e[1]=n.v2,e[2]=n.u,e[3]=n.v,e[4]=n.u2,e[5]=n.v,e[6]=n.u2,e[7]=n.v2)}computeWorldVertices(n,e,t,r){let i=this.offset,s=n instanceof ol?n.bone.matrix:n.matrix,a=s.tx,l=s.ty,o=s.a,c=s.c,u=s.b,h=s.d,d=0,f=0;d=i[kn.OX1],f=i[kn.OY1],e[t]=d*o+f*c+a,e[t+1]=d*u+f*h+l,t+=r,d=i[kn.OX2],f=i[kn.OY2],e[t]=d*o+f*c+a,e[t+1]=d*u+f*h+l,t+=r,d=i[kn.OX3],f=i[kn.OY3],e[t]=d*o+f*c+a,e[t+1]=d*u+f*h+l,t+=r,d=i[kn.OX4],f=i[kn.OY4],e[t]=d*o+f*c+a,e[t+1]=d*u+f*h+l}},Ae=kn;Ae.OX1=0;Ae.OY1=1;Ae.OX2=2;Ae.OY2=3;Ae.OX3=4;Ae.OY3=5;Ae.OX4=6;Ae.OY4=7;Ae.X1=0;Ae.Y1=1;Ae.C1R=2;Ae.C1G=3;Ae.C1B=4;Ae.C1A=5;Ae.U1=6;Ae.V1=7;Ae.X2=8;Ae.Y2=9;Ae.C2R=10;Ae.C2G=11;Ae.C2B=12;Ae.C2A=13;Ae.U2=14;Ae.V2=15;Ae.X3=16;Ae.Y3=17;Ae.C3R=18;Ae.C3G=19;Ae.C3B=20;Ae.C3A=21;Ae.U3=22;Ae.V3=23;Ae.X4=24;Ae.Y4=25;Ae.C4R=26;Ae.C4G=27;Ae.C4B=28;Ae.C4A=29;Ae.U4=30;Ae.V4=31;var zx=class{constructor(e,t){this.jitterX=0,this.jitterY=0,this.jitterX=e,this.jitterY=t}begin(e){}transform(e,t,r,i){e.x+=D.randomTriangular(-this.jitterX,this.jitterY),e.y+=D.randomTriangular(-this.jitterX,this.jitterY)}end(){}};var KF=class{constructor(n){this.centerX=0,this.centerY=0,this.radius=0,this.angle=0,this.worldX=0,this.worldY=0,this.radius=n}begin(n){this.worldX=n.x+this.centerX,this.worldY=n.y+this.centerY}transform(n,e,t,r){let i=this.angle*D.degreesToRadians,s=n.x-this.worldX,a=n.y-this.worldY,l=Math.sqrt(s*s+a*a);if(l<this.radius){let o=KF.interpolation.apply(0,i,(this.radius-l)/this.radius),c=Math.cos(o),u=Math.sin(o);n.x=c*s-u*a+this.worldX,n.y=u*s+c*a+this.worldY}}end(){}},YC=KF;YC.interpolation=new Zc(2);var Tt=class{constructor(e,t,r){if(e==null)throw new Error("name cannot be null.");if(t==null)throw new Error("timelines cannot be null.");this.name=e,this.timelines=t,this.duration=r}apply(e,t,r,i,s,a,l,o){if(e==null)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(r%=this.duration,t>0&&(t%=this.duration));let c=this.timelines;for(let u=0,h=c.length;u<h;u++)c[u].apply(e,t,r,s,a,l,o)}static binarySearch(e,t,r=1){let i=0,s=e.length/r-2;if(s==0)return r;let a=s>>>1;for(;;){if(e[(a+1)*r]<=t?i=a+1:s=a,i==s)return(i+1)*r;a=i+s>>>1}}static linearSearch(e,t,r){for(let i=0,s=e.length-r;i<=s;i+=r)if(e[i]>t)return i;return-1}},XC=(n=>(n[n.rotate=0]="rotate",n[n.translate=1]="translate",n[n.scale=2]="scale",n[n.shear=3]="shear",n[n.attachment=4]="attachment",n[n.color=5]="color",n[n.deform=6]="deform",n[n.event=7]="event",n[n.drawOrder=8]="drawOrder",n[n.ikConstraint=9]="ikConstraint",n[n.transformConstraint=10]="transformConstraint",n[n.pathConstraintPosition=11]="pathConstraintPosition",n[n.pathConstraintSpacing=12]="pathConstraintSpacing",n[n.pathConstraintMix=13]="pathConstraintMix",n[n.twoColor=14]="twoColor",n))(XC||{}),Jt=class{constructor(n){if(n<=0)throw new Error(`frameCount must be > 0: ${n}`);this.curves=F.newFloatArray((n-1)*Jt.BEZIER_SIZE)}getFrameCount(){return this.curves.length/Jt.BEZIER_SIZE+1}setLinear(n){this.curves[n*Jt.BEZIER_SIZE]=Jt.LINEAR}setStepped(n){this.curves[n*Jt.BEZIER_SIZE]=Jt.STEPPED}getCurveType(n){let e=n*Jt.BEZIER_SIZE;if(e==this.curves.length)return Jt.LINEAR;let t=this.curves[e];return t==Jt.LINEAR?Jt.LINEAR:t==Jt.STEPPED?Jt.STEPPED:Jt.BEZIER}setCurve(n,e,t,r,i){let s=(-e*2+r)*.03,a=(-t*2+i)*.03,l=((e-r)*3+1)*.006,o=((t-i)*3+1)*.006,c=s*2+l,u=a*2+o,h=e*.3+s+l*.16666667,d=t*.3+a+o*.16666667,f=n*Jt.BEZIER_SIZE,p=this.curves;p[f++]=Jt.BEZIER;let m=h,g=d;for(let v=f+Jt.BEZIER_SIZE-1;f<v;f+=2)p[f]=m,p[f+1]=g,h+=c,d+=u,c+=l,u+=o,m+=h,g+=d}getCurvePercent(n,e){e=D.clamp(e,0,1);let t=this.curves,r=n*Jt.BEZIER_SIZE,i=t[r];if(i==Jt.LINEAR)return e;if(i==Jt.STEPPED)return 0;r++;let s=0;for(let l=r,o=r+Jt.BEZIER_SIZE-1;r<o;r+=2)if(s=t[r],s>=e){let c,u;return r==l?(c=0,u=0):(c=t[r-2],u=t[r-1]),u+(t[r+1]-u)*(e-c)/(s-c)}let a=t[r-1];return a+(1-a)*(e-s)/(1-s)}},yr=Jt;yr.LINEAR=0;yr.STEPPED=1;yr.BEZIER=2;yr.BEZIER_SIZE=10*2-1;var al=class extends yr{constructor(n){super(n),this.frames=F.newFloatArray(n<<1)}getPropertyId(){return 0+this.boneIndex}setFrame(n,e,t){n<<=1,this.frames[n]=e,this.frames[n+al.ROTATION]=t}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.bones[this.boneIndex];if(t<l[0]){switch(s){case I.setup:o.rotation=o.data.rotation;return;case I.first:let p=o.data.rotation-o.rotation;o.rotation+=(p-(16384-(16384.499999999996-p/360|0))*360)*i}return}if(t>=l[l.length-al.ENTRIES]){let p=l[l.length+al.PREV_ROTATION];switch(s){case I.setup:o.rotation=o.data.rotation+p*i;break;case I.first:case I.replace:p+=o.data.rotation-o.rotation,p-=(16384-(16384.499999999996-p/360|0))*360;case I.add:o.rotation+=p*i}return}let c=Tt.binarySearch(l,t,al.ENTRIES),u=l[c+al.PREV_ROTATION],h=l[c],d=this.getCurvePercent((c>>1)-1,1-(t-h)/(l[c+al.PREV_TIME]-h)),f=l[c+al.ROTATION]-u;switch(f=u+(f-(16384-(16384.499999999996-f/360|0))*360)*d,s){case I.setup:o.rotation=o.data.rotation+(f-(16384-(16384.499999999996-f/360|0))*360)*i;break;case I.first:case I.replace:f+=o.data.rotation-o.rotation;case I.add:o.rotation+=(f-(16384-(16384.499999999996-f/360|0))*360)*i}}},An=al;An.ENTRIES=2;An.PREV_TIME=-2;An.PREV_ROTATION=-1;An.ROTATION=1;var mr=class extends yr{constructor(n){super(n),this.frames=F.newFloatArray(n*mr.ENTRIES)}getPropertyId(){return(1<<24)+this.boneIndex}setFrame(n,e,t,r){n*=mr.ENTRIES,this.frames[n]=e,this.frames[n+mr.X]=t,this.frames[n+mr.Y]=r}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.bones[this.boneIndex];if(t<l[0]){switch(s){case I.setup:o.x=o.data.x,o.y=o.data.y;return;case I.first:o.x+=(o.data.x-o.x)*i,o.y+=(o.data.y-o.y)*i}return}let c=0,u=0;if(t>=l[l.length-mr.ENTRIES])c=l[l.length+mr.PREV_X],u=l[l.length+mr.PREV_Y];else{let h=Tt.binarySearch(l,t,mr.ENTRIES);c=l[h+mr.PREV_X],u=l[h+mr.PREV_Y];let d=l[h],f=this.getCurvePercent(h/mr.ENTRIES-1,1-(t-d)/(l[h+mr.PREV_TIME]-d));c+=(l[h+mr.X]-c)*f,u+=(l[h+mr.Y]-u)*f}switch(s){case I.setup:o.x=o.data.x+c*i,o.y=o.data.y+u*i;break;case I.first:case I.replace:o.x+=(o.data.x+c-o.x)*i,o.y+=(o.data.y+u-o.y)*i;break;case I.add:o.x+=c*i,o.y+=u*i}}},fi=mr;fi.ENTRIES=3;fi.PREV_TIME=-3;fi.PREV_X=-2;fi.PREV_Y=-1;fi.X=1;fi.Y=2;var kd=class n extends fi{constructor(e){super(e)}getPropertyId(){return(2<<24)+this.boneIndex}apply(e,t,r,i,s,a,l){let o=this.frames,c=e.bones[this.boneIndex];if(r<o[0]){switch(a){case I.setup:c.scaleX=c.data.scaleX,c.scaleY=c.data.scaleY;return;case I.first:c.scaleX+=(c.data.scaleX-c.scaleX)*s,c.scaleY+=(c.data.scaleY-c.scaleY)*s}return}let u=0,h=0;if(r>=o[o.length-n.ENTRIES])u=o[o.length+n.PREV_X]*c.data.scaleX,h=o[o.length+n.PREV_Y]*c.data.scaleY;else{let d=Tt.binarySearch(o,r,n.ENTRIES);u=o[d+n.PREV_X],h=o[d+n.PREV_Y];let f=o[d],p=this.getCurvePercent(d/n.ENTRIES-1,1-(r-f)/(o[d+n.PREV_TIME]-f));u=(u+(o[d+n.X]-u)*p)*c.data.scaleX,h=(h+(o[d+n.Y]-h)*p)*c.data.scaleY}if(s==1)a==I.add?(c.scaleX+=u-c.data.scaleX,c.scaleY+=h-c.data.scaleY):(c.scaleX=u,c.scaleY=h);else{let d=0,f=0;if(l==_e.mixOut)switch(a){case I.setup:d=c.data.scaleX,f=c.data.scaleY,c.scaleX=d+(Math.abs(u)*D.signum(d)-d)*s,c.scaleY=f+(Math.abs(h)*D.signum(f)-f)*s;break;case I.first:case I.replace:d=c.scaleX,f=c.scaleY,c.scaleX=d+(Math.abs(u)*D.signum(d)-d)*s,c.scaleY=f+(Math.abs(h)*D.signum(f)-f)*s;break;case I.add:d=c.scaleX,f=c.scaleY,c.scaleX=d+(Math.abs(u)*D.signum(d)-c.data.scaleX)*s,c.scaleY=f+(Math.abs(h)*D.signum(f)-c.data.scaleY)*s}else switch(a){case I.setup:d=Math.abs(c.data.scaleX)*D.signum(u),f=Math.abs(c.data.scaleY)*D.signum(h),c.scaleX=d+(u-d)*s,c.scaleY=f+(h-f)*s;break;case I.first:case I.replace:d=Math.abs(c.scaleX)*D.signum(u),f=Math.abs(c.scaleY)*D.signum(h),c.scaleX=d+(u-d)*s,c.scaleY=f+(h-f)*s;break;case I.add:d=D.signum(u),f=D.signum(h),c.scaleX=Math.abs(c.scaleX)*d+(u-Math.abs(c.data.scaleX)*d)*s,c.scaleY=Math.abs(c.scaleY)*f+(h-Math.abs(c.data.scaleY)*f)*s}}}},Ld=class n extends fi{constructor(e){super(e)}getPropertyId(){return(3<<24)+this.boneIndex}apply(e,t,r,i,s,a,l){let o=this.frames,c=e.bones[this.boneIndex];if(r<o[0]){switch(a){case I.setup:c.shearX=c.data.shearX,c.shearY=c.data.shearY;return;case I.first:c.shearX+=(c.data.shearX-c.shearX)*s,c.shearY+=(c.data.shearY-c.shearY)*s}return}let u=0,h=0;if(r>=o[o.length-n.ENTRIES])u=o[o.length+n.PREV_X],h=o[o.length+n.PREV_Y];else{let d=Tt.binarySearch(o,r,n.ENTRIES);u=o[d+n.PREV_X],h=o[d+n.PREV_Y];let f=o[d],p=this.getCurvePercent(d/n.ENTRIES-1,1-(r-f)/(o[d+n.PREV_TIME]-f));u=u+(o[d+n.X]-u)*p,h=h+(o[d+n.Y]-h)*p}switch(a){case I.setup:c.shearX=c.data.shearX+u*s,c.shearY=c.data.shearY+h*s;break;case I.first:case I.replace:c.shearX+=(c.data.shearX+u-c.shearX)*s,c.shearY+=(c.data.shearY+h-c.shearY)*s;break;case I.add:c.shearX+=u*s,c.shearY+=h*s}}},Nt=class extends yr{constructor(n){super(n),this.frames=F.newFloatArray(n*Nt.ENTRIES)}getPropertyId(){return(5<<24)+this.slotIndex}setFrame(n,e,t,r,i,s){n*=Nt.ENTRIES,this.frames[n]=e,this.frames[n+Nt.R]=t,this.frames[n+Nt.G]=r,this.frames[n+Nt.B]=i,this.frames[n+Nt.A]=s}apply(n,e,t,r,i,s,a){let l=n.slots[this.slotIndex],o=this.frames;if(t<o[0]){switch(s){case I.setup:l.color.setFromColor(l.data.color);return;case I.first:let f=l.color,p=l.data.color;f.add((p.r-f.r)*i,(p.g-f.g)*i,(p.b-f.b)*i,(p.a-f.a)*i)}return}let c=0,u=0,h=0,d=0;if(t>=o[o.length-Nt.ENTRIES]){let f=o.length;c=o[f+Nt.PREV_R],u=o[f+Nt.PREV_G],h=o[f+Nt.PREV_B],d=o[f+Nt.PREV_A]}else{let f=Tt.binarySearch(o,t,Nt.ENTRIES);c=o[f+Nt.PREV_R],u=o[f+Nt.PREV_G],h=o[f+Nt.PREV_B],d=o[f+Nt.PREV_A];let p=o[f],m=this.getCurvePercent(f/Nt.ENTRIES-1,1-(t-p)/(o[f+Nt.PREV_TIME]-p));c+=(o[f+Nt.R]-c)*m,u+=(o[f+Nt.G]-u)*m,h+=(o[f+Nt.B]-h)*m,d+=(o[f+Nt.A]-d)*m}if(i==1)l.color.set(c,u,h,d);else{let f=l.color;s==I.setup&&f.setFromColor(l.data.color),f.add((c-f.r)*i,(u-f.g)*i,(h-f.b)*i,(d-f.a)*i)}}},xr=Nt;xr.ENTRIES=5;xr.PREV_TIME=-5;xr.PREV_R=-4;xr.PREV_G=-3;xr.PREV_B=-2;xr.PREV_A=-1;xr.R=1;xr.G=2;xr.B=3;xr.A=4;var Xe=class extends yr{constructor(n){super(n),this.frames=F.newFloatArray(n*Xe.ENTRIES)}getPropertyId(){return(14<<24)+this.slotIndex}setFrame(n,e,t,r,i,s,a,l,o){n*=Xe.ENTRIES,this.frames[n]=e,this.frames[n+Xe.R]=t,this.frames[n+Xe.G]=r,this.frames[n+Xe.B]=i,this.frames[n+Xe.A]=s,this.frames[n+Xe.R2]=a,this.frames[n+Xe.G2]=l,this.frames[n+Xe.B2]=o}apply(n,e,t,r,i,s,a){let l=n.slots[this.slotIndex],o=this.frames;if(t<o[0]){switch(s){case I.setup:l.color.setFromColor(l.data.color),l.darkColor.setFromColor(l.data.darkColor);return;case I.first:let g=l.color,v=l.darkColor,x=l.data.color,y=l.data.darkColor;g.add((x.r-g.r)*i,(x.g-g.g)*i,(x.b-g.b)*i,(x.a-g.a)*i),v.add((y.r-v.r)*i,(y.g-v.g)*i,(y.b-v.b)*i,0)}return}let c=0,u=0,h=0,d=0,f=0,p=0,m=0;if(t>=o[o.length-Xe.ENTRIES]){let g=o.length;c=o[g+Xe.PREV_R],u=o[g+Xe.PREV_G],h=o[g+Xe.PREV_B],d=o[g+Xe.PREV_A],f=o[g+Xe.PREV_R2],p=o[g+Xe.PREV_G2],m=o[g+Xe.PREV_B2]}else{let g=Tt.binarySearch(o,t,Xe.ENTRIES);c=o[g+Xe.PREV_R],u=o[g+Xe.PREV_G],h=o[g+Xe.PREV_B],d=o[g+Xe.PREV_A],f=o[g+Xe.PREV_R2],p=o[g+Xe.PREV_G2],m=o[g+Xe.PREV_B2];let v=o[g],x=this.getCurvePercent(g/Xe.ENTRIES-1,1-(t-v)/(o[g+Xe.PREV_TIME]-v));c+=(o[g+Xe.R]-c)*x,u+=(o[g+Xe.G]-u)*x,h+=(o[g+Xe.B]-h)*x,d+=(o[g+Xe.A]-d)*x,f+=(o[g+Xe.R2]-f)*x,p+=(o[g+Xe.G2]-p)*x,m+=(o[g+Xe.B2]-m)*x}if(i==1)l.color.set(c,u,h,d),l.darkColor.set(f,p,m,1);else{let g=l.color,v=l.darkColor;s==I.setup&&(g.setFromColor(l.data.color),v.setFromColor(l.data.darkColor)),g.add((c-g.r)*i,(u-g.g)*i,(h-g.b)*i,(d-g.a)*i),v.add((f-v.r)*i,(p-v.g)*i,(m-v.b)*i,0)}}},en=Xe;en.ENTRIES=8;en.PREV_TIME=-8;en.PREV_R=-7;en.PREV_G=-6;en.PREV_B=-5;en.PREV_A=-4;en.PREV_R2=-3;en.PREV_G2=-2;en.PREV_B2=-1;en.R=1;en.G=2;en.B=3;en.A=4;en.R2=5;en.G2=6;en.B2=7;var Po=class{constructor(e){this.frames=F.newFloatArray(e),this.attachmentNames=new Array(e)}getPropertyId(){return(4<<24)+this.slotIndex}getFrameCount(){return this.frames.length}setFrame(e,t,r){this.frames[e]=t,this.attachmentNames[e]=r}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(l==_e.mixOut&&a==I.setup){let d=o.data.attachmentName;o.setAttachment(d==null?null:e.getAttachment(this.slotIndex,d));return}let c=this.frames;if(r<c[0]){if(a==I.setup||a==I.first){let d=o.data.attachmentName;o.setAttachment(d==null?null:e.getAttachment(this.slotIndex,d))}return}let u=0;r>=c[c.length-1]?u=c.length-1:u=Tt.binarySearch(c,r,1)-1;let h=this.attachmentNames[u];e.slots[this.slotIndex].setAttachment(h==null?null:e.getAttachment(this.slotIndex,h))}},JF=null,Bd=class extends yr{constructor(e){super(e),this.frames=F.newFloatArray(e),this.frameVertices=new Array(e),JF==null&&(JF=F.newFloatArray(64))}getPropertyId(){return(6<<27)+Number(this.attachment.id)+this.slotIndex}setFrame(e,t,r){this.frames[e]=t,this.frameVertices[e]=r}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex],c=o.getAttachment();if(!(c instanceof pr)||!c.applyDeform(this.attachment))return;let u=o.attachmentVertices;u.length==0&&(a=I.setup);let h=this.frameVertices,d=h[0].length,f=this.frames;if(r<f[0]){let _=c;switch(a){case I.setup:u.length=0;return;case I.first:if(s==1){u.length=0;break}let b=F.setArraySize(u,d);if(_.bones==null){let w=_.vertices;for(let E=0;E<d;E++)b[E]+=(w[E]-b[E])*s}else{s=1-s;for(let w=0;w<d;w++)b[w]*=s}}return}let p=F.setArraySize(u,d);if(r>=f[f.length-1]){let _=h[f.length-1];if(s==1)if(a==I.add){let b=c;if(b.bones==null){let w=b.vertices;for(let E=0;E<d;E++)p[E]+=_[E]-w[E]}else for(let w=0;w<d;w++)p[w]+=_[w]}else F.arrayCopy(_,0,p,0,d);else switch(a){case I.setup:{let w=c;if(w.bones==null){let E=w.vertices;for(let S=0;S<d;S++){let C=E[S];p[S]=C+(_[S]-C)*s}}else for(let E=0;E<d;E++)p[E]=_[E]*s;break}case I.first:case I.replace:for(let w=0;w<d;w++)p[w]+=(_[w]-p[w])*s;case I.add:let b=c;if(b.bones==null){let w=b.vertices;for(let E=0;E<d;E++)p[E]+=(_[E]-w[E])*s}else for(let w=0;w<d;w++)p[w]+=_[w]*s}return}let m=Tt.binarySearch(f,r),g=h[m-1],v=h[m],x=f[m],y=this.getCurvePercent(m-1,1-(r-x)/(f[m-1]-x));if(s==1)if(a==I.add){let _=c;if(_.bones==null){let b=_.vertices;for(let w=0;w<d;w++){let E=g[w];p[w]+=E+(v[w]-E)*y-b[w]}}else for(let b=0;b<d;b++){let w=g[b];p[b]+=w+(v[b]-w)*y}}else for(let _=0;_<d;_++){let b=g[_];p[_]=b+(v[_]-b)*y}else switch(a){case I.setup:{let b=c;if(b.bones==null){let w=b.vertices;for(let E=0;E<d;E++){let S=g[E],C=w[E];p[E]=C+(S+(v[E]-S)*y-C)*s}}else for(let w=0;w<d;w++){let E=g[w];p[w]=(E+(v[w]-E)*y)*s}break}case I.first:case I.replace:for(let b=0;b<d;b++){let w=g[b];p[b]+=(w+(v[b]-w)*y-p[b])*s}break;case I.add:let _=c;if(_.bones==null){let b=_.vertices;for(let w=0;w<d;w++){let E=g[w];p[w]+=(E+(v[w]-E)*y-b[w])*s}}else for(let b=0;b<d;b++){let w=g[b];p[b]+=(w+(v[b]-w)*y)*s}}}},Vd=class{constructor(e){this.frames=F.newFloatArray(e),this.events=new Array(e)}getPropertyId(){return 7<<24}getFrameCount(){return this.frames.length}setFrame(e,t){this.frames[e]=t.time,this.events[e]=t}apply(e,t,r,i,s,a,l){if(i==null)return;let o=this.frames,c=this.frames.length;if(t>r)this.apply(e,t,Number.MAX_VALUE,i,s,a,l),t=-1;else if(t>=o[c-1])return;if(r<o[0])return;let u=0;if(t<o[0])u=0;else{u=Tt.binarySearch(o,t);let h=o[u];for(;u>0&&o[u-1]==h;)u--}for(;u<c&&r>=o[u];u++)i.push(this.events[u])}},Oo=class{constructor(e){this.frames=F.newFloatArray(e),this.drawOrders=new Array(e)}getPropertyId(){return 8<<24}getFrameCount(){return this.frames.length}setFrame(e,t,r){this.frames[e]=t,this.drawOrders[e]=r}apply(e,t,r,i,s,a,l){let o=e.drawOrder,c=e.slots;if(l==_e.mixOut&&a==I.setup){F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}let u=this.frames;if(r<u[0]){(a==I.setup||a==I.first)&&F.arrayCopy(e.slots,0,e.drawOrder,0,e.slots.length);return}let h=0;r>=u[u.length-1]?h=u.length-1:h=Tt.binarySearch(u,r)-1;let d=this.drawOrders[h];if(d==null)F.arrayCopy(c,0,o,0,c.length);else for(let f=0,p=d.length;f<p;f++)o[f]=c[d[f]]}},ht=class extends yr{constructor(n){super(n),this.frames=F.newFloatArray(n*ht.ENTRIES)}getPropertyId(){return(9<<24)+this.ikConstraintIndex}setFrame(n,e,t,r,i,s){n*=ht.ENTRIES,this.frames[n]=e,this.frames[n+ht.MIX]=t,this.frames[n+ht.BEND_DIRECTION]=r,this.frames[n+ht.COMPRESS]=i?1:0,this.frames[n+ht.STRETCH]=s?1:0}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.ikConstraints[this.ikConstraintIndex];if(t<l[0]){switch(s){case I.setup:o.mix=o.data.mix,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch;return;case I.first:o.mix+=(o.data.mix-o.mix)*i,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}return}if(t>=l[l.length-ht.ENTRIES]){s==I.setup?(o.mix=o.data.mix+(l[l.length+ht.PREV_MIX]-o.data.mix)*i,a==_e.mixOut?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=l[l.length+ht.PREV_BEND_DIRECTION],o.compress=l[l.length+ht.PREV_COMPRESS]!=0,o.stretch=l[l.length+ht.PREV_STRETCH]!=0)):(o.mix+=(l[l.length+ht.PREV_MIX]-o.mix)*i,a==_e.mixIn&&(o.bendDirection=l[l.length+ht.PREV_BEND_DIRECTION],o.compress=l[l.length+ht.PREV_COMPRESS]!=0,o.stretch=l[l.length+ht.PREV_STRETCH]!=0));return}let c=Tt.binarySearch(l,t,ht.ENTRIES),u=l[c+ht.PREV_MIX],h=l[c],d=this.getCurvePercent(c/ht.ENTRIES-1,1-(t-h)/(l[c+ht.PREV_TIME]-h));s==I.setup?(o.mix=o.data.mix+(u+(l[c+ht.MIX]-u)*d-o.data.mix)*i,a==_e.mixOut?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=l[c+ht.PREV_BEND_DIRECTION],o.compress=l[c+ht.PREV_COMPRESS]!=0,o.stretch=l[c+ht.PREV_STRETCH]!=0)):(o.mix+=(u+(l[c+ht.MIX]-u)*d-o.mix)*i,a==_e.mixIn&&(o.bendDirection=l[c+ht.PREV_BEND_DIRECTION],o.compress=l[c+ht.PREV_COMPRESS]!=0,o.stretch=l[c+ht.PREV_STRETCH]!=0))}},vr=ht;vr.ENTRIES=5;vr.PREV_TIME=-5;vr.PREV_MIX=-4;vr.PREV_BEND_DIRECTION=-3;vr.PREV_COMPRESS=-2;vr.PREV_STRETCH=-1;vr.MIX=1;vr.BEND_DIRECTION=2;vr.COMPRESS=3;vr.STRETCH=4;var Ft=class extends yr{constructor(n){super(n),this.frames=F.newFloatArray(n*Ft.ENTRIES)}getPropertyId(){return(10<<24)+this.transformConstraintIndex}setFrame(n,e,t,r,i,s){n*=Ft.ENTRIES,this.frames[n]=e,this.frames[n+Ft.ROTATE]=t,this.frames[n+Ft.TRANSLATE]=r,this.frames[n+Ft.SCALE]=i,this.frames[n+Ft.SHEAR]=s}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.transformConstraints[this.transformConstraintIndex];if(t<l[0]){let f=o.data;switch(s){case I.setup:o.rotateMix=f.rotateMix,o.translateMix=f.translateMix,o.scaleMix=f.scaleMix,o.shearMix=f.shearMix;return;case I.first:o.rotateMix+=(f.rotateMix-o.rotateMix)*i,o.translateMix+=(f.translateMix-o.translateMix)*i,o.scaleMix+=(f.scaleMix-o.scaleMix)*i,o.shearMix+=(f.shearMix-o.shearMix)*i}return}let c=0,u=0,h=0,d=0;if(t>=l[l.length-Ft.ENTRIES]){let f=l.length;c=l[f+Ft.PREV_ROTATE],u=l[f+Ft.PREV_TRANSLATE],h=l[f+Ft.PREV_SCALE],d=l[f+Ft.PREV_SHEAR]}else{let f=Tt.binarySearch(l,t,Ft.ENTRIES);c=l[f+Ft.PREV_ROTATE],u=l[f+Ft.PREV_TRANSLATE],h=l[f+Ft.PREV_SCALE],d=l[f+Ft.PREV_SHEAR];let p=l[f],m=this.getCurvePercent(f/Ft.ENTRIES-1,1-(t-p)/(l[f+Ft.PREV_TIME]-p));c+=(l[f+Ft.ROTATE]-c)*m,u+=(l[f+Ft.TRANSLATE]-u)*m,h+=(l[f+Ft.SCALE]-h)*m,d+=(l[f+Ft.SHEAR]-d)*m}if(s==I.setup){let f=o.data;o.rotateMix=f.rotateMix+(c-f.rotateMix)*i,o.translateMix=f.translateMix+(u-f.translateMix)*i,o.scaleMix=f.scaleMix+(h-f.scaleMix)*i,o.shearMix=f.shearMix+(d-f.shearMix)*i}else o.rotateMix+=(c-o.rotateMix)*i,o.translateMix+=(u-o.translateMix)*i,o.scaleMix+=(h-o.scaleMix)*i,o.shearMix+=(d-o.shearMix)*i}},_r=Ft;_r.ENTRIES=5;_r.PREV_TIME=-5;_r.PREV_ROTATE=-4;_r.PREV_TRANSLATE=-3;_r.PREV_SCALE=-2;_r.PREV_SHEAR=-1;_r.ROTATE=1;_r.TRANSLATE=2;_r.SCALE=3;_r.SHEAR=4;var fs=class extends yr{constructor(n){super(n),this.frames=F.newFloatArray(n*fs.ENTRIES)}getPropertyId(){return(11<<24)+this.pathConstraintIndex}setFrame(n,e,t){n*=fs.ENTRIES,this.frames[n]=e,this.frames[n+fs.VALUE]=t}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.pathConstraints[this.pathConstraintIndex];if(t<l[0]){switch(s){case I.setup:o.position=o.data.position;return;case I.first:o.position+=(o.data.position-o.position)*i}return}let c=0;if(t>=l[l.length-fs.ENTRIES])c=l[l.length+fs.PREV_VALUE];else{let u=Tt.binarySearch(l,t,fs.ENTRIES);c=l[u+fs.PREV_VALUE];let h=l[u],d=this.getCurvePercent(u/fs.ENTRIES-1,1-(t-h)/(l[u+fs.PREV_TIME]-h));c+=(l[u+fs.VALUE]-c)*d}s==I.setup?o.position=o.data.position+(c-o.data.position)*i:o.position+=(c-o.position)*i}},Zs=fs;Zs.ENTRIES=2;Zs.PREV_TIME=-2;Zs.PREV_VALUE=-1;Zs.VALUE=1;var Ud=class n extends Zs{constructor(e){super(e)}getPropertyId(){return(12<<24)+this.pathConstraintIndex}apply(e,t,r,i,s,a,l){let o=this.frames,c=e.pathConstraints[this.pathConstraintIndex];if(r<o[0]){switch(a){case I.setup:c.spacing=c.data.spacing;return;case I.first:c.spacing+=(c.data.spacing-c.spacing)*s}return}let u=0;if(r>=o[o.length-n.ENTRIES])u=o[o.length+n.PREV_VALUE];else{let h=Tt.binarySearch(o,r,n.ENTRIES);u=o[h+n.PREV_VALUE];let d=o[h],f=this.getCurvePercent(h/n.ENTRIES-1,1-(r-d)/(o[h+n.PREV_TIME]-d));u+=(o[h+n.VALUE]-u)*f}a==I.setup?c.spacing=c.data.spacing+(u-c.data.spacing)*s:c.spacing+=(u-c.spacing)*s}},gr=class extends yr{constructor(n){super(n),this.frames=F.newFloatArray(n*gr.ENTRIES)}getPropertyId(){return(13<<24)+this.pathConstraintIndex}setFrame(n,e,t,r){n*=gr.ENTRIES,this.frames[n]=e,this.frames[n+gr.ROTATE]=t,this.frames[n+gr.TRANSLATE]=r}apply(n,e,t,r,i,s,a){let l=this.frames,o=n.pathConstraints[this.pathConstraintIndex];if(t<l[0]){switch(s){case I.setup:o.rotateMix=o.data.rotateMix,o.translateMix=o.data.translateMix;return;case I.first:o.rotateMix+=(o.data.rotateMix-o.rotateMix)*i,o.translateMix+=(o.data.translateMix-o.translateMix)*i}return}let c=0,u=0;if(t>=l[l.length-gr.ENTRIES])c=l[l.length+gr.PREV_ROTATE],u=l[l.length+gr.PREV_TRANSLATE];else{let h=Tt.binarySearch(l,t,gr.ENTRIES);c=l[h+gr.PREV_ROTATE],u=l[h+gr.PREV_TRANSLATE];let d=l[h],f=this.getCurvePercent(h/gr.ENTRIES-1,1-(t-d)/(l[h+gr.PREV_TIME]-d));c+=(l[h+gr.ROTATE]-c)*f,u+=(l[h+gr.TRANSLATE]-u)*f}s==I.setup?(o.rotateMix=o.data.rotateMix+(c-o.data.rotateMix)*i,o.translateMix=o.data.translateMix+(u-o.data.translateMix)*i):(o.rotateMix+=(c-o.rotateMix)*i,o.translateMix+=(u-o.translateMix)*i)}},ps=gr;ps.ENTRIES=3;ps.PREV_TIME=-3;ps.PREV_ROTATE=-2;ps.PREV_TRANSLATE=-1;ps.ROTATE=1;ps.TRANSLATE=2;var Tn=class{constructor(n){this.tracks=new Array,this.events=new Array,this.listeners=new Array,this.queue=new Zx(this),this.propertyIDs=new zc,this.animationsChanged=!1,this.timeScale=1,this.trackEntryPool=new as(()=>new Pm),this.data=n}update(n){n*=this.timeScale;let e=this.tracks;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i==null)continue;i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;let s=n*i.timeScale;if(i.delay>0){if(i.delay-=s,i.delay>0)continue;s=-i.delay,i.delay=0}let a=i.next;if(a!=null){let l=i.trackLast-a.delay;if(l>=0){for(a.delay=0,a.trackTime=i.timeScale==0?0:(l/i.timeScale+n)*a.timeScale,i.trackTime+=s,this.setCurrent(t,a,!0);a.mixingFrom!=null;)a.mixTime+=n,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&i.mixingFrom==null){e[t]=null,this.queue.end(i),this.disposeNext(i);continue}if(i.mixingFrom!=null&&this.updateMixingFrom(i,n)){let l=i.mixingFrom;for(i.mixingFrom=null,l!=null&&(l.mixingTo=null);l!=null;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=s}this.queue.drain()}updateMixingFrom(n,e){let t=n.mixingFrom;if(t==null)return!0;let r=this.updateMixingFrom(t,e);return t.animationLast=t.nextAnimationLast,t.trackLast=t.nextTrackLast,n.mixTime>0&&n.mixTime>=n.mixDuration?((t.totalAlpha==0||n.mixDuration==0)&&(n.mixingFrom=t.mixingFrom,t.mixingFrom!=null&&(t.mixingFrom.mixingTo=n),n.interruptAlpha=t.interruptAlpha,this.queue.end(t)),r):(t.trackTime+=e*t.timeScale,n.mixTime+=e,!1)}apply(n){if(n==null)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let e=this.events,t=this.tracks,r=!1;for(let i=0,s=t.length;i<s;i++){let a=t[i];if(a==null||a.delay>0)continue;r=!0;let l=i==0?I.first:a.mixBlend,o=a.alpha;a.mixingFrom!=null?o*=this.applyMixingFrom(a,n,l):a.trackTime>=a.trackEnd&&a.next==null&&(o=0);let c=a.animationLast,u=a.getAnimationTime(),h=a.animation.timelines.length,d=a.animation.timelines;if(i==0&&o==1||l==I.add)for(let f=0;f<h;f++)F.webkit602BugfixHelper(o,l),d[f].apply(n,c,u,e,o,l,_e.mixIn);else{let f=a.timelineMode,p=a.timelinesRotation.length==0;p&&F.setArraySize(a.timelinesRotation,h<<1,null);let m=a.timelinesRotation;for(let g=0;g<h;g++){let v=d[g],x=f[g]==Tn.SUBSEQUENT?l:I.setup;v instanceof An?this.applyRotateTimeline(v,n,u,o,x,m,g<<1,p):(F.webkit602BugfixHelper(o,l),v.apply(n,c,u,e,o,x,_e.mixIn))}}this.queueEvents(a,u),e.length=0,a.nextAnimationLast=u,a.nextTrackLast=a.trackTime}return this.queue.drain(),r}applyMixingFrom(n,e,t){let r=n.mixingFrom;r.mixingFrom!=null&&this.applyMixingFrom(r,e,t);let i=0;n.mixDuration==0?(i=1,t==I.first&&(t=I.setup)):(i=n.mixTime/n.mixDuration,i>1&&(i=1),t!=I.first&&(t=r.mixBlend));let s=i<r.eventThreshold?this.events:null,a=i<r.attachmentThreshold,l=i<r.drawOrderThreshold,o=r.animationLast,c=r.getAnimationTime(),u=r.animation.timelines.length,h=r.animation.timelines,d=r.alpha*n.interruptAlpha,f=d*(1-i);if(t==I.add)for(let p=0;p<u;p++)h[p].apply(e,o,c,s,f,t,_e.mixOut);else{let p=r.timelineMode,m=r.timelineHoldMix,g=r.timelinesRotation.length==0;g&&F.setArraySize(r.timelinesRotation,u<<1,null);let v=r.timelinesRotation;r.totalAlpha=0;for(let x=0;x<u;x++){let y=h[x],_=_e.mixOut,b,w=0;switch(p[x]){case Tn.SUBSEQUENT:if(!a&&y instanceof Po||!l&&y instanceof Oo)continue;b=t,w=f;break;case Tn.FIRST:b=I.setup,w=f;break;case Tn.HOLD:b=I.setup,w=d;break;default:b=I.setup;let E=m[x];w=d*Math.max(0,1-E.mixTime/E.mixDuration);break}r.totalAlpha+=w,y instanceof An?this.applyRotateTimeline(y,e,c,w,b,v,x<<1,g):(F.webkit602BugfixHelper(w,t),b==I.setup&&(y instanceof Po?a&&(_=_e.mixOut):y instanceof Oo&&l&&(_=_e.mixOut)),y.apply(e,o,c,s,w,b,_))}}return n.mixDuration>0&&this.queueEvents(r,c),this.events.length=0,r.nextAnimationLast=c,r.nextTrackLast=r.trackTime,i}applyRotateTimeline(n,e,t,r,i,s,a,l){if(l&&(s[a]=0),r==1){n.apply(e,0,t,null,1,i,_e.mixIn);return}let o=n,c=o.frames,u=e.bones[o.boneIndex],h=0,d=0;if(t<c[0])switch(i){case I.setup:u.rotation=u.data.rotation;default:return;case I.first:h=u.rotation,d=u.data.rotation}else if(h=i==I.setup?u.data.rotation:u.rotation,t>=c[c.length-An.ENTRIES])d=u.data.rotation+c[c.length+An.PREV_ROTATION];else{let m=Tt.binarySearch(c,t,An.ENTRIES),g=c[m+An.PREV_ROTATION],v=c[m],x=o.getCurvePercent((m>>1)-1,1-(t-v)/(c[m+An.PREV_TIME]-v));d=c[m+An.ROTATION]-g,d-=(16384-(16384.499999999996-d/360|0))*360,d=g+d*x+u.data.rotation,d-=(16384-(16384.499999999996-d/360|0))*360}let f=0,p=d-h;if(p-=(16384-(16384.499999999996-p/360|0))*360,p==0)f=s[a];else{let m=0,g=0;l?(m=0,g=p):(m=s[a],g=s[a+1]);let v=p>0,x=m>=0;D.signum(g)!=D.signum(p)&&Math.abs(g)<=90&&(Math.abs(m)>180&&(m+=360*D.signum(m)),x=v),f=p+m-m%360,x!=v&&(f+=360*D.signum(m)),s[a]=f}s[a+1]=p,h+=f*r,u.rotation=h-(16384-(16384.499999999996-h/360|0))*360}queueEvents(n,e){let t=n.animationStart,r=n.animationEnd,i=r-t,s=n.trackLast%i,a=this.events,l=0,o=a.length;for(;l<o;l++){let u=a[l];if(u.time<s)break;u.time>r||this.queue.event(n,u)}let c=!1;for(n.loop?c=i==0||s>n.trackTime%i:c=e>=r&&n.animationLast<r,c&&this.queue.complete(n);l<o;l++)a[l].time<t||this.queue.event(n,a[l])}clearTracks(){let n=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,t=this.tracks.length;e<t;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=n,this.queue.drain()}clearTrack(n){if(n>=this.tracks.length)return;let e=this.tracks[n];if(e==null)return;this.queue.end(e),this.disposeNext(e);let t=e;for(;;){let r=t.mixingFrom;if(r==null)break;this.queue.end(r),t.mixingFrom=null,t.mixingTo=null,t=r}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(n,e,t){let r=this.expandToIndex(n);this.tracks[n]=e,r!=null&&(t&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,r.mixingFrom!=null&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)}setAnimation(n,e,t){let r=this.data.skeletonData.findAnimation(e);if(r==null)throw new Error(`Animation not found: ${e}`);return this.setAnimationWith(n,r,t)}setAnimationWith(n,e,t){if(e==null)throw new Error("animation cannot be null.");let r=!0,i=this.expandToIndex(n);i!=null&&(i.nextTrackLast==-1?(this.tracks[n]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.disposeNext(i),i=i.mixingFrom,r=!1):this.disposeNext(i));let s=this.trackEntry(n,e,t,i);return this.setCurrent(n,s,r),this.queue.drain(),s}addAnimation(n,e,t,r){let i=this.data.skeletonData.findAnimation(e);if(i==null)throw new Error(`Animation not found: ${e}`);return this.addAnimationWith(n,i,t,r)}addAnimationWith(n,e,t,r){if(e==null)throw new Error("animation cannot be null.");let i=this.expandToIndex(n);if(i!=null)for(;i.next!=null;)i=i.next;let s=this.trackEntry(n,e,t,i);if(i==null)this.setCurrent(n,s,!0),this.queue.drain();else if(i.next=s,r<=0){let a=i.animationEnd-i.animationStart;a!=0?(i.loop?r+=a*(1+(i.trackTime/a|0)):r+=Math.max(a,i.trackTime),r-=this.data.getMix(i.animation,e)):r=i.trackTime}return s.delay=r,s}setEmptyAnimation(n,e){let t=this.setAnimationWith(n,Tn.emptyAnimation,!1);return t.mixDuration=e,t.trackEnd=e,t}addEmptyAnimation(n,e,t){t<=0&&(t-=e);let r=this.addAnimationWith(n,Tn.emptyAnimation,!1,t);return r.mixDuration=e,r.trackEnd=e,r}setEmptyAnimations(n){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,r=this.tracks.length;t<r;t++){let i=this.tracks[t];i!=null&&this.setEmptyAnimation(i.trackIndex,n)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(n){return n<this.tracks.length?this.tracks[n]:(F.ensureArrayCapacity(this.tracks,n-this.tracks.length+1,null),this.tracks.length=n+1,null)}trackEntry(n,e,t,r){let i=this.trackEntryPool.obtain();return i.trackIndex=n,i.animation=e,i.loop=t,i.holdPrevious=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.interruptAlpha=1,i.mixTime=0,i.mixDuration=r==null?0:this.data.getMix(r.animation,e),i}disposeNext(n){let e=n.next;for(;e!=null;)this.queue.dispose(e),e=e.next;n.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();for(let n=0,e=this.tracks.length;n<e;n++){let t=this.tracks[n];if(t!=null){for(;t.mixingFrom!=null;)t=t.mixingFrom;do(t.mixingFrom==null||t.mixBlend!=I.add)&&this.setTimelineModes(t),t=t.mixingTo;while(t!=null)}}}setTimelineModes(n){let e=n.mixingTo,t=n.animation.timelines,r=n.animation.timelines.length,i=F.setArraySize(n.timelineMode,r);n.timelineHoldMix.length=0;let s=F.setArraySize(n.timelineHoldMix,r),a=this.propertyIDs;if(e!=null&&e.holdPrevious){for(let l=0;l<r;l++)a.add(t[l].getPropertyId()),i[l]=Tn.HOLD;return}e:for(let l=0;l<r;l++){let o=t[l].getPropertyId();if(!a.add(o))i[l]=Tn.SUBSEQUENT;else if(e==null||!this.hasTimeline(e,o))i[l]=Tn.FIRST;else{for(let c=e.mixingTo;c!=null;c=c.mixingTo)if(!this.hasTimeline(c,o)){if(n.mixDuration>0){i[l]=Tn.HOLD_MIX,s[l]=c;continue e}break}i[l]=Tn.HOLD}}}hasTimeline(n,e){let t=n.animation.timelines;for(let r=0,i=t.length;r<i;r++)if(t[r].getPropertyId()==e)return!0;return!1}getCurrent(n){return n>=this.tracks.length?null:this.tracks[n]}addListener(n){if(n==null)throw new Error("listener cannot be null.");this.listeners.push(n)}removeListener(n){let e=this.listeners.indexOf(n);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(n,e,t){Tn.deprecatedWarning1||(Tn.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(n,e,t)}addAnimationByName(n,e,t,r){Tn.deprecatedWarning2||(Tn.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(n,e,t,r)}hasAnimation(n){return this.data.skeletonData.findAnimation(n)!==null}hasAnimationByName(n){return Tn.deprecatedWarning3||(Tn.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(n)}},ji=Tn;ji.emptyAnimation=new Tt("<empty>",[],0);ji.SUBSEQUENT=0;ji.FIRST=1;ji.HOLD=2;ji.HOLD_MIX=3;ji.deprecatedWarning1=!1;ji.deprecatedWarning2=!1;ji.deprecatedWarning3=!1;var No=class{constructor(){this.mixBlend=I.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let n=this.animationEnd-this.animationStart;return n==0?this.animationStart:this.trackTime%n+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(n){this.animationLast=n,this.nextAnimationLast=n}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}get time(){return No.deprecatedWarning1||(No.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(n){No.deprecatedWarning1||(No.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=n}get endTime(){return No.deprecatedWarning2||(No.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(n){No.deprecatedWarning2||(No.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=n}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}},Pm=No;Pm.deprecatedWarning1=!1;Pm.deprecatedWarning2=!1;var zC=class{constructor(n){this.objects=[],this.drainDisabled=!1,this.animState=n}start(n){this.objects.push(br.start),this.objects.push(n),this.animState.animationsChanged=!0}interrupt(n){this.objects.push(br.interrupt),this.objects.push(n)}end(n){this.objects.push(br.end),this.objects.push(n),this.animState.animationsChanged=!0}dispose(n){this.objects.push(br.dispose),this.objects.push(n)}complete(n){this.objects.push(br.complete),this.objects.push(n)}event(n,e){this.objects.push(br.event),this.objects.push(n),this.objects.push(e)}deprecateStuff(){return zC.deprecatedWarning1||(zC.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: onComplete, onStart, onEnd, onEvent art deprecated, please use listeners from now on. 'state.addListener({ complete: function(track, event) { } })'")),!0}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let n=this.objects,e=this.animState.listeners;for(let t=0;t<n.length;t+=2){let r=n[t],i=n[t+1];switch(r){case br.start:i.listener!=null&&i.listener.start&&i.listener.start(i);for(let l=0;l<e.length;l++)e[l].start&&e[l].start(i);i.onStart&&this.deprecateStuff()&&i.onStart(i.trackIndex),this.animState.onStart&&this.deprecateStuff()&&this.deprecateStuff&&this.animState.onStart(i.trackIndex);break;case br.interrupt:i.listener!=null&&i.listener.interrupt&&i.listener.interrupt(i);for(let l=0;l<e.length;l++)e[l].interrupt&&e[l].interrupt(i);break;case br.end:i.listener!=null&&i.listener.end&&i.listener.end(i);for(let l=0;l<e.length;l++)e[l].end&&e[l].end(i);i.onEnd&&this.deprecateStuff()&&i.onEnd(i.trackIndex),this.animState.onEnd&&this.deprecateStuff()&&this.animState.onEnd(i.trackIndex);case br.dispose:i.listener!=null&&i.listener.dispose&&i.listener.dispose(i);for(let l=0;l<e.length;l++)e[l].dispose&&e[l].dispose(i);this.animState.trackEntryPool.free(i);break;case br.complete:i.listener!=null&&i.listener.complete&&i.listener.complete(i);for(let l=0;l<e.length;l++)e[l].complete&&e[l].complete(i);let s=D.toInt(i.loopsCount());i.onComplete&&this.deprecateStuff()&&i.onComplete(i.trackIndex,s),this.animState.onComplete&&this.deprecateStuff()&&this.animState.onComplete(i.trackIndex,s);break;case br.event:let a=n[t+++2];i.listener!=null&&i.listener.event&&i.listener.event(i,a);for(let l=0;l<e.length;l++)e[l].event&&e[l].event(i,a);i.onEvent&&this.deprecateStuff()&&i.onEvent(i.trackIndex,a),this.animState.onEvent&&this.deprecateStuff()&&this.animState.onEvent(i.trackIndex,a);break}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}},Zx=zC;Zx.deprecatedWarning1=!1;var br=(n=>(n[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event",n))(br||{}),qx=class{start(e){}interrupt(e){}end(e){}dispose(e){}complete(e){}event(e,t){}};var qC=class{constructor(n){if(this.animationToMixTime={},this.defaultMix=0,n==null)throw new Error("skeletonData cannot be null.");this.skeletonData=n}setMix(n,e,t){let r=this.skeletonData.findAnimation(n);if(r==null)throw new Error(`Animation not found: ${n}`);let i=this.skeletonData.findAnimation(e);if(i==null)throw new Error(`Animation not found: ${e}`);this.setMixWith(r,i,t)}setMixByName(n,e,t){qC.deprecatedWarning1||(qC.deprecatedWarning1=!0,console.warn("Deprecation Warning: AnimationStateData.setMixByName is deprecated, please use setMix from now on.")),this.setMix(n,e,t)}setMixWith(n,e,t){if(n==null)throw new Error("from cannot be null.");if(e==null)throw new Error("to cannot be null.");let r=`${n.name}.${e.name}`;this.animationToMixTime[r]=t}getMix(n,e){let t=`${n.name}.${e.name}`,r=this.animationToMixTime[t];return r===void 0?this.defaultMix:r}},Om=qC;Om.deprecatedWarning1=!1;var jd=class{constructor(e){this.atlas=e}newRegionAttachment(e,t,r){let i=this.atlas.findRegion(r);if(i==null)throw new Error(`Region not found in atlas: ${r} (region attachment: ${t})`);let s=new Ae(t);return s.region=i,s}newMeshAttachment(e,t,r){let i=this.atlas.findRegion(r);if(i==null)throw new Error(`Region not found in atlas: ${r} (mesh attachment: ${t})`);let s=new sl(t);return s.region=i,s}newBoundingBoxAttachment(e,t){return new Od(t)}newPathAttachment(e,t){return new ds(t)}newPointAttachment(e,t){return new Fd(t)}newClippingAttachment(e,t){return new Nd(t)}};var cu=class{constructor(e,t,r){if(this.matrix=new ke,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.appliedValid=!1,this.sorted=!1,this.active=!0,e==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=t,this.parent=r,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}update(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(e,t,r,i,s,a,l){this.ax=e,this.ay=t,this.arotation=r,this.ascaleX=i,this.ascaleY=s,this.ashearX=a,this.ashearY=l,this.appliedValid=!0;let o=this.parent,c=this.matrix,u=this.skeleton.scaleX,h=Ct.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(o==null){let g=this.skeleton,v=r+90+l;c.a=D.cosDeg(r+a)*i*u,c.c=D.cosDeg(v)*s*u,c.b=D.sinDeg(r+a)*i*h,c.d=D.sinDeg(v)*s*h,c.tx=e*u+g.x,c.ty=t*h+g.y;return}let d=o.matrix.a,f=o.matrix.c,p=o.matrix.b,m=o.matrix.d;switch(c.tx=d*e+f*t+o.matrix.tx,c.ty=p*e+m*t+o.matrix.ty,this.data.transformMode){case ce.Normal:{let g=r+90+l,v=D.cosDeg(r+a)*i,x=D.cosDeg(g)*s,y=D.sinDeg(r+a)*i,_=D.sinDeg(g)*s;c.a=d*v+f*y,c.c=d*x+f*_,c.b=p*v+m*y,c.d=p*x+m*_;return}case ce.OnlyTranslation:{let g=r+90+l;c.a=D.cosDeg(r+a)*i,c.c=D.cosDeg(g)*s,c.b=D.sinDeg(r+a)*i,c.d=D.sinDeg(g)*s;break}case ce.NoRotationOrReflection:{let g=d*d+p*p,v=0;g>1e-4?(g=Math.abs(d*m-f*p)/g,f=p*g,m=d*g,v=Math.atan2(p,d)*D.radDeg):(d=0,p=0,v=90-Math.atan2(m,f)*D.radDeg);let x=r+a-v,y=r+l-v+90,_=D.cosDeg(x)*i,b=D.cosDeg(y)*s,w=D.sinDeg(x)*i,E=D.sinDeg(y)*s;c.a=d*_-f*w,c.c=d*b-f*E,c.b=p*_+m*w,c.d=p*b+m*E;break}case ce.NoScale:case ce.NoScaleOrReflection:{let g=D.cosDeg(r),v=D.sinDeg(r),x=(d*g+f*v)/u,y=(p*g+m*v)/h,_=Math.sqrt(x*x+y*y);_>1e-5&&(_=1/_),x*=_,y*=_,_=Math.sqrt(x*x+y*y),this.data.transformMode==ce.NoScale&&d*m-f*p<0!=(Ct.yDown?this.skeleton.scaleX<0!=this.skeleton.scaleY>0:this.skeleton.scaleX<0!=this.skeleton.scaleY<0)&&(_=-_);let b=Math.PI/2+Math.atan2(y,x),w=Math.cos(b)*_,E=Math.sin(b)*_,S=D.cosDeg(a)*i,C=D.cosDeg(90+l)*s,R=D.sinDeg(a)*i,P=D.sinDeg(90+l)*s;c.a=x*S+w*R,c.c=x*C+w*P,c.b=y*S+E*R,c.d=y*C+E*P;break}}c.a*=u,c.c*=u,c.b*=h,c.d*=h}setToSetupPose(){let e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*D.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*D.radDeg}getWorldScaleX(){let e=this.matrix;return Math.sqrt(e.a*e.a+e.c*e.c)}getWorldScaleY(){let e=this.matrix;return Math.sqrt(e.b*e.b+e.d*e.d)}updateAppliedTransform(){this.appliedValid=!0;let e=this.parent,t=this.matrix;if(e==null){this.ax=t.tx,this.ay=t.ty,this.arotation=Math.atan2(t.b,t.a)*D.radDeg,this.ascaleX=Math.sqrt(t.a*t.a+t.b*t.b),this.ascaleY=Math.sqrt(t.c*t.c+t.d*t.d),this.ashearX=0,this.ashearY=Math.atan2(t.a*t.c+t.b*t.d,t.a*t.d-t.b*t.c)*D.radDeg;return}let r=e.matrix,i=1/(r.a*r.d-r.b*r.c),s=t.tx-r.tx,a=t.ty-r.ty;this.ax=s*r.d*i-a*r.c*i,this.ay=a*r.a*i-s*r.b*i;let l=i*r.d,o=i*r.a,c=i*r.c,u=i*r.b,h=l*t.a-c*t.b,d=l*t.c-c*t.d,f=o*t.b-u*t.a,p=o*t.d-u*t.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+f*f),this.ascaleX>1e-4){let m=h*p-d*f;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(h*d+f*p,m)*D.radDeg,this.arotation=Math.atan2(f,h)*D.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(d*d+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,d)*D.radDeg}worldToLocal(e){let t=this.matrix,r=t.a,i=t.c,s=t.b,a=t.d,l=1/(r*a-i*s),o=e.x-t.tx,c=e.y-t.ty;return e.x=o*a*l-c*i*l,e.y=c*r*l-o*s*l,e}localToWorld(e){let t=this.matrix,r=e.x,i=e.y;return e.x=r*t.a+i*t.c+t.tx,e.y=r*t.b+i*t.d+t.ty,e}worldToLocalRotation(e){let t=D.sinDeg(e),r=D.cosDeg(e),i=this.matrix;return Math.atan2(i.a*t-i.b*r,i.d*r-i.c*t)*D.radDeg}localToWorldRotation(e){let t=D.sinDeg(e),r=D.cosDeg(e),i=this.matrix;return Math.atan2(r*i.b+t*i.d,r*i.a+t*i.c)*D.radDeg}rotateWorld(e){let t=this.matrix,r=t.a,i=t.c,s=t.b,a=t.d,l=D.cosDeg(e),o=D.sinDeg(e);t.a=l*r-o*s,t.c=l*i-o*a,t.b=o*r+l*s,t.d=o*i+l*a,this.appliedValid=!1}};var Gd=class{constructor(e,t,r){if(this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ce.Normal,e<0)throw new Error("index must be >= 0.");if(t==null)throw new Error("name cannot be null.");this.index=e,this.name=t,this.parent=r}};var $d=class{constructor(e,t){if(t==null)throw new Error("data cannot be null.");this.time=e,this.data=t}};var Hd=class{constructor(e){this.name=e}};var Wd=class{constructor(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,e==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(let r=0;r<e.bones.length;r++)this.bones.push(t.findBone(e.bones[r].name));this.target=t.findBone(e.target.name)}getOrder(){return this.data.order}apply(){this.update()}update(){let e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.mix);break}}apply1(e,t,r,i,s,a,l){e.appliedValid||e.updateAppliedTransform();let o=e.parent.matrix,c=1/(o.a*o.d-o.b*o.c),u=t-o.tx,h=r-o.ty,d=(u*o.d-h*o.c)*c-e.ax,f=(h*o.a-u*o.b)*c-e.ay,p=Math.atan2(f,d)*D.radDeg-e.ashearX-e.arotation;e.ascaleX<0&&(p+=180),p>180?p-=360:p<-180&&(p+=360);let m=e.ascaleX,g=e.ascaleY;if(i||s){let v=e.data.length*m,x=Math.sqrt(d*d+f*f);if(i&&x<v||s&&x>v&&v>1e-4){let y=(x/v-1)*l+1;m*=y,a&&(g*=y)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+p*l,m,g,e.ashearX,e.ashearY)}apply2(e,t,r,i,s,a,l){if(l==0){t.updateWorldTransform();return}e.appliedValid||e.updateAppliedTransform(),t.appliedValid||t.updateAppliedTransform();let o=e.ax,c=e.ay,u=e.ascaleX,h=u,d=e.ascaleY,f=t.ascaleX,p=e.matrix,m=0,g=0,v=0;u<0?(u=-u,m=180,v=-1):(m=0,v=1),d<0&&(d=-d,v=-v),f<0?(f=-f,g=180):g=0;let x=t.ax,y=0,_=0,b=0,w=p.a,E=p.c,S=p.b,C=p.d,R=Math.abs(u-d)<=1e-4;R?(y=t.ay,_=w*x+E*y+p.tx,b=S*x+C*y+p.ty):(y=0,_=w*x+p.tx,b=S*x+p.ty);let P=e.parent.matrix;w=P.a,E=P.c,S=P.b,C=P.d;let k=1/(w*C-E*S),N=r-P.tx,O=i-P.ty,G=(N*C-O*E)*k-o,q=(O*w-N*S)*k-c,H=G*G+q*q;N=_-P.tx,O=b-P.ty;let L=(N*C-O*E)*k-o,U=(O*w-N*S)*k-c,V=Math.sqrt(L*L+U*U),Z=t.data.length*f,z=0,Y=0;e:if(R){Z*=u;let me=(H-V*V-Z*Z)/(2*V*Z);me<-1?me=-1:me>1&&(me=1,a&&V+Z>1e-4&&(h*=(Math.sqrt(H)/(V+Z)-1)*l+1)),Y=Math.acos(me)*s,w=V+Z*me,E=Z*Math.sin(Y),z=Math.atan2(q*w-G*E,G*w+q*E)}else{w=u*Z,E=d*Z;let me=w*w,Oe=E*E,qe=Math.atan2(q,G);S=Oe*V*V+me*H-me*Oe;let ge=-2*Oe*V,Le=Oe-me;if(C=ge*ge-4*Le*S,C>=0){let Cr=Math.sqrt(C);ge<0&&(Cr=-Cr),Cr=-(ge+Cr)/2;let zr=Cr/Le,jo=S/Cr,Ln=Math.abs(zr)<Math.abs(jo)?zr:jo;if(Ln*Ln<=H){O=Math.sqrt(H-Ln*Ln)*s,z=qe-Math.atan2(O,Ln),Y=Math.atan2(O/d,(Ln-V)/u);break e}}let He=D.PI,at=V-w,dt=at*at,Kn=0,Wr=0,Yr=V+w,Xr=Yr*Yr,Sr=0;S=-w*V/(me-Oe),S>=-1&&S<=1&&(S=Math.acos(S),N=w*Math.cos(S)+V,O=E*Math.sin(S),C=N*N+O*O,C<dt&&(He=S,dt=C,at=N,Kn=O),C>Xr&&(Wr=S,Xr=C,Yr=N,Sr=O)),H<=(dt+Xr)/2?(z=qe-Math.atan2(Kn*s,at),Y=He*s):(z=qe-Math.atan2(Sr*s,Yr),Y=Wr*s)}let $=Math.atan2(y,x)*v,ae=e.arotation;z=(z-$)*D.radDeg+m-ae,z>180?z-=360:z<-180&&(z+=360),e.updateWorldTransformWith(o,c,ae+z*l,h,e.ascaleY,0,0),ae=t.arotation,Y=((Y+$)*D.radDeg-t.ashearX)*v+g-ae,Y>180?Y-=360:Y<-180&&(Y+=360),t.updateWorldTransformWith(x,y,ae+Y*l,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}};var Yd=class{constructor(e){this.order=0,this.bones=new Array,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.name=e}};var Xd=class{constructor(e){this.order=0,this.bones=new Array,this.name=e}},Gr=(n=>(n[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",n))(Gr||{});var uu=class{constructor(n,e){if(this.position=0,this.spacing=0,this.rotateMix=0,this.translateMix=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,n==null)throw new Error("data cannot be null.");if(e==null)throw new Error("skeleton cannot be null.");this.data=n,this.bones=new Array;for(let t=0,r=n.bones.length;t<r;t++)this.bones.push(e.findBone(n.bones[t].name));this.target=e.findSlot(n.target.name),this.position=n.position,this.spacing=n.spacing,this.rotateMix=n.rotateMix,this.translateMix=n.translateMix}apply(){this.update()}update(){let n=this.target.getAttachment();if(!(n instanceof ds))return;let e=this.rotateMix,t=this.translateMix,r=t>0,i=e>0;if(!r&&!i)return;let s=this.data,a=s.spacingMode,l=a==Gr.Length,o=s.rotateMode,c=o==ot.Tangent,u=o==ot.ChainScale,h=this.bones.length,d=c?h:h+1,f=this.bones,p=F.setArraySize(this.spaces,d),m=null,g=this.spacing;if(u||l){u&&(m=F.setArraySize(this.lengths,h));for(let w=0,E=d-1;w<E;){let S=f[w],C=S.data.length;if(C<uu.epsilon)u&&(m[w]=0),p[++w]=0;else{let R=C*S.matrix.a,P=C*S.matrix.b,k=Math.sqrt(R*R+P*P);u&&(m[w]=k),p[++w]=(l?C+g:g)*k/C}}}else for(let w=1;w<d;w++)p[w]=g;let v=this.computeWorldPositions(n,d,c,s.positionMode==Je.Percent,a==Gr.Percent),x=v[0],y=v[1],_=s.offsetRotation,b=!1;if(_==0)b=o==ot.Chain;else{b=!1;let w=this.target.bone.matrix;_*=w.a*w.d-w.b*w.c>0?D.degRad:-D.degRad}for(let w=0,E=3;w<h;w++,E+=3){let S=f[w],C=S.matrix;C.tx+=(x-C.tx)*t,C.ty+=(y-C.ty)*t;let R=v[E],P=v[E+1],k=R-x,N=P-y;if(u){let O=m[w];if(O!=0){let G=(Math.sqrt(k*k+N*N)/O-1)*e+1;C.a*=G,C.b*=G}}if(x=R,y=P,i){let O=C.a,G=C.c,q=C.b,H=C.d,L=0,U=0,V=0;if(c&&(c?L=v[E-1]:p[w+1]==0?L=v[E+2]:L=Math.atan2(N,k)),L-=Math.atan2(q,O),b){U=Math.cos(L),V=Math.sin(L);let Z=S.data.length;x+=(Z*(U*O-V*q)-k)*e,y+=(Z*(V*O+U*q)-N)*e}else L+=_;L>D.PI?L-=D.PI2:L<-D.PI&&(L+=D.PI2),L*=e,U=Math.cos(L),V=Math.sin(L),C.a=U*O-V*q,C.c=U*G-V*H,C.b=V*O+U*q,C.d=V*G+U*H}S.appliedValid=!1}}computeWorldPositions(n,e,t,r,i){let s=this.target,a=this.position,l=this.spaces,o=F.setArraySize(this.positions,e*3+2),c=null,u=n.closed,h=n.worldVerticesLength,d=h/6,f=uu.NONE;if(!n.constantSpeed){let L=n.lengths;d-=u?1:2;let U=L[d];if(r&&(a*=U),i)for(let V=0;V<e;V++)l[V]*=U;c=F.setArraySize(this.world,8);for(let V=0,Z=0,z=0;V<e;V++,Z+=3){let Y=l[V];a+=Y;let $=a;if(u)$%=U,$<0&&($+=U),z=0;else if($<0){f!=uu.BEFORE&&(f=uu.BEFORE,n.computeWorldVertices(s,2,4,c,0,2)),this.addBeforePosition($,c,0,o,Z);continue}else if($>U){f!=uu.AFTER&&(f=uu.AFTER,n.computeWorldVertices(s,h-6,4,c,0,2)),this.addAfterPosition($-U,c,0,o,Z);continue}for(;;z++){let ae=L[z];if(!($>ae)){if(z==0)$/=ae;else{let me=L[z-1];$=($-me)/(ae-me)}break}}z!=f&&(f=z,u&&z==d?(n.computeWorldVertices(s,h-4,4,c,0,2),n.computeWorldVertices(s,0,4,c,4,2)):n.computeWorldVertices(s,z*6+2,8,c,0,2)),this.addCurvePosition($,c[0],c[1],c[2],c[3],c[4],c[5],c[6],c[7],o,Z,t||V>0&&Y==0)}return o}u?(h+=2,c=F.setArraySize(this.world,h),n.computeWorldVertices(s,2,h-4,c,0,2),n.computeWorldVertices(s,0,2,c,h-4,2),c[h-2]=c[0],c[h-1]=c[1]):(d--,h-=4,c=F.setArraySize(this.world,h),n.computeWorldVertices(s,2,h,c,0,2));let p=F.setArraySize(this.curves,d),m=0,g=c[0],v=c[1],x=0,y=0,_=0,b=0,w=0,E=0,S=0,C=0,R=0,P=0,k=0,N=0,O=0,G=0;for(let L=0,U=2;L<d;L++,U+=6)x=c[U],y=c[U+1],_=c[U+2],b=c[U+3],w=c[U+4],E=c[U+5],S=(g-x*2+_)*.1875,C=(v-y*2+b)*.1875,R=((x-_)*3-g+w)*.09375,P=((y-b)*3-v+E)*.09375,k=S*2+R,N=C*2+P,O=(x-g)*.75+S+R*.16666667,G=(y-v)*.75+C+P*.16666667,m+=Math.sqrt(O*O+G*G),O+=k,G+=N,k+=R,N+=P,m+=Math.sqrt(O*O+G*G),O+=k,G+=N,m+=Math.sqrt(O*O+G*G),O+=k+R,G+=N+P,m+=Math.sqrt(O*O+G*G),p[L]=m,g=w,v=E;if(r&&(a*=m),i)for(let L=0;L<e;L++)l[L]*=m;let q=this.segments,H=0;for(let L=0,U=0,V=0,Z=0;L<e;L++,U+=3){let z=l[L];a+=z;let Y=a;if(u)Y%=m,Y<0&&(Y+=m),V=0;else if(Y<0){this.addBeforePosition(Y,c,0,o,U);continue}else if(Y>m){this.addAfterPosition(Y-m,c,h-4,o,U);continue}for(;;V++){let $=p[V];if(!(Y>$)){if(V==0)Y/=$;else{let ae=p[V-1];Y=(Y-ae)/($-ae)}break}}if(V!=f){f=V;let $=V*6;for(g=c[$],v=c[$+1],x=c[$+2],y=c[$+3],_=c[$+4],b=c[$+5],w=c[$+6],E=c[$+7],S=(g-x*2+_)*.03,C=(v-y*2+b)*.03,R=((x-_)*3-g+w)*.006,P=((y-b)*3-v+E)*.006,k=S*2+R,N=C*2+P,O=(x-g)*.3+S+R*.16666667,G=(y-v)*.3+C+P*.16666667,H=Math.sqrt(O*O+G*G),q[0]=H,$=1;$<8;$++)O+=k,G+=N,k+=R,N+=P,H+=Math.sqrt(O*O+G*G),q[$]=H;O+=k,G+=N,H+=Math.sqrt(O*O+G*G),q[8]=H,O+=k+R,G+=N+P,H+=Math.sqrt(O*O+G*G),q[9]=H,Z=0}for(Y*=H;;Z++){let $=q[Z];if(!(Y>$)){if(Z==0)Y/=$;else{let ae=q[Z-1];Y=Z+(Y-ae)/($-ae)}break}}this.addCurvePosition(Y*.1,g,v,x,y,_,b,w,E,o,U,t||L>0&&z==0)}return o}addBeforePosition(n,e,t,r,i){let s=e[t],a=e[t+1],l=e[t+2]-s,o=e[t+3]-a,c=Math.atan2(o,l);r[i]=s+n*Math.cos(c),r[i+1]=a+n*Math.sin(c),r[i+2]=c}addAfterPosition(n,e,t,r,i){let s=e[t+2],a=e[t+3],l=s-e[t],o=a-e[t+1],c=Math.atan2(o,l);r[i]=s+n*Math.cos(c),r[i+1]=a+n*Math.sin(c),r[i+2]=c}addCurvePosition(n,e,t,r,i,s,a,l,o,c,u,h){(n==0||isNaN(n))&&(n=1e-4);let d=n*n,f=d*n,p=1-n,m=p*p,g=m*p,v=p*n,x=v*3,y=p*x,_=x*n,b=e*g+r*y+s*_+l*f,w=t*g+i*y+a*_+o*f;c[u]=b,c[u+1]=w,h&&(c[u+2]=Math.atan2(w-(t*m+i*v*2+a*d),b-(e*m+r*v*2+s*d)))}getOrder(){return this.data.order}},ll=uu;ll.NONE=-1;ll.BEFORE=-2;ll.AFTER=-3;ll.epsilon=1e-5;var zd=class{constructor(e,t){if(this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.temp=new Li,e==null)throw new Error("data cannot be null.");if(t==null)throw new Error("skeleton cannot be null.");this.data=e,this.rotateMix=e.rotateMix,this.translateMix=e.translateMix,this.scaleMix=e.scaleMix,this.shearMix=e.shearMix,this.bones=new Array;for(let r=0;r<e.bones.length;r++)this.bones.push(t.findBone(e.bones[r].name));this.target=t.findBone(e.target.name)}apply(){this.update()}update(){this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld()}applyAbsoluteWorld(){let e=this.rotateMix,t=this.translateMix,r=this.scaleMix,i=this.shearMix,s=this.target,a=s.matrix,l=a.a,o=a.c,c=a.b,u=a.d,h=l*u-o*c>0?D.degRad:-D.degRad,d=this.data.offsetRotation*h,f=this.data.offsetShearY*h,p=this.bones;for(let m=0,g=p.length;m<g;m++){let v=p[m],x=!1,y=v.matrix;if(e!=0){let _=y.a,b=y.c,w=y.b,E=y.d,S=Math.atan2(c,l)-Math.atan2(w,_)+d;S>D.PI?S-=D.PI2:S<-D.PI&&(S+=D.PI2),S*=e;let C=Math.cos(S),R=Math.sin(S);y.a=C*_-R*w,y.c=C*b-R*E,y.b=R*_+C*w,y.d=R*b+C*E,x=!0}if(t!=0){let _=this.temp;s.localToWorld(_.set(this.data.offsetX,this.data.offsetY)),y.tx+=(_.x-y.tx)*t,y.ty+=(_.y-y.ty)*t,x=!0}if(r>0){let _=Math.sqrt(y.a*y.a+y.b*y.b),b=Math.sqrt(l*l+c*c);_>1e-5&&(_=(_+(b-_+this.data.offsetScaleX)*r)/_),y.a*=_,y.b*=_,_=Math.sqrt(y.c*y.c+y.d*y.d),b=Math.sqrt(o*o+u*u),_>1e-5&&(_=(_+(b-_+this.data.offsetScaleY)*r)/_),y.c*=_,y.d*=_,x=!0}if(i>0){let _=y.c,b=y.d,w=Math.atan2(b,_),E=Math.atan2(u,o)-Math.atan2(c,l)-(w-Math.atan2(y.b,y.a));E>D.PI?E-=D.PI2:E<-D.PI&&(E+=D.PI2),E=w+(E+f)*i;let S=Math.sqrt(_*_+b*b);y.c=Math.cos(E)*S,y.d=Math.sin(E)*S,x=!0}x&&(v.appliedValid=!1)}}applyRelativeWorld(){let e=this.rotateMix,t=this.translateMix,r=this.scaleMix,i=this.shearMix,s=this.target,a=s.matrix,l=a.a,o=a.c,c=a.b,u=a.d,h=l*u-o*c>0?D.degRad:-D.degRad,d=this.data.offsetRotation*h,f=this.data.offsetShearY*h,p=this.bones;for(let m=0,g=p.length;m<g;m++){let v=p[m],x=!1,y=v.matrix;if(e!=0){let _=y.a,b=y.c,w=y.b,E=y.d,S=Math.atan2(c,l)+d;S>D.PI?S-=D.PI2:S<-D.PI&&(S+=D.PI2),S*=e;let C=Math.cos(S),R=Math.sin(S);y.a=C*_-R*w,y.c=C*b-R*E,y.b=R*_+C*w,y.d=R*b+C*E,x=!0}if(t!=0){let _=this.temp;s.localToWorld(_.set(this.data.offsetX,this.data.offsetY)),y.tx+=_.x*t,y.ty+=_.y*t,x=!0}if(r>0){let _=(Math.sqrt(l*l+c*c)-1+this.data.offsetScaleX)*r+1;y.a*=_,y.b*=_,_=(Math.sqrt(o*o+u*u)-1+this.data.offsetScaleY)*r+1,y.c*=_,y.d*=_,x=!0}if(i>0){let _=Math.atan2(u,o)-Math.atan2(c,l);_>D.PI?_-=D.PI2:_<-D.PI&&(_+=D.PI2);let b=y.c,w=y.d;_=Math.atan2(w,b)+(_-D.PI/2+f)*i;let E=Math.sqrt(b*b+w*w);y.c=Math.cos(_)*E,y.d=Math.sin(_)*E,x=!0}x&&(v.appliedValid=!1)}}applyAbsoluteLocal(){let e=this.rotateMix,t=this.translateMix,r=this.scaleMix,i=this.shearMix,s=this.target;s.appliedValid||s.updateAppliedTransform();let a=this.bones;for(let l=0,o=a.length;l<o;l++){let c=a[l];c.appliedValid||c.updateAppliedTransform();let u=c.arotation;if(e!=0){let g=s.arotation-u+this.data.offsetRotation;g-=(16384-(16384.499999999996-g/360|0))*360,u+=g*e}let h=c.ax,d=c.ay;t!=0&&(h+=(s.ax-h+this.data.offsetX)*t,d+=(s.ay-d+this.data.offsetY)*t);let f=c.ascaleX,p=c.ascaleY;r>0&&(f>1e-5&&(f=(f+(s.ascaleX-f+this.data.offsetScaleX)*r)/f),p>1e-5&&(p=(p+(s.ascaleY-p+this.data.offsetScaleY)*r)/p));let m=c.ashearY;if(i>0){let g=s.ashearY-m+this.data.offsetShearY;g-=(16384-(16384.499999999996-g/360|0))*360,c.shearY+=g*i}c.updateWorldTransformWith(h,d,u,f,p,c.ashearX,m)}}applyRelativeLocal(){let e=this.rotateMix,t=this.translateMix,r=this.scaleMix,i=this.shearMix,s=this.target;s.appliedValid||s.updateAppliedTransform();let a=this.bones;for(let l=0,o=a.length;l<o;l++){let c=a[l];c.appliedValid||c.updateAppliedTransform();let u=c.arotation;e!=0&&(u+=(s.arotation+this.data.offsetRotation)*e);let h=c.ax,d=c.ay;t!=0&&(h+=(s.ax+this.data.offsetX)*t,d+=(s.ay+this.data.offsetY)*t);let f=c.ascaleX,p=c.ascaleY;r>0&&(f>1e-5&&(f*=(s.ascaleX-1+this.data.offsetScaleX)*r+1),p>1e-5&&(p*=(s.ascaleY-1+this.data.offsetScaleY)*r+1));let m=c.ashearY;i>0&&(m+=(s.ashearY+this.data.offsetShearY)*i),c.updateWorldTransformWith(h,d,u,f,p,c.ashearX,m)}}getOrder(){return this.data.order}};var Nm=class{constructor(n){if(this._updateCache=new Array,this.updateCacheReset=new Array,this.time=0,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,n==null)throw new Error("data cannot be null.");this.data=n,this.bones=new Array;for(let e=0;e<n.bones.length;e++){let t=n.bones[e],r;if(t.parent==null)r=new cu(t,this,null);else{let i=this.bones[t.parent.index];r=new cu(t,this,i),i.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<n.slots.length;e++){let t=n.slots[e],r=this.bones[t.boneData.index],i=new ol(t,r);this.slots.push(i),this.drawOrder.push(i)}this.ikConstraints=new Array;for(let e=0;e<n.ikConstraints.length;e++){let t=n.ikConstraints[e];this.ikConstraints.push(new Wd(t,this))}this.transformConstraints=new Array;for(let e=0;e<n.transformConstraints.length;e++){let t=n.transformConstraints[e];this.transformConstraints.push(new zd(t,this))}this.pathConstraints=new Array;for(let e=0;e<n.pathConstraints.length;e++){let t=n.pathConstraints[e];this.pathConstraints.push(new ll(t,this))}this.color=new X(1,1,1,1),this.updateCache()}updateCache(){let n=this._updateCache;n.length=0,this.updateCacheReset.length=0;let e=this.bones;for(let c=0,u=e.length;c<u;c++)e[c].sorted=!1;let t=this.ikConstraints,r=this.transformConstraints,i=this.pathConstraints,s=t.length,a=r.length,l=i.length,o=s+a+l;e:for(let c=0;c<o;c++){for(let u=0;u<s;u++){let h=t[u];if(h.data.order==c){this.sortIkConstraint(h);continue e}}for(let u=0;u<a;u++){let h=r[u];if(h.data.order==c){this.sortTransformConstraint(h);continue e}}for(let u=0;u<l;u++){let h=i[u];if(h.data.order==c){this.sortPathConstraint(h);continue e}}}for(let c=0,u=e.length;c<u;c++)this.sortBone(e[c])}sortIkConstraint(n){let e=n.target;this.sortBone(e);let t=n.bones,r=t[0];if(this.sortBone(r),t.length>1){let i=t[t.length-1];this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}this._updateCache.push(n),this.sortReset(r.children),t[t.length-1].sorted=!0}sortPathConstraint(n){let e=n.target,t=e.data.index,r=e.bone;this.skin!=null&&this.sortPathConstraintAttachment(this.skin,t,r),this.data.defaultSkin!=null&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,t,r);for(let l=0,o=this.data.skins.length;l<o;l++)this.sortPathConstraintAttachment(this.data.skins[l],t,r);let i=e.getAttachment();i instanceof ds&&this.sortPathConstraintAttachmentWith(i,r);let s=n.bones,a=s.length;for(let l=0;l<a;l++)this.sortBone(s[l]);this._updateCache.push(n);for(let l=0;l<a;l++)this.sortReset(s[l].children);for(let l=0;l<a;l++)s[l].sorted=!0}sortTransformConstraint(n){this.sortBone(n.target);let e=n.bones,t=e.length;if(n.data.local)for(let r=0;r<t;r++){let i=e[r];this.sortBone(i.parent),this._updateCache.indexOf(i)>-1||this.updateCacheReset.push(i)}else for(let r=0;r<t;r++)this.sortBone(e[r]);this._updateCache.push(n);for(let r=0;r<t;r++)this.sortReset(e[r].children);for(let r=0;r<t;r++)e[r].sorted=!0}sortPathConstraintAttachment(n,e,t){let r=n.attachments[e];if(r)for(let i in r)this.sortPathConstraintAttachmentWith(r[i],t)}sortPathConstraintAttachmentWith(n,e){if(!(n instanceof ds))return;let t=n.bones;if(t==null)this.sortBone(e);else{let r=this.bones,i=0;for(;i<t.length;){let s=t[i++];for(let a=i+s;i<a;i++){let l=t[i];this.sortBone(r[l])}}}}sortBone(n){if(n.sorted)return;let e=n.parent;e!=null&&this.sortBone(e),n.sorted=!0,this._updateCache.push(n)}sortReset(n){for(let e=0,t=n.length;e<t;e++){let r=n[e];r.sorted&&this.sortReset(r.children),r.sorted=!1}}updateWorldTransform(){let n=this.updateCacheReset;for(let t=0,r=n.length;t<r;t++){let i=n[t];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY,i.appliedValid=!0}let e=this._updateCache;for(let t=0,r=e.length;t<r;t++)e[t].update()}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){let n=this.bones;for(let i=0,s=n.length;i<s;i++)n[i].setToSetupPose();let e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){let a=e[i];a.bendDirection=a.data.bendDirection,a.mix=a.data.mix}let t=this.transformConstraints;for(let i=0,s=t.length;i<s;i++){let a=t[i],l=a.data;a.rotateMix=l.rotateMix,a.translateMix=l.translateMix,a.scaleMix=l.scaleMix,a.shearMix=l.shearMix}let r=this.pathConstraints;for(let i=0,s=r.length;i<s;i++){let a=r[i],l=a.data;a.position=l.position,a.spacing=l.spacing,a.rotateMix=l.rotateMix,a.translateMix=l.translateMix}}setSlotsToSetupPose(){let n=this.slots;F.arrayCopy(n,0,this.drawOrder,0,n.length);for(let e=0,t=n.length;e<t;e++)n[e].setToSetupPose()}getRootBone(){return this.bones.length==0?null:this.bones[0]}findBone(n){if(n==null)throw new Error("boneName cannot be null.");let e=this.bones;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findBoneIndex(n){if(n==null)throw new Error("boneName cannot be null.");let e=this.bones;for(let t=0,r=e.length;t<r;t++)if(e[t].data.name==n)return t;return-1}findSlot(n){if(n==null)throw new Error("slotName cannot be null.");let e=this.slots;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findSlotIndex(n){if(n==null)throw new Error("slotName cannot be null.");let e=this.slots;for(let t=0,r=e.length;t<r;t++)if(e[t].data.name==n)return t;return-1}setSkinByName(n){let e=this.data.findSkin(n);if(e==null)throw new Error(`Skin not found: ${n}`);this.setSkin(e)}setSkin(n){if(n!=null)if(this.skin!=null)n.attachAll(this,this.skin);else{let e=this.slots;for(let t=0,r=e.length;t<r;t++){let i=e[t],s=i.data.attachmentName;if(s!=null){let a=n.getAttachment(t,s);a!=null&&i.setAttachment(a)}}}this.skin=n}getAttachmentByName(n,e){return this.getAttachment(this.data.findSlotIndex(n),e)}getAttachment(n,e){if(e==null)throw new Error("attachmentName cannot be null.");if(this.skin!=null){let t=this.skin.getAttachment(n,e);if(t!=null)return t}return this.data.defaultSkin!=null?this.data.defaultSkin.getAttachment(n,e):null}setAttachment(n,e){if(n==null)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.data.name==n){let a=null;if(e!=null&&(a=this.getAttachment(r,e),a==null))throw new Error(`Attachment not found: ${e}, for slot: ${n}`);s.setAttachment(a);return}}throw new Error(`Slot not found: ${n}`)}findIkConstraint(n){if(n==null)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findTransformConstraint(n){if(n==null)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findPathConstraint(n){if(n==null)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}getBounds(n,e,t){if(n==null)throw new Error("offset cannot be null.");if(e==null)throw new Error("size cannot be null.");let r=this.drawOrder,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let o=0,c=r.length;o<c;o++){let u=r[o],h=0,d=null,f=u.getAttachment();if(f instanceof Ae)h=8,d=F.setArraySize(t,h,0),f.computeWorldVertices(u.bone,d,0,2);else if(f instanceof sl){let p=f;h=p.worldVerticesLength,d=F.setArraySize(t,h,0),p.computeWorldVertices(u,0,h,d,0,2)}if(d!=null)for(let p=0,m=d.length;p<m;p+=2){let g=d[p],v=d[p+1];i=Math.min(i,g),s=Math.min(s,v),a=Math.max(a,g),l=Math.max(l,v)}}n.set(i,s),e.set(a-i,l-s)}update(n){this.time+=n}get flipX(){return this.scaleX==-1}set flipX(n){Nm.deprecatedWarning1||(Nm.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=n?1:-1}get flipY(){return this.scaleY==-1}set flipY(n){Nm.deprecatedWarning1||(Nm.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=n?1:-1}},Fm=Nm;Fm.deprecatedWarning1=!1;var Qx=class extends Ws{};var qd=class{constructor(){this.bones=new Array,this.slots=new Array,this.skins=new Array,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.fps=0}findBone(e){if(e==null)throw new Error("boneName cannot be null.");let t=this.bones;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findBoneIndex(e){if(e==null)throw new Error("boneName cannot be null.");let t=this.bones;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}findSlot(e){if(e==null)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findSlotIndex(e){if(e==null)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}findSkin(e){if(e==null)throw new Error("skinName cannot be null.");let t=this.skins;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findEvent(e){if(e==null)throw new Error("eventDataName cannot be null.");let t=this.events;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findAnimation(e){if(e==null)throw new Error("animationName cannot be null.");let t=this.animations;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findIkConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");let t=this.ikConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findTransformConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");let t=this.transformConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findPathConstraint(e){if(e==null)throw new Error("constraintName cannot be null.");let t=this.pathConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findPathConstraintIndex(e){if(e==null)throw new Error("pathConstraintName cannot be null.");let t=this.pathConstraints;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}};var Zd=class{constructor(e,t,r){if(this.color=new X(1,1,1,1),e<0)throw new Error("index must be >= 0.");if(t==null)throw new Error("name cannot be null.");if(r==null)throw new Error("boneData cannot be null.");this.index=e,this.name=t,this.boneData=r}};var Qd=class{constructor(e){if(this.order=0,this.bones=new Array,this.rotateMix=0,this.translateMix=0,this.scaleMix=0,this.shearMix=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1,e==null)throw new Error("name cannot be null.");this.name=e}};var Kd=class{constructor(e){if(this.attachments=new Array,e==null)throw new Error("name cannot be null.");this.name=e}addAttachment(e,t,r){if(r==null)throw new Error("attachment cannot be null.");let i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][t]=r}getAttachment(e,t){let r=this.attachments[e];return r?r[t]:null}attachAll(e,t){let r=0;for(let i=0;i<e.slots.length;i++){let s=e.slots[i],a=s.getAttachment();if(a&&r<t.attachments.length){let l=t.attachments[r];for(let o in l){let c=l[o];if(a==c){let u=this.getAttachment(r,o);u!=null&&s.setAttachment(u);break}}}r++}}};var Jd=class n{constructor(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,r=new qd,i=typeof e=="string"?JSON.parse(e):e,s=i.skeleton;if(s!=null&&(r.hash=s.hash,r.version=s.spine,r.width=s.width,r.height=s.height,r.fps=s.fps,r.imagesPath=s.images),i.bones)for(let a=0;a<i.bones.length;a++){let l=i.bones[a],o=null,c=this.getValue(l,"parent",null);if(c!=null&&(o=r.findBone(c),o==null))throw new Error(`Parent bone not found: ${c}`);let u=new Gd(r.bones.length,l.name,o);u.length=this.getValue(l,"length",0)*t,u.x=this.getValue(l,"x",0)*t,u.y=this.getValue(l,"y",0)*t,u.rotation=this.getValue(l,"rotation",0),u.scaleX=this.getValue(l,"scaleX",1),u.scaleY=this.getValue(l,"scaleY",1),u.shearX=this.getValue(l,"shearX",0),u.shearY=this.getValue(l,"shearY",0),u.transformMode=n.transformModeFromString(this.getValue(l,"transform","normal")),r.bones.push(u)}if(i.slots)for(let a=0;a<i.slots.length;a++){let l=i.slots[a],o=l.name,c=l.bone,u=r.findBone(c);if(u==null)throw new Error(`Slot bone not found: ${c}`);let h=new Zd(r.slots.length,o,u),d=this.getValue(l,"color",null);d!=null&&h.color.setFromString(d);let f=this.getValue(l,"dark",null);f!=null&&(h.darkColor=new X(1,1,1,1),h.darkColor.setFromString(f)),h.attachmentName=this.getValue(l,"attachment",null),h.blendMode=n.blendModeFromString(this.getValue(l,"blend","normal")),r.slots.push(h)}if(i.ik)for(let a=0;a<i.ik.length;a++){let l=i.ik[a],o=new Yd(l.name);o.order=this.getValue(l,"order",0);for(let u=0;u<l.bones.length;u++){let h=l.bones[u],d=r.findBone(h);if(d==null)throw new Error(`IK bone not found: ${h}`);o.bones.push(d)}let c=l.target;if(o.target=r.findBone(c),o.target==null)throw new Error(`IK target bone not found: ${c}`);o.bendDirection=this.getValue(l,"bendPositive",!0)?1:-1,o.mix=this.getValue(l,"mix",1),r.ikConstraints.push(o)}if(i.transform)for(let a=0;a<i.transform.length;a++){let l=i.transform[a],o=new Qd(l.name);o.order=this.getValue(l,"order",0);for(let u=0;u<l.bones.length;u++){let h=l.bones[u],d=r.findBone(h);if(d==null)throw new Error(`Transform constraint bone not found: ${h}`);o.bones.push(d)}let c=l.target;if(o.target=r.findBone(c),o.target==null)throw new Error(`Transform constraint target bone not found: ${c}`);o.local=this.getValue(l,"local",!1),o.relative=this.getValue(l,"relative",!1),o.offsetRotation=this.getValue(l,"rotation",0),o.offsetX=this.getValue(l,"x",0)*t,o.offsetY=this.getValue(l,"y",0)*t,o.offsetScaleX=this.getValue(l,"scaleX",0),o.offsetScaleY=this.getValue(l,"scaleY",0),o.offsetShearY=this.getValue(l,"shearY",0),o.rotateMix=this.getValue(l,"rotateMix",1),o.translateMix=this.getValue(l,"translateMix",1),o.scaleMix=this.getValue(l,"scaleMix",1),o.shearMix=this.getValue(l,"shearMix",1),r.transformConstraints.push(o)}if(i.path)for(let a=0;a<i.path.length;a++){let l=i.path[a],o=new Xd(l.name);o.order=this.getValue(l,"order",0);for(let u=0;u<l.bones.length;u++){let h=l.bones[u],d=r.findBone(h);if(d==null)throw new Error(`Transform constraint bone not found: ${h}`);o.bones.push(d)}let c=l.target;if(o.target=r.findSlot(c),o.target==null)throw new Error(`Path target slot not found: ${c}`);o.positionMode=n.positionModeFromString(this.getValue(l,"positionMode","percent")),o.spacingMode=n.spacingModeFromString(this.getValue(l,"spacingMode","length")),o.rotateMode=n.rotateModeFromString(this.getValue(l,"rotateMode","tangent")),o.offsetRotation=this.getValue(l,"rotation",0),o.position=this.getValue(l,"position",0),o.positionMode==Je.Fixed&&(o.position*=t),o.spacing=this.getValue(l,"spacing",0),(o.spacingMode==Gr.Length||o.spacingMode==Gr.Fixed)&&(o.spacing*=t),o.rotateMix=this.getValue(l,"rotateMix",1),o.translateMix=this.getValue(l,"translateMix",1),r.pathConstraints.push(o)}if(i.skins)for(let a in i.skins){let l=i.skins[a],o=new Kd(a);for(let c in l){let u=r.findSlotIndex(c);if(u==-1)throw new Error(`Slot not found: ${c}`);let h=l[c];for(let d in h){let f=this.readAttachment(h[d],o,u,d,r);f!=null&&o.addAttachment(u,d,f)}}r.skins.push(o),o.name=="default"&&(r.defaultSkin=o)}for(let a=0,l=this.linkedMeshes.length;a<l;a++){let o=this.linkedMeshes[a],c=o.skin==null?r.defaultSkin:r.findSkin(o.skin);if(c==null)throw new Error(`Skin not found: ${o.skin}`);let u=c.getAttachment(o.slotIndex,o.parent);if(u==null)throw new Error(`Parent mesh not found: ${o.parent}`);o.mesh.setParentMesh(u)}if(this.linkedMeshes.length=0,i.events)for(let a in i.events){let l=i.events[a],o=new Hd(a);o.intValue=this.getValue(l,"int",0),o.floatValue=this.getValue(l,"float",0),o.stringValue=this.getValue(l,"string",""),o.audioPath=this.getValue(l,"audio",null),o.audioPath!=null&&(o.volume=this.getValue(l,"volume",1),o.balance=this.getValue(l,"balance",0)),r.events.push(o)}if(i.animations)for(let a in i.animations){let l=i.animations[a];this.readAnimation(l,a,r)}return r}readAttachment(e,t,r,i,s){let a=this.scale;switch(i=this.getValue(e,"name",i),this.getValue(e,"type","region")){case"region":{let o=this.getValue(e,"path",i),c=this.attachmentLoader.newRegionAttachment(t,i,o);if(c==null)return null;c.path=o,c.x=this.getValue(e,"x",0)*a,c.y=this.getValue(e,"y",0)*a,c.scaleX=this.getValue(e,"scaleX",1),c.scaleY=this.getValue(e,"scaleY",1),c.rotation=this.getValue(e,"rotation",0),c.width=e.width*a,c.height=e.height*a;let u=this.getValue(e,"color",null);return u!=null&&c.color.setFromString(u),c}case"boundingbox":{let o=this.attachmentLoader.newBoundingBoxAttachment(t,i);if(o==null)return null;this.readVertices(e,o,e.vertexCount<<1);let c=this.getValue(e,"color",null);return c!=null&&o.color.setFromString(c),o}case"mesh":case"linkedmesh":{let o=this.getValue(e,"path",i),c=this.attachmentLoader.newMeshAttachment(t,i,o);if(c==null)return null;c.path=o;let u=this.getValue(e,"color",null);u!=null&&c.color.setFromString(u);let h=this.getValue(e,"parent",null);if(h!=null)return c.inheritDeform=this.getValue(e,"deform",!0),this.linkedMeshes.push(new ZC(c,this.getValue(e,"skin",null),r,h)),c;let d=e.uvs;return this.readVertices(e,c,d.length),c.triangles=e.triangles,c.regionUVs=new Float32Array(d),c.hullLength=this.getValue(e,"hull",0)*2,c}case"path":{let o=this.attachmentLoader.newPathAttachment(t,i);if(o==null)return null;o.closed=this.getValue(e,"closed",!1),o.constantSpeed=this.getValue(e,"constantSpeed",!0);let c=e.vertexCount;this.readVertices(e,o,c<<1);let u=F.newArray(c/3,0);for(let d=0;d<e.lengths.length;d++)u[d]=e.lengths[d]*a;o.lengths=u;let h=this.getValue(e,"color",null);return h!=null&&o.color.setFromString(h),o}case"point":{let o=this.attachmentLoader.newPointAttachment(t,i);if(o==null)return null;o.x=this.getValue(e,"x",0)*a,o.y=this.getValue(e,"y",0)*a,o.rotation=this.getValue(e,"rotation",0);let c=this.getValue(e,"color",null);return c!=null&&o.color.setFromString(c),o}case"clipping":{let o=this.attachmentLoader.newClippingAttachment(t,i);if(o==null)return null;let c=this.getValue(e,"end",null);if(c!=null){let d=s.findSlot(c);if(d==null)throw new Error(`Clipping end slot not found: ${c}`);o.endSlot=d}let u=e.vertexCount;this.readVertices(e,o,u<<1);let h=this.getValue(e,"color",null);return h!=null&&o.color.setFromString(h),o}}return null}readVertices(e,t,r){let i=this.scale;t.worldVerticesLength=r;let s=e.vertices;if(r==s.length){let o=F.toFloatArray(s);if(i!=1)for(let c=0,u=s.length;c<u;c++)o[c]*=i;t.vertices=o;return}let a=new Array,l=new Array;for(let o=0,c=s.length;o<c;){let u=s[o++];l.push(u);for(let h=o+u*4;o<h;o+=4)l.push(s[o]),a.push(s[o+1]*i),a.push(s[o+2]*i),a.push(s[o+3])}t.bones=l,t.vertices=F.toFloatArray(a)}readAnimation(e,t,r){let i=this.scale,s=new Array,a=0;if(e.slots)for(let o in e.slots){let c=e.slots[o],u=r.findSlotIndex(o);if(u==-1)throw new Error(`Slot not found: ${o}`);for(let h in c){let d=c[h];if(h=="attachment"){let f=new Po(d.length);f.slotIndex=u;let p=0;for(let m=0;m<d.length;m++){let g=d[m];f.setFrame(p++,g.time,g.name)}s.push(f),a=Math.max(a,f.frames[f.getFrameCount()-1])}else if(h=="color"){let f=new xr(d.length);f.slotIndex=u;let p=0;for(let m=0;m<d.length;m++){let g=d[m],v=new X;v.setFromString(g.color||"ffffffff"),f.setFrame(p,g.time,v.r,v.g,v.b,v.a),this.readCurve(g,f,p),p++}s.push(f),a=Math.max(a,f.frames[(f.getFrameCount()-1)*xr.ENTRIES])}else if(h=="twoColor"){let f=new en(d.length);f.slotIndex=u;let p=0;for(let m=0;m<d.length;m++){let g=d[m],v=new X,x=new X;v.setFromString(g.light),x.setFromString(g.dark),f.setFrame(p,g.time,v.r,v.g,v.b,v.a,x.r,x.g,x.b),this.readCurve(g,f,p),p++}s.push(f),a=Math.max(a,f.frames[(f.getFrameCount()-1)*en.ENTRIES])}else throw new Error(`Invalid timeline type for a slot: ${h} (${o})`)}}if(e.bones)for(let o in e.bones){let c=e.bones[o],u=r.findBoneIndex(o);if(u==-1)throw new Error(`Bone not found: ${o}`);for(let h in c){let d=c[h];if(h==="rotate"){let f=new An(d.length);f.boneIndex=u;let p=0;for(let m=0;m<d.length;m++){let g=d[m];f.setFrame(p,g.time,g.angle),this.readCurve(g,f,p),p++}s.push(f),a=Math.max(a,f.frames[(f.getFrameCount()-1)*An.ENTRIES])}else if(h==="translate"||h==="scale"||h==="shear"){let f=null,p=1;h==="scale"?f=new kd(d.length):h==="shear"?f=new Ld(d.length):(f=new fi(d.length),p=i),f.boneIndex=u;let m=0;for(let g=0;g<d.length;g++){let v=d[g],x=this.getValue(v,"x",0),y=this.getValue(v,"y",0);f.setFrame(m,v.time,x*p,y*p),this.readCurve(v,f,m),m++}s.push(f),a=Math.max(a,f.frames[(f.getFrameCount()-1)*fi.ENTRIES])}else throw new Error(`Invalid timeline type for a bone: ${h} (${o})`)}}if(e.ik)for(let o in e.ik){let c=e.ik[o],u=r.findIkConstraint(o),h=new vr(c.length);h.ikConstraintIndex=r.ikConstraints.indexOf(u);let d=0;for(let f=0;f<c.length;f++){let p=c[f];h.setFrame(d,p.time,this.getValue(p,"mix",1),this.getValue(p,"bendPositive",!0)?1:-1,this.getValue(p,"compress",!1),this.getValue(p,"stretch",!1)),this.readCurve(p,h,d),d++}s.push(h),a=Math.max(a,h.frames[(h.getFrameCount()-1)*vr.ENTRIES])}if(e.transform)for(let o in e.transform){let c=e.transform[o],u=r.findTransformConstraint(o),h=new _r(c.length);h.transformConstraintIndex=r.transformConstraints.indexOf(u);let d=0;for(let f=0;f<c.length;f++){let p=c[f];h.setFrame(d,p.time,this.getValue(p,"rotateMix",1),this.getValue(p,"translateMix",1),this.getValue(p,"scaleMix",1),this.getValue(p,"shearMix",1)),this.readCurve(p,h,d),d++}s.push(h),a=Math.max(a,h.frames[(h.getFrameCount()-1)*_r.ENTRIES])}if(e.paths)for(let o in e.paths){let c=e.paths[o],u=r.findPathConstraintIndex(o);if(u==-1)throw new Error(`Path constraint not found: ${o}`);let h=r.pathConstraints[u];for(let d in c){let f=c[d];if(d==="position"||d==="spacing"){let p=null,m=1;d==="spacing"?(p=new Ud(f.length),(h.spacingMode==Gr.Length||h.spacingMode==Gr.Fixed)&&(m=i)):(p=new Zs(f.length),h.positionMode==Je.Fixed&&(m=i)),p.pathConstraintIndex=u;let g=0;for(let v=0;v<f.length;v++){let x=f[v];p.setFrame(g,x.time,this.getValue(x,d,0)*m),this.readCurve(x,p,g),g++}s.push(p),a=Math.max(a,p.frames[(p.getFrameCount()-1)*Zs.ENTRIES])}else if(d==="mix"){let p=new ps(f.length);p.pathConstraintIndex=u;let m=0;for(let g=0;g<f.length;g++){let v=f[g];p.setFrame(m,v.time,this.getValue(v,"rotateMix",1),this.getValue(v,"translateMix",1)),this.readCurve(v,p,m),m++}s.push(p),a=Math.max(a,p.frames[(p.getFrameCount()-1)*ps.ENTRIES])}}}if(e.deform)for(let o in e.deform){let c=e.deform[o],u=r.findSkin(o);if(u==null){if(Ct.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${o}`);continue}for(let h in c){let d=c[h],f=r.findSlotIndex(h);if(f==-1)throw new Error(`Slot not found: ${d.name}`);for(let p in d){let m=d[p],g=u.getAttachment(f,p);if(g==null)throw new Error(`Deform attachment not found: ${m.name}`);let v=g.bones!=null,x=g.vertices,y=v?x.length/3*2:x.length,_=new Bd(m.length);_.slotIndex=f,_.attachment=g;let b=0;for(let w=0;w<m.length;w++){let E=m[w],S,C=this.getValue(E,"vertices",null);if(C==null)S=v?F.newFloatArray(y):x;else{S=F.newFloatArray(y);let R=this.getValue(E,"offset",0);if(F.arrayCopy(C,0,S,R,C.length),i!=1)for(let P=R,k=P+C.length;P<k;P++)S[P]*=i;if(!v)for(let P=0;P<y;P++)S[P]+=x[P]}_.setFrame(b,E.time,S),this.readCurve(E,_,b),b++}s.push(_),a=Math.max(a,_.frames[_.getFrameCount()-1])}}}let l=e.drawOrder;if(l==null&&(l=e.draworder),l!=null){let o=new Oo(l.length),c=r.slots.length,u=0;for(let h=0;h<l.length;h++){let d=l[h],f=null,p=this.getValue(d,"offsets",null);if(p!=null){f=F.newArray(c,-1);let m=F.newArray(c-p.length,0),g=0,v=0;for(let x=0;x<p.length;x++){let y=p[x],_=r.findSlotIndex(y.slot);if(_==-1)throw new Error(`Slot not found: ${y.slot}`);for(;g!=_;)m[v++]=g++;f[g+y.offset]=g++}for(;g<c;)m[v++]=g++;for(let x=c-1;x>=0;x--)f[x]==-1&&(f[x]=m[--v])}o.setFrame(u++,d.time,f)}s.push(o),a=Math.max(a,o.frames[o.getFrameCount()-1])}if(e.events){let o=new Vd(e.events.length),c=0;for(let u=0;u<e.events.length;u++){let h=e.events[u],d=r.findEvent(h.name);if(d==null)throw new Error(`Event not found: ${h.name}`);let f=new $d(F.toSinglePrecision(h.time),d);f.intValue=this.getValue(h,"int",d.intValue),f.floatValue=this.getValue(h,"float",d.floatValue),f.stringValue=this.getValue(h,"string",d.stringValue),f.data.audioPath!=null&&(f.volume=this.getValue(h,"volume",1),f.balance=this.getValue(h,"balance",0)),o.setFrame(c++,f)}s.push(o),a=Math.max(a,o.frames[o.getFrameCount()-1])}if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new Tt(t,s,a))}readCurve(e,t,r){if(e.curve){if(e.curve==="stepped")t.setStepped(r);else if(Object.prototype.toString.call(e.curve)==="[object Array]"){let i=e.curve;t.setCurve(r,i[0],i[1],i[2],i[3])}}}getValue(e,t,r){return e[t]!==void 0?e[t]:r}static blendModeFromString(e){if(e=e.toLowerCase(),e=="normal")return ne.NORMAL;if(e=="additive")return ne.ADD;if(e=="multiply")return ne.MULTIPLY;if(e=="screen")return ne.SCREEN;throw new Error(`Unknown blend mode: ${e}`)}static positionModeFromString(e){if(e=e.toLowerCase(),e=="fixed")return Je.Fixed;if(e=="percent")return Je.Percent;throw new Error(`Unknown position mode: ${e}`)}static spacingModeFromString(e){if(e=e.toLowerCase(),e=="length")return Gr.Length;if(e=="fixed")return Gr.Fixed;if(e=="percent")return Gr.Percent;throw new Error(`Unknown position mode: ${e}`)}static rotateModeFromString(e){if(e=e.toLowerCase(),e=="tangent")return ot.Tangent;if(e=="chain")return ot.Chain;if(e=="chainscale")return ot.ChainScale;throw new Error(`Unknown rotate mode: ${e}`)}static transformModeFromString(e){if(e=e.toLowerCase(),e=="normal")return ce.Normal;if(e=="onlytranslation")return ce.OnlyTranslation;if(e=="norotationorreflection")return ce.NoRotationOrReflection;if(e=="noscale")return ce.NoScale;if(e=="noscaleorreflection")return ce.NoScaleOrReflection;throw new Error(`Unknown transform mode: ${e}`)}},ZC=class{constructor(e,t,r,i){this.mesh=e,this.skin=t,this.slotIndex=r,this.parent=i}};var Kx=class extends ls{createSkeleton(e){this.skeleton=new Fm(e),this.skeleton.updateWorldTransform(),this.stateData=new Om(e),this.state=new ji(this.stateData)}};var rv={};Hm(rv,{AlphaTimeline:()=>bl,Animation:()=>Ks,AnimationState:()=>Dl,AnimationStateAdapter:()=>tv,AnimationStateData:()=>sf,AtlasAttachmentLoader:()=>pu,Attachment:()=>hu,AttachmentTimeline:()=>mi,Bone:()=>mu,BoneData:()=>Rl,BoundingBoxAttachment:()=>ef,ClippingAttachment:()=>tf,ConstraintData:()=>eo,CurveTimeline:()=>$r,CurveTimeline1:()=>Hr,CurveTimeline2:()=>fu,DeformTimeline:()=>Sl,DrawOrderTimeline:()=>ys,Event:()=>Pl,EventData:()=>Ol,EventQueue:()=>km,EventTimeline:()=>Fo,EventType:()=>wr,IkConstraint:()=>of,IkConstraintData:()=>Nl,IkConstraintTimeline:()=>Cl,MeshAttachment:()=>Qs,PathAttachment:()=>ms,PathConstraint:()=>kl,PathConstraintData:()=>Fl,PathConstraintMixTimeline:()=>Il,PathConstraintPositionTimeline:()=>Tl,PathConstraintSpacingTimeline:()=>Ml,PointAttachment:()=>nf,RGB2Timeline:()=>El,RGBA2Timeline:()=>wl,RGBATimeline:()=>vl,RGBTimeline:()=>_l,RegionAttachment:()=>Ue,RotateTimeline:()=>gs,ScaleTimeline:()=>fl,ScaleXTimeline:()=>pl,ScaleYTimeline:()=>ml,Sequence:()=>du,SequenceMode:()=>pi,SequenceModeValues:()=>rf,SequenceTimeline:()=>ko,ShearTimeline:()=>gl,ShearXTimeline:()=>yl,ShearYTimeline:()=>xl,Skeleton:()=>Vm,SkeletonBinary:()=>gu,SkeletonBounds:()=>Um,SkeletonData:()=>Ll,SkeletonJson:()=>uf,Skin:()=>Vo,SkinEntry:()=>cf,Slot:()=>af,SlotData:()=>Bl,SpacingMode:()=>kt,Spine:()=>nv,Timeline:()=>_t,TrackEntry:()=>Lm,TransformConstraint:()=>lf,TransformConstraintData:()=>Vl,TransformConstraintTimeline:()=>Al,TranslateTimeline:()=>ul,TranslateXTimeline:()=>hl,TranslateYTimeline:()=>dl,VertexAttachment:()=>fn});var hu=class{constructor(e){if(!e)throw new Error("name cannot be null.");this.name=e}},ek=class extends hu{constructor(n){super(n),this.id=ek.nextID++,this.bones=null,this.vertices=[],this.worldVerticesLength=0,this.timelineAttachment=this}computeWorldVerticesOld(n,e){this.computeWorldVertices(n,0,this.worldVerticesLength,e,0,2)}computeWorldVertices(n,e,t,r,i,s){t=i+(t>>1)*s;let a=n.bone.skeleton,l=n.deform,o=this.vertices,c=this.bones;if(!c){l.length>0&&(o=l);let f=n.bone.matrix,p=f.tx,m=f.ty,g=f.a,v=f.c,x=f.b,y=f.d;for(let _=e,b=i;b<t;_+=2,b+=s){let w=o[_],E=o[_+1];r[b]=w*g+E*v+p,r[b+1]=w*x+E*y+m}return}let u=0,h=0;for(let f=0;f<e;f+=2){let p=c[u];u+=p+1,h+=p}let d=a.bones;if(l.length==0)for(let f=i,p=h*3;f<t;f+=s){let m=0,g=0,v=c[u++];for(v+=u;u<v;u++,p+=3){let x=d[c[u]].matrix,y=o[p],_=o[p+1],b=o[p+2];m+=(y*x.a+_*x.c+x.tx)*b,g+=(y*x.b+_*x.d+x.ty)*b}r[f]=m,r[f+1]=g}else{let f=l;for(let p=i,m=h*3,g=h<<1;p<t;p+=s){let v=0,x=0,y=c[u++];for(y+=u;u<y;u++,m+=3,g+=2){let _=d[c[u]].matrix,b=o[m]+f[g],w=o[m+1]+f[g+1],E=o[m+2];v+=(b*_.a+w*_.c+_.tx)*E,x+=(b*_.b+w*_.d+_.ty)*E}r[p]=v,r[p+1]=x}}}copyTo(n){this.bones?(n.bones=new Array(this.bones.length),F.arrayCopy(this.bones,0,n.bones,0,this.bones.length)):n.bones=null,this.vertices&&(n.vertices=F.newFloatArray(this.vertices.length),F.arrayCopy(this.vertices,0,n.vertices,0,this.vertices.length)),n.worldVerticesLength=this.worldVerticesLength,n.timelineAttachment=this.timelineAttachment}},fn=ek;fn.nextID=0;var ef=class n extends fn{constructor(e){super(e),this.type=le.BoundingBox,this.color=new X(1,1,1,1)}copy(){let e=new n(this.name);return this.copyTo(e),e.color.setFromColor(this.color),e}};var tf=class n extends fn{constructor(e){super(e),this.type=le.Clipping,this.endSlot=null,this.color=new X(.2275,.2275,.8078,1)}copy(){let e=new n(this.name);return this.copyTo(e),e.endSlot=this.endSlot,e.color.setFromColor(this.color),e}};var Qs=class n extends fn{constructor(e,t){super(e),this.type=le.Mesh,this.region=null,this.triangles=[],this.color=new X(1,1,1,1),this.width=0,this.height=0,this.hullLength=0,this.edges=[],this.parentMesh=null,this.sequence=null,this.tempColor=new X(0,0,0,0),this.path=t}getParentMesh(){return this.parentMesh}setParentMesh(e){this.parentMesh=e,e&&(this.bones=e.bones,this.vertices=e.vertices,this.worldVerticesLength=e.worldVerticesLength,this.regionUVs=e.regionUVs,this.triangles=e.triangles,this.hullLength=e.hullLength,this.worldVerticesLength=e.worldVerticesLength)}copy(){if(this.parentMesh)return this.newLinkedMesh();let e=new n(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),this.copyTo(e),e.regionUVs=new Float32Array(this.regionUVs.length),F.arrayCopy(this.regionUVs,0,e.regionUVs,0,this.regionUVs.length),e.triangles=new Array(this.triangles.length),F.arrayCopy(this.triangles,0,e.triangles,0,this.triangles.length),e.hullLength=this.hullLength,e.sequence=this.sequence!=null?this.sequence.copy():null,this.edges&&(e.edges=new Array(this.edges.length),F.arrayCopy(this.edges,0,e.edges,0,this.edges.length)),e.width=this.width,e.height=this.height,e}computeWorldVertices(e,t,r,i,s,a){this.sequence!=null&&this.sequence.apply(e,this),super.computeWorldVertices(e,t,r,i,s,a)}newLinkedMesh(){let e=new n(this.name,this.path);return e.region=this.region,e.color.setFromColor(this.color),e.timelineAttachment=this.timelineAttachment,e.setParentMesh(this.parentMesh?this.parentMesh:this),e}};var ms=class n extends fn{constructor(e){super(e),this.type=le.Path,this.lengths=[],this.closed=!1,this.constantSpeed=!1,this.color=new X(1,1,1,1)}copy(){let e=new n(this.name);return this.copyTo(e),e.lengths=new Array(this.lengths.length),F.arrayCopy(this.lengths,0,e.lengths,0,this.lengths.length),e.closed=closed,e.constantSpeed=this.constantSpeed,e.color.setFromColor(this.color),e}};var nf=class n extends fn{constructor(e){super(e),this.type=le.Point,this.x=0,this.y=0,this.rotation=0,this.color=new X(.38,.94,0,1)}computeWorldPosition(e,t){let r=e.matrix;return t.x=this.x*r.a+this.y*r.c+e.worldX,t.y=this.x*r.b+this.y*r.d+e.worldY,t}computeWorldRotation(e){let t=e.matrix,r=D.cosDeg(this.rotation),i=D.sinDeg(this.rotation),s=r*t.a+i*t.c,a=r*t.b+i*t.d;return Math.atan2(a,s)*D.radDeg}copy(){let e=new n(this.name);return e.x=this.x,e.y=this.y,e.rotation=this.rotation,e.color.setFromColor(this.color),e}};var tk=class extends hu{constructor(n,e){super(n),this.type=le.Region,this.x=0,this.y=0,this.scaleX=1,this.scaleY=1,this.rotation=0,this.width=0,this.height=0,this.color=new X(1,1,1,1),this.rendererObject=null,this.region=null,this.sequence=null,this.offset=F.newFloatArray(8),this.uvs=F.newFloatArray(8),this.tempColor=new X(1,1,1,1),this.path=e}updateRegion(){if(!this.region)throw new Error("Region not set.");let n=this.region,e=this.width/this.region.originalWidth*this.scaleX,t=this.height/this.region.originalHeight*this.scaleY,r=-this.width/2*this.scaleX+this.region.offsetX*e,i=-this.height/2*this.scaleY+this.region.offsetY*t,s=r+this.region.width*e,a=i+this.region.height*t,l=this.rotation*Math.PI/180,o=Math.cos(l),c=Math.sin(l),u=this.x,h=this.y,d=r*o+u,f=r*c,p=i*o+h,m=i*c,g=s*o+u,v=s*c,x=a*o+h,y=a*c,_=this.offset;_[0]=d-m,_[1]=p+f,_[2]=d-y,_[3]=x+f,_[4]=g-y,_[5]=x+v,_[6]=g-m,_[7]=p+v;let b=this.uvs;n.degrees==90?(b[2]=n.u,b[3]=n.v2,b[4]=n.u,b[5]=n.v,b[6]=n.u2,b[7]=n.v,b[0]=n.u2,b[1]=n.v2):(b[0]=n.u,b[1]=n.v2,b[2]=n.u,b[3]=n.v,b[4]=n.u2,b[5]=n.v,b[6]=n.u2,b[7]=n.v2)}computeWorldVertices(n,e,t,r){this.sequence!=null&&this.sequence.apply(n,this);let i=n.bone,s=this.offset,a=i.matrix,l=a.tx,o=a.ty,c=a.a,u=a.c,h=a.b,d=a.d,f=0,p=0;f=s[0],p=s[1],e[t]=f*c+p*u+l,e[t+1]=f*h+p*d+o,t+=r,f=s[2],p=s[3],e[t]=f*c+p*u+l,e[t+1]=f*h+p*d+o,t+=r,f=s[4],p=s[5],e[t]=f*c+p*u+l,e[t+1]=f*h+p*d+o,t+=r,f=s[6],p=s[7],e[t]=f*c+p*u+l,e[t+1]=f*h+p*d+o}copy(){let n=new tk(this.name,this.path);return n.region=this.region,n.rendererObject=this.rendererObject,n.x=this.x,n.y=this.y,n.scaleX=this.scaleX,n.scaleY=this.scaleY,n.rotation=this.rotation,n.width=this.width,n.height=this.height,F.arrayCopy(this.uvs,0,n.uvs,0,8),F.arrayCopy(this.offset,0,n.offset,0,8),n.color.setFromColor(this.color),n.sequence=this.sequence!=null?this.sequence.copy():null,n}},Ue=tk;Ue.X1=0;Ue.Y1=1;Ue.C1R=2;Ue.C1G=3;Ue.C1B=4;Ue.C1A=5;Ue.U1=6;Ue.V1=7;Ue.X2=8;Ue.Y2=9;Ue.C2R=10;Ue.C2G=11;Ue.C2B=12;Ue.C2A=13;Ue.U2=14;Ue.V2=15;Ue.X3=16;Ue.Y3=17;Ue.C3R=18;Ue.C3G=19;Ue.C3B=20;Ue.C3A=21;Ue.U3=22;Ue.V3=23;Ue.X4=24;Ue.Y4=25;Ue.C4R=26;Ue.C4G=27;Ue.C4B=28;Ue.C4A=29;Ue.U4=30;Ue.V4=31;var ev=class{constructor(n){this.id=ev.nextID(),this.start=0,this.digits=0,this.setupIndex=0,this.regions=new Array(n)}copy(){let n=new ev(this.regions.length);return F.arrayCopy(this.regions,0,n.regions,0,this.regions.length),n.start=this.start,n.digits=this.digits,n.setupIndex=this.setupIndex,n}apply(n,e){let t=n.sequenceIndex;t==-1&&(t=this.setupIndex),t>=this.regions.length&&(t=this.regions.length-1);let r=this.regions[t];e.region!=r&&(e.region=r)}getPath(n,e){let t=n,r=(this.start+e).toString();for(let i=this.digits-r.length;i>0;i--)t+="0";return t+=r,t}static nextID(){return ev._nextID++}},du=ev;du._nextID=0;var pi=(n=>(n[n.hold=0]="hold",n[n.once=1]="once",n[n.loop=2]="loop",n[n.pingpong=3]="pingpong",n[n.onceReverse=4]="onceReverse",n[n.loopReverse=5]="loopReverse",n[n.pingpongReverse=6]="pingpongReverse",n))(pi||{}),rf=[0,1,2,3,4,5,6];var Ks=class{constructor(e,t,r){if(this.timelines=[],this.timelineIds=new qc,!e)throw new Error("name cannot be null.");this.name=e,this.setTimelines(t),this.duration=r}setTimelines(e){if(!e)throw new Error("timelines cannot be null.");this.timelines=e,this.timelineIds.clear();for(let t=0;t<e.length;t++)this.timelineIds.addAll(e[t].getPropertyIds())}hasTimeline(e){for(let t=0;t<e.length;t++)if(this.timelineIds.contains(e[t]))return!0;return!1}apply(e,t,r,i,s,a,l,o){if(!e)throw new Error("skeleton cannot be null.");i&&this.duration!=0&&(r%=this.duration,t>0&&(t%=this.duration));let c=this.timelines;for(let u=0,h=c.length;u<h;u++)c[u].apply(e,t,r,s,a,l,o)}},tt={rotate:0,x:1,y:2,scaleX:3,scaleY:4,shearX:5,shearY:6,rgb:7,alpha:8,rgb2:9,attachment:10,deform:11,event:12,drawOrder:13,ikConstraint:14,transformConstraint:15,pathConstraintPosition:16,pathConstraintSpacing:17,pathConstraintMix:18,sequence:19},_t=class{constructor(e,t){this.propertyIds=t,this.frames=F.newFloatArray(e*this.getFrameEntries())}getPropertyIds(){return this.propertyIds}getFrameEntries(){return 1}getFrameCount(){return this.frames.length/this.getFrameEntries()}getDuration(){return this.frames[this.frames.length-this.getFrameEntries()]}static search1(e,t){let r=e.length;for(let i=1;i<r;i++)if(e[i]>t)return i-1;return r-1}static search(e,t,r){let i=e.length;for(let s=r;s<i;s+=r)if(e[s]>t)return s-r;return i-r}},$r=class extends _t{constructor(e,t,r){super(e,r),this.curves=F.newFloatArray(e+t*18),this.curves[e-1]=1}setLinear(e){this.curves[e]=0}setStepped(e){this.curves[e]=1}shrink(e){let t=this.getFrameCount()+e*18;if(this.curves.length>t){let r=F.newFloatArray(t);F.arrayCopy(this.curves,0,r,0,t),this.curves=r}}setBezier(e,t,r,i,s,a,l,o,c,u,h){let d=this.curves,f=this.getFrameCount()+e*18;r==0&&(d[t]=2+f);let p=(i-a*2+o)*.03,m=(s-l*2+c)*.03,g=((a-o)*3-i+u)*.006,v=((l-c)*3-s+h)*.006,x=p*2+g,y=m*2+v,_=(a-i)*.3+p+g*.16666667,b=(l-s)*.3+m+v*.16666667,w=i+_,E=s+b;for(let S=f+18;f<S;f+=2)d[f]=w,d[f+1]=E,_+=x,b+=y,x+=g,y+=v,w+=_,E+=b}getBezierValue(e,t,r,i){let s=this.curves;if(s[i]>e){let c=this.frames[t],u=this.frames[t+r];return u+(e-c)/(s[i]-c)*(s[i+1]-u)}let a=i+18;for(i+=2;i<a;i+=2)if(s[i]>=e){let c=s[i-2],u=s[i-1];return u+(e-c)/(s[i]-c)*(s[i+1]-u)}t+=this.getFrameEntries();let l=s[a-2],o=s[a-1];return o+(e-l)/(this.frames[t]-l)*(this.frames[t+r]-o)}},Hr=class extends $r{constructor(e,t,r){super(e,t,[r])}getFrameEntries(){return 2}setFrame(e,t,r){e<<=1,this.frames[e]=t,this.frames[e+1]=r}getCurveValue(e){let t=this.frames,r=t.length-2;for(let s=2;s<=r;s+=2)if(t[s]>e){r=s-2;break}let i=this.curves[r>>1];switch(i){case 0:let s=t[r],a=t[r+1];return a+(e-s)/(t[r+2]-s)*(t[r+2+1]-a);case 1:return t[r+1]}return this.getBezierValue(e,r,1,i-2)}},fu=class extends $r{constructor(e,t,r,i){super(e,t,[r,i])}getFrameEntries(){return 3}setFrame(e,t,r,i){e*=3,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i}},gs=class extends Hr{constructor(e,t,r){super(e,t,`${tt.rotate}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.rotation=o.data.rotation;return;case I.first:o.rotation+=(o.data.rotation-o.rotation)*s}return}let u=this.getCurveValue(r);switch(a){case I.setup:o.rotation=o.data.rotation+u*s;break;case I.first:case I.replace:u+=o.data.rotation-o.rotation;case I.add:o.rotation+=u*s}}},ul=class extends fu{constructor(e,t,r){super(e,t,`${tt.x}|${r}`,`${tt.y}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.x=o.data.x,o.y=o.data.y;return;case I.first:o.x+=(o.data.x-o.x)*s,o.y+=(o.data.y-o.y)*s}return}let u=0,h=0,d=_t.search(c,r,3),f=this.curves[d/3];switch(f){case 0:let p=c[d];u=c[d+1],h=c[d+2];let m=(r-p)/(c[d+3]-p);u+=(c[d+3+1]-u)*m,h+=(c[d+3+2]-h)*m;break;case 1:u=c[d+1],h=c[d+2];break;default:u=this.getBezierValue(r,d,1,f-2),h=this.getBezierValue(r,d,2,f+18-2)}switch(a){case I.setup:o.x=o.data.x+u*s,o.y=o.data.y+h*s;break;case I.first:case I.replace:o.x+=(o.data.x+u-o.x)*s,o.y+=(o.data.y+h-o.y)*s;break;case I.add:o.x+=u*s,o.y+=h*s}}},hl=class extends Hr{constructor(e,t,r){super(e,t,`${tt.x}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.x=o.data.x;return;case I.first:o.x+=(o.data.x-o.x)*s}return}let u=this.getCurveValue(r);switch(a){case I.setup:o.x=o.data.x+u*s;break;case I.first:case I.replace:o.x+=(o.data.x+u-o.x)*s;break;case I.add:o.x+=u*s}}},dl=class extends Hr{constructor(e,t,r){super(e,t,`${tt.y}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.y=o.data.y;return;case I.first:o.y+=(o.data.y-o.y)*s}return}let u=this.getCurveValue(r);switch(a){case I.setup:o.y=o.data.y+u*s;break;case I.first:case I.replace:o.y+=(o.data.y+u-o.y)*s;break;case I.add:o.y+=u*s}}},fl=class extends fu{constructor(e,t,r){super(e,t,`${tt.scaleX}|${r}`,`${tt.scaleY}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.scaleX=o.data.scaleX,o.scaleY=o.data.scaleY;return;case I.first:o.scaleX+=(o.data.scaleX-o.scaleX)*s,o.scaleY+=(o.data.scaleY-o.scaleY)*s}return}let u,h,d=_t.search(c,r,3),f=this.curves[d/3];switch(f){case 0:let p=c[d];u=c[d+1],h=c[d+2];let m=(r-p)/(c[d+3]-p);u+=(c[d+3+1]-u)*m,h+=(c[d+3+2]-h)*m;break;case 1:u=c[d+1],h=c[d+2];break;default:u=this.getBezierValue(r,d,1,f-2),h=this.getBezierValue(r,d,2,f+18-2)}if(u*=o.data.scaleX,h*=o.data.scaleY,s==1)a==I.add?(o.scaleX+=u-o.data.scaleX,o.scaleY+=h-o.data.scaleY):(o.scaleX=u,o.scaleY=h);else{let p=0,m=0;if(l==_e.mixOut)switch(a){case I.setup:p=o.data.scaleX,m=o.data.scaleY,o.scaleX=p+(Math.abs(u)*D.signum(p)-p)*s,o.scaleY=m+(Math.abs(h)*D.signum(m)-m)*s;break;case I.first:case I.replace:p=o.scaleX,m=o.scaleY,o.scaleX=p+(Math.abs(u)*D.signum(p)-p)*s,o.scaleY=m+(Math.abs(h)*D.signum(m)-m)*s;break;case I.add:o.scaleX+=(u-o.data.scaleX)*s,o.scaleY+=(h-o.data.scaleY)*s}else switch(a){case I.setup:p=Math.abs(o.data.scaleX)*D.signum(u),m=Math.abs(o.data.scaleY)*D.signum(h),o.scaleX=p+(u-p)*s,o.scaleY=m+(h-m)*s;break;case I.first:case I.replace:p=Math.abs(o.scaleX)*D.signum(u),m=Math.abs(o.scaleY)*D.signum(h),o.scaleX=p+(u-p)*s,o.scaleY=m+(h-m)*s;break;case I.add:o.scaleX+=(u-o.data.scaleX)*s,o.scaleY+=(h-o.data.scaleY)*s}}}},pl=class extends Hr{constructor(e,t,r){super(e,t,`${tt.scaleX}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.scaleX=o.data.scaleX;return;case I.first:o.scaleX+=(o.data.scaleX-o.scaleX)*s}return}let u=this.getCurveValue(r)*o.data.scaleX;if(s==1)a==I.add?o.scaleX+=u-o.data.scaleX:o.scaleX=u;else{let h=0;if(l==_e.mixOut)switch(a){case I.setup:h=o.data.scaleX,o.scaleX=h+(Math.abs(u)*D.signum(h)-h)*s;break;case I.first:case I.replace:h=o.scaleX,o.scaleX=h+(Math.abs(u)*D.signum(h)-h)*s;break;case I.add:o.scaleX+=(u-o.data.scaleX)*s}else switch(a){case I.setup:h=Math.abs(o.data.scaleX)*D.signum(u),o.scaleX=h+(u-h)*s;break;case I.first:case I.replace:h=Math.abs(o.scaleX)*D.signum(u),o.scaleX=h+(u-h)*s;break;case I.add:o.scaleX+=(u-o.data.scaleX)*s}}}},ml=class extends Hr{constructor(e,t,r){super(e,t,`${tt.scaleY}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.scaleY=o.data.scaleY;return;case I.first:o.scaleY+=(o.data.scaleY-o.scaleY)*s}return}let u=this.getCurveValue(r)*o.data.scaleY;if(s==1)a==I.add?o.scaleY+=u-o.data.scaleY:o.scaleY=u;else{let h=0;if(l==_e.mixOut)switch(a){case I.setup:h=o.data.scaleY,o.scaleY=h+(Math.abs(u)*D.signum(h)-h)*s;break;case I.first:case I.replace:h=o.scaleY,o.scaleY=h+(Math.abs(u)*D.signum(h)-h)*s;break;case I.add:o.scaleY+=(u-o.data.scaleY)*s}else switch(a){case I.setup:h=Math.abs(o.data.scaleY)*D.signum(u),o.scaleY=h+(u-h)*s;break;case I.first:case I.replace:h=Math.abs(o.scaleY)*D.signum(u),o.scaleY=h+(u-h)*s;break;case I.add:o.scaleY+=(u-o.data.scaleY)*s}}}},gl=class extends fu{constructor(e,t,r){super(e,t,`${tt.shearX}|${r}`,`${tt.shearY}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.shearX=o.data.shearX,o.shearY=o.data.shearY;return;case I.first:o.shearX+=(o.data.shearX-o.shearX)*s,o.shearY+=(o.data.shearY-o.shearY)*s}return}let u=0,h=0,d=_t.search(c,r,3),f=this.curves[d/3];switch(f){case 0:let p=c[d];u=c[d+1],h=c[d+2];let m=(r-p)/(c[d+3]-p);u+=(c[d+3+1]-u)*m,h+=(c[d+3+2]-h)*m;break;case 1:u=c[d+1],h=c[d+2];break;default:u=this.getBezierValue(r,d,1,f-2),h=this.getBezierValue(r,d,2,f+18-2)}switch(a){case I.setup:o.shearX=o.data.shearX+u*s,o.shearY=o.data.shearY+h*s;break;case I.first:case I.replace:o.shearX+=(o.data.shearX+u-o.shearX)*s,o.shearY+=(o.data.shearY+h-o.shearY)*s;break;case I.add:o.shearX+=u*s,o.shearY+=h*s}}},yl=class extends Hr{constructor(e,t,r){super(e,t,`${tt.shearX}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.shearX=o.data.shearX;return;case I.first:o.shearX+=(o.data.shearX-o.shearX)*s}return}let u=this.getCurveValue(r);switch(a){case I.setup:o.shearX=o.data.shearX+u*s;break;case I.first:case I.replace:o.shearX+=(o.data.shearX+u-o.shearX)*s;break;case I.add:o.shearX+=u*s}}},xl=class extends Hr{constructor(e,t,r){super(e,t,`${tt.shearY}|${r}`),this.boneIndex=0,this.boneIndex=r}apply(e,t,r,i,s,a,l){let o=e.bones[this.boneIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.shearY=o.data.shearY;return;case I.first:o.shearY+=(o.data.shearY-o.shearY)*s}return}let u=this.getCurveValue(r);switch(a){case I.setup:o.shearY=o.data.shearY+u*s;break;case I.first:case I.replace:o.shearY+=(o.data.shearY+u-o.shearY)*s;break;case I.add:o.shearY+=u*s}}},vl=class extends $r{constructor(e,t,r){super(e,t,[`${tt.rgb}|${r}`,`${tt.alpha}|${r}`]),this.slotIndex=0,this.slotIndex=r}getFrameEntries(){return 5}setFrame(e,t,r,i,s,a){e*=5,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i,this.frames[e+3]=s,this.frames[e+4]=a}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(!o.bone.active)return;let c=this.frames,u=o.color;if(r<c[0]){let v=o.data.color;switch(a){case I.setup:u.setFromColor(v);return;case I.first:u.add((v.r-u.r)*s,(v.g-u.g)*s,(v.b-u.b)*s,(v.a-u.a)*s)}return}let h=0,d=0,f=0,p=0,m=_t.search(c,r,5),g=this.curves[m/5];switch(g){case 0:let v=c[m];h=c[m+1],d=c[m+2],f=c[m+3],p=c[m+4];let x=(r-v)/(c[m+5]-v);h+=(c[m+5+1]-h)*x,d+=(c[m+5+2]-d)*x,f+=(c[m+5+3]-f)*x,p+=(c[m+5+4]-p)*x;break;case 1:h=c[m+1],d=c[m+2],f=c[m+3],p=c[m+4];break;default:h=this.getBezierValue(r,m,1,g-2),d=this.getBezierValue(r,m,2,g+18-2),f=this.getBezierValue(r,m,3,g+18*2-2),p=this.getBezierValue(r,m,4,g+18*3-2)}s==1?u.set(h,d,f,p):(a==I.setup&&u.setFromColor(o.data.color),u.add((h-u.r)*s,(d-u.g)*s,(f-u.b)*s,(p-u.a)*s))}},_l=class extends $r{constructor(e,t,r){super(e,t,[`${tt.rgb}|${r}`]),this.slotIndex=0,this.slotIndex=r}getFrameEntries(){return 4}setFrame(e,t,r,i,s){e<<=2,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i,this.frames[e+3]=s}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(!o.bone.active)return;let c=this.frames,u=o.color;if(r<c[0]){let g=o.data.color;switch(a){case I.setup:u.r=g.r,u.g=g.g,u.b=g.b;return;case I.first:u.r+=(g.r-u.r)*s,u.g+=(g.g-u.g)*s,u.b+=(g.b-u.b)*s}return}let h=0,d=0,f=0,p=_t.search(c,r,4),m=this.curves[p>>2];switch(m){case 0:let g=c[p];h=c[p+1],d=c[p+2],f=c[p+3];let v=(r-g)/(c[p+4]-g);h+=(c[p+4+1]-h)*v,d+=(c[p+4+2]-d)*v,f+=(c[p+4+3]-f)*v;break;case 1:h=c[p+1],d=c[p+2],f=c[p+3];break;default:h=this.getBezierValue(r,p,1,m-2),d=this.getBezierValue(r,p,2,m+18-2),f=this.getBezierValue(r,p,3,m+18*2-2)}if(s==1)u.r=h,u.g=d,u.b=f;else{if(a==I.setup){let g=o.data.color;u.r=g.r,u.g=g.g,u.b=g.b}u.r+=(h-u.r)*s,u.g+=(d-u.g)*s,u.b+=(f-u.b)*s}}},bl=class extends Hr{constructor(e,t,r){super(e,t,`${tt.alpha}|${r}`),this.slotIndex=0,this.slotIndex=r}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(!o.bone.active)return;let c=o.color;if(r<this.frames[0]){let h=o.data.color;switch(a){case I.setup:c.a=h.a;return;case I.first:c.a+=(h.a-c.a)*s}return}let u=this.getCurveValue(r);s==1?c.a=u:(a==I.setup&&(c.a=o.data.color.a),c.a+=(u-c.a)*s)}},wl=class extends $r{constructor(e,t,r){super(e,t,[`${tt.rgb}|${r}`,`${tt.alpha}|${r}`,`${tt.rgb2}|${r}`]),this.slotIndex=0,this.slotIndex=r}getFrameEntries(){return 8}setFrame(e,t,r,i,s,a,l,o,c){e<<=3,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i,this.frames[e+3]=s,this.frames[e+4]=a,this.frames[e+5]=l,this.frames[e+6]=o,this.frames[e+7]=c}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(!o.bone.active)return;let c=this.frames,u=o.color,h=o.darkColor;if(r<c[0]){let b=o.data.color,w=o.data.darkColor;switch(a){case I.setup:u.setFromColor(b),h.r=w.r,h.g=w.g,h.b=w.b;return;case I.first:u.add((b.r-u.r)*s,(b.g-u.g)*s,(b.b-u.b)*s,(b.a-u.a)*s),h.r+=(w.r-h.r)*s,h.g+=(w.g-h.g)*s,h.b+=(w.b-h.b)*s}return}let d=0,f=0,p=0,m=0,g=0,v=0,x=0,y=_t.search(c,r,8),_=this.curves[y>>3];switch(_){case 0:let b=c[y];d=c[y+1],f=c[y+2],p=c[y+3],m=c[y+4],g=c[y+5],v=c[y+6],x=c[y+7];let w=(r-b)/(c[y+8]-b);d+=(c[y+8+1]-d)*w,f+=(c[y+8+2]-f)*w,p+=(c[y+8+3]-p)*w,m+=(c[y+8+4]-m)*w,g+=(c[y+8+5]-g)*w,v+=(c[y+8+6]-v)*w,x+=(c[y+8+7]-x)*w;break;case 1:d=c[y+1],f=c[y+2],p=c[y+3],m=c[y+4],g=c[y+5],v=c[y+6],x=c[y+7];break;default:d=this.getBezierValue(r,y,1,_-2),f=this.getBezierValue(r,y,2,_+18-2),p=this.getBezierValue(r,y,3,_+18*2-2),m=this.getBezierValue(r,y,4,_+18*3-2),g=this.getBezierValue(r,y,5,_+18*4-2),v=this.getBezierValue(r,y,6,_+18*5-2),x=this.getBezierValue(r,y,7,_+18*6-2)}if(s==1)u.set(d,f,p,m),h.r=g,h.g=v,h.b=x;else{if(a==I.setup){u.setFromColor(o.data.color);let b=o.data.darkColor;h.r=b.r,h.g=b.g,h.b=b.b}u.add((d-u.r)*s,(f-u.g)*s,(p-u.b)*s,(m-u.a)*s),h.r+=(g-h.r)*s,h.g+=(v-h.g)*s,h.b+=(x-h.b)*s}}},El=class extends $r{constructor(e,t,r){super(e,t,[`${tt.rgb}|${r}`,`${tt.rgb2}|${r}`]),this.slotIndex=0,this.slotIndex=r}getFrameEntries(){return 7}setFrame(e,t,r,i,s,a,l,o){e*=7,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i,this.frames[e+3]=s,this.frames[e+4]=a,this.frames[e+5]=l,this.frames[e+6]=o}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(!o.bone.active)return;let c=this.frames,u=o.color,h=o.darkColor;if(r<c[0]){let _=o.data.color,b=o.data.darkColor;switch(a){case I.setup:u.r=_.r,u.g=_.g,u.b=_.b,h.r=b.r,h.g=b.g,h.b=b.b;return;case I.first:u.r+=(_.r-u.r)*s,u.g+=(_.g-u.g)*s,u.b+=(_.b-u.b)*s,h.r+=(b.r-h.r)*s,h.g+=(b.g-h.g)*s,h.b+=(b.b-h.b)*s}return}let d=0,f=0,p=0,m=0,g=0,v=0,x=_t.search(c,r,7),y=this.curves[x/7];switch(y){case 0:let _=c[x];d=c[x+1],f=c[x+2],p=c[x+3],m=c[x+4],g=c[x+5],v=c[x+6];let b=(r-_)/(c[x+7]-_);d+=(c[x+7+1]-d)*b,f+=(c[x+7+2]-f)*b,p+=(c[x+7+3]-p)*b,m+=(c[x+7+4]-m)*b,g+=(c[x+7+5]-g)*b,v+=(c[x+7+6]-v)*b;break;case 1:d=c[x+1],f=c[x+2],p=c[x+3],m=c[x+4],g=c[x+5],v=c[x+6];break;default:d=this.getBezierValue(r,x,1,y-2),f=this.getBezierValue(r,x,2,y+18-2),p=this.getBezierValue(r,x,3,y+18*2-2),m=this.getBezierValue(r,x,4,y+18*3-2),g=this.getBezierValue(r,x,5,y+18*4-2),v=this.getBezierValue(r,x,6,y+18*5-2)}if(s==1)u.r=d,u.g=f,u.b=p,h.r=m,h.g=g,h.b=v;else{if(a==I.setup){let _=o.data.color,b=o.data.darkColor;u.r=_.r,u.g=_.g,u.b=_.b,h.r=b.r,h.g=b.g,h.b=b.b}u.r+=(d-u.r)*s,u.g+=(f-u.g)*s,u.b+=(p-u.b)*s,h.r+=(m-h.r)*s,h.g+=(g-h.g)*s,h.b+=(v-h.b)*s}}},mi=class extends _t{constructor(e,t){super(e,[`${tt.attachment}|${t}`]),this.slotIndex=0,this.slotIndex=t,this.attachmentNames=new Array(e)}getFrameCount(){return this.frames.length}setFrame(e,t,r){this.frames[e]=t,this.attachmentNames[e]=r}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(o.bone.active){if(l==_e.mixOut){a==I.setup&&this.setAttachment(e,o,o.data.attachmentName);return}if(r<this.frames[0]){(a==I.setup||a==I.first)&&this.setAttachment(e,o,o.data.attachmentName);return}this.setAttachment(e,o,this.attachmentNames[_t.search1(this.frames,r)])}}setAttachment(e,t,r){t.setAttachment(r?e.getAttachment(this.slotIndex,r):null)}},Sl=class extends $r{constructor(e,t,r,i){super(e,t,[`${tt.deform}|${r}|${i.id}`]),this.slotIndex=0,this.slotIndex=r,this.attachment=i,this.vertices=new Array(e)}getFrameCount(){return this.frames.length}setFrame(e,t,r){this.frames[e]=t,this.vertices[e]=r}setBezier(e,t,r,i,s,a,l,o,c,u,h){let d=this.curves,f=this.getFrameCount()+e*18;r==0&&(d[t]=2+f);let p=(i-a*2+o)*.03,m=c*.03-l*.06,g=((a-o)*3-i+u)*.006,v=(l-c+.33333333)*.018,x=p*2+g,y=m*2+v,_=(a-i)*.3+p+g*.16666667,b=l*.3+m+v*.16666667,w=i+_,E=b;for(let S=f+18;f<S;f+=2)d[f]=w,d[f+1]=E,_+=x,b+=y,x+=g,y+=v,w+=_,E+=b}getCurvePercent(e,t){let r=this.curves,i=r[t];switch(i){case 0:let o=this.frames[t];return(e-o)/(this.frames[t+this.getFrameEntries()]-o);case 1:return 0}if(i-=2,r[i]>e){let o=this.frames[t];return r[i+1]*(e-o)/(r[i]-o)}let s=i+18;for(i+=2;i<s;i+=2)if(r[i]>=e){let o=r[i-2],c=r[i-1];return c+(e-o)/(r[i]-o)*(r[i+1]-c)}let a=r[s-2],l=r[s-1];return l+(1-l)*(e-a)/(this.frames[t+this.getFrameEntries()]-a)}apply(e,t,r,i,s,a,l){let o=e.slots[this.slotIndex];if(!o.bone.active)return;let c=o.getAttachment();if(!c||!(c instanceof fn)||c.timelineAttachment!=this.attachment)return;let u=o.deform;u.length==0&&(a=I.setup);let h=this.vertices,d=h[0].length,f=this.frames;if(r<f[0]){switch(a){case I.setup:u.length=0;return;case I.first:if(s==1){u.length=0;return}u.length=d;let x=c;if(x.bones){s=1-s;for(let y=0;y<d;y++)u[y]*=s}else{let y=x.vertices;for(let _=0;_<d;_++)u[_]+=(y[_]-u[_])*s}}return}if(u.length=d,r>=f[f.length-1]){let x=h[f.length-1];if(s==1)if(a==I.add){let y=c;if(y.bones)for(let _=0;_<d;_++)u[_]+=x[_];else{let _=y.vertices;for(let b=0;b<d;b++)u[b]+=x[b]-_[b]}}else F.arrayCopy(x,0,u,0,d);else switch(a){case I.setup:{let _=c;if(_.bones)for(let b=0;b<d;b++)u[b]=x[b]*s;else{let b=_.vertices;for(let w=0;w<d;w++){let E=b[w];u[w]=E+(x[w]-E)*s}}break}case I.first:case I.replace:for(let _=0;_<d;_++)u[_]+=(x[_]-u[_])*s;break;case I.add:let y=c;if(y.bones)for(let _=0;_<d;_++)u[_]+=x[_]*s;else{let _=y.vertices;for(let b=0;b<d;b++)u[b]+=(x[b]-_[b])*s}}return}let p=_t.search1(f,r),m=this.getCurvePercent(r,p),g=h[p],v=h[p+1];if(s==1)if(a==I.add){let x=c;if(x.bones)for(let y=0;y<d;y++){let _=g[y];u[y]+=_+(v[y]-_)*m}else{let y=x.vertices;for(let _=0;_<d;_++){let b=g[_];u[_]+=b+(v[_]-b)*m-y[_]}}}else for(let x=0;x<d;x++){let y=g[x];u[x]=y+(v[x]-y)*m}else switch(a){case I.setup:{let y=c;if(y.bones)for(let _=0;_<d;_++){let b=g[_];u[_]=(b+(v[_]-b)*m)*s}else{let _=y.vertices;for(let b=0;b<d;b++){let w=g[b],E=_[b];u[b]=E+(w+(v[b]-w)*m-E)*s}}break}case I.first:case I.replace:for(let y=0;y<d;y++){let _=g[y];u[y]+=(_+(v[y]-_)*m-u[y])*s}break;case I.add:let x=c;if(x.bones)for(let y=0;y<d;y++){let _=g[y];u[y]+=(_+(v[y]-_)*m)*s}else{let y=x.vertices;for(let _=0;_<d;_++){let b=g[_];u[_]+=(b+(v[_]-b)*m-y[_])*s}}}}},nk=class extends _t{constructor(n){super(n,nk.propertyIds),this.events=new Array(n)}getFrameCount(){return this.frames.length}setFrame(n,e){this.frames[n]=e.time,this.events[n]=e}apply(n,e,t,r,i,s,a){if(!r)return;let l=this.frames,o=this.frames.length;if(e>t)this.apply(n,e,Number.MAX_VALUE,r,i,s,a),e=-1;else if(e>=l[o-1])return;if(t<l[0])return;let c=0;if(e<l[0])c=0;else{c=_t.search1(l,e)+1;let u=l[c];for(;c>0&&l[c-1]==u;)c--}for(;c<o&&t>=l[c];c++)r.push(this.events[c])}},Fo=nk;Fo.propertyIds=[`${tt.event}`];var rk=class extends _t{constructor(n){super(n,rk.propertyIds),this.drawOrders=new Array(n)}getFrameCount(){return this.frames.length}setFrame(n,e,t){this.frames[n]=e,this.drawOrders[n]=t}apply(n,e,t,r,i,s,a){if(a==_e.mixOut){s==I.setup&&F.arrayCopy(n.slots,0,n.drawOrder,0,n.slots.length);return}if(t<this.frames[0]){(s==I.setup||s==I.first)&&F.arrayCopy(n.slots,0,n.drawOrder,0,n.slots.length);return}let l=_t.search1(this.frames,t),o=this.drawOrders[l];if(!o)F.arrayCopy(n.slots,0,n.drawOrder,0,n.slots.length);else{let c=n.drawOrder,u=n.slots;for(let h=0,d=o.length;h<d;h++)c[h]=u[o[h]]}}},ys=rk;ys.propertyIds=[`${tt.drawOrder}`];var Cl=class extends $r{constructor(e,t,r){super(e,t,[`${tt.ikConstraint}|${r}`]),this.ikConstraintIndex=0,this.ikConstraintIndex=r}getFrameEntries(){return 6}setFrame(e,t,r,i,s,a,l){e*=6,this.frames[e]=t,this.frames[e+1]=r,this.frames[e+2]=i,this.frames[e+3]=s,this.frames[e+4]=a?1:0,this.frames[e+5]=l?1:0}apply(e,t,r,i,s,a,l){let o=e.ikConstraints[this.ikConstraintIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.mix=o.data.mix,o.softness=o.data.softness,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch;return;case I.first:o.mix+=(o.data.mix-o.mix)*s,o.softness+=(o.data.softness-o.softness)*s,o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch}return}let u=0,h=0,d=_t.search(c,r,6),f=this.curves[d/6];switch(f){case 0:let p=c[d];u=c[d+1],h=c[d+2];let m=(r-p)/(c[d+6]-p);u+=(c[d+6+1]-u)*m,h+=(c[d+6+2]-h)*m;break;case 1:u=c[d+1],h=c[d+2];break;default:u=this.getBezierValue(r,d,1,f-2),h=this.getBezierValue(r,d,2,f+18-2)}a==I.setup?(o.mix=o.data.mix+(u-o.data.mix)*s,o.softness=o.data.softness+(h-o.data.softness)*s,l==_e.mixOut?(o.bendDirection=o.data.bendDirection,o.compress=o.data.compress,o.stretch=o.data.stretch):(o.bendDirection=c[d+3],o.compress=c[d+4]!=0,o.stretch=c[d+5]!=0)):(o.mix+=(u-o.mix)*s,o.softness+=(h-o.softness)*s,l==_e.mixIn&&(o.bendDirection=c[d+3],o.compress=c[d+4]!=0,o.stretch=c[d+5]!=0))}},Al=class extends $r{constructor(e,t,r){super(e,t,[`${tt.transformConstraint}|${r}`]),this.transformConstraintIndex=0,this.transformConstraintIndex=r}getFrameEntries(){return 7}setFrame(e,t,r,i,s,a,l,o){let c=this.frames;e*=7,c[e]=t,c[e+1]=r,c[e+2]=i,c[e+3]=s,c[e+4]=a,c[e+5]=l,c[e+6]=o}apply(e,t,r,i,s,a,l){let o=e.transformConstraints[this.transformConstraintIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){let x=o.data;switch(a){case I.setup:o.mixRotate=x.mixRotate,o.mixX=x.mixX,o.mixY=x.mixY,o.mixScaleX=x.mixScaleX,o.mixScaleY=x.mixScaleY,o.mixShearY=x.mixShearY;return;case I.first:o.mixRotate+=(x.mixRotate-o.mixRotate)*s,o.mixX+=(x.mixX-o.mixX)*s,o.mixY+=(x.mixY-o.mixY)*s,o.mixScaleX+=(x.mixScaleX-o.mixScaleX)*s,o.mixScaleY+=(x.mixScaleY-o.mixScaleY)*s,o.mixShearY+=(x.mixShearY-o.mixShearY)*s}return}let u,h,d,f,p,m,g=_t.search(c,r,7),v=this.curves[g/7];switch(v){case 0:let x=c[g];u=c[g+1],h=c[g+2],d=c[g+3],f=c[g+4],p=c[g+5],m=c[g+6];let y=(r-x)/(c[g+7]-x);u+=(c[g+7+1]-u)*y,h+=(c[g+7+2]-h)*y,d+=(c[g+7+3]-d)*y,f+=(c[g+7+4]-f)*y,p+=(c[g+7+5]-p)*y,m+=(c[g+7+6]-m)*y;break;case 1:u=c[g+1],h=c[g+2],d=c[g+3],f=c[g+4],p=c[g+5],m=c[g+6];break;default:u=this.getBezierValue(r,g,1,v-2),h=this.getBezierValue(r,g,2,v+18-2),d=this.getBezierValue(r,g,3,v+18*2-2),f=this.getBezierValue(r,g,4,v+18*3-2),p=this.getBezierValue(r,g,5,v+18*4-2),m=this.getBezierValue(r,g,6,v+18*5-2)}if(a==I.setup){let x=o.data;o.mixRotate=x.mixRotate+(u-x.mixRotate)*s,o.mixX=x.mixX+(h-x.mixX)*s,o.mixY=x.mixY+(d-x.mixY)*s,o.mixScaleX=x.mixScaleX+(f-x.mixScaleX)*s,o.mixScaleY=x.mixScaleY+(p-x.mixScaleY)*s,o.mixShearY=x.mixShearY+(m-x.mixShearY)*s}else o.mixRotate+=(u-o.mixRotate)*s,o.mixX+=(h-o.mixX)*s,o.mixY+=(d-o.mixY)*s,o.mixScaleX+=(f-o.mixScaleX)*s,o.mixScaleY+=(p-o.mixScaleY)*s,o.mixShearY+=(m-o.mixShearY)*s}},Tl=class extends Hr{constructor(e,t,r){super(e,t,`${tt.pathConstraintPosition}|${r}`),this.pathConstraintIndex=0,this.pathConstraintIndex=r}apply(e,t,r,i,s,a,l){let o=e.pathConstraints[this.pathConstraintIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.position=o.data.position;return;case I.first:o.position+=(o.data.position-o.position)*s}return}let u=this.getCurveValue(r);a==I.setup?o.position=o.data.position+(u-o.data.position)*s:o.position+=(u-o.position)*s}},Ml=class extends Hr{constructor(e,t,r){super(e,t,`${tt.pathConstraintSpacing}|${r}`),this.pathConstraintIndex=0,this.pathConstraintIndex=r}apply(e,t,r,i,s,a,l){let o=e.pathConstraints[this.pathConstraintIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.spacing=o.data.spacing;return;case I.first:o.spacing+=(o.data.spacing-o.spacing)*s}return}let u=this.getCurveValue(r);a==I.setup?o.spacing=o.data.spacing+(u-o.data.spacing)*s:o.spacing+=(u-o.spacing)*s}},Il=class extends $r{constructor(e,t,r){super(e,t,[`${tt.pathConstraintMix}|${r}`]),this.pathConstraintIndex=0,this.pathConstraintIndex=r}getFrameEntries(){return 4}setFrame(e,t,r,i,s){let a=this.frames;e<<=2,a[e]=t,a[e+1]=r,a[e+2]=i,a[e+3]=s}apply(e,t,r,i,s,a,l){let o=e.pathConstraints[this.pathConstraintIndex];if(!o.active)return;let c=this.frames;if(r<c[0]){switch(a){case I.setup:o.mixRotate=o.data.mixRotate,o.mixX=o.data.mixX,o.mixY=o.data.mixY;return;case I.first:o.mixRotate+=(o.data.mixRotate-o.mixRotate)*s,o.mixX+=(o.data.mixX-o.mixX)*s,o.mixY+=(o.data.mixY-o.mixY)*s}return}let u,h,d,f=_t.search(c,r,4),p=this.curves[f>>2];switch(p){case 0:let m=c[f];u=c[f+1],h=c[f+2],d=c[f+3];let g=(r-m)/(c[f+4]-m);u+=(c[f+4+1]-u)*g,h+=(c[f+4+2]-h)*g,d+=(c[f+4+3]-d)*g;break;case 1:u=c[f+1],h=c[f+2],d=c[f+3];break;default:u=this.getBezierValue(r,f,1,p-2),h=this.getBezierValue(r,f,2,p+18-2),d=this.getBezierValue(r,f,3,p+18*2-2)}if(a==I.setup){let m=o.data;o.mixRotate=m.mixRotate+(u-m.mixRotate)*s,o.mixX=m.mixX+(h-m.mixX)*s,o.mixY=m.mixY+(d-m.mixY)*s}else o.mixRotate+=(u-o.mixRotate)*s,o.mixX+=(h-o.mixX)*s,o.mixY+=(d-o.mixY)*s}},cl=class extends _t{constructor(n,e,t){super(n,[`${tt.sequence}|${e}|${t.sequence.id}`]),this.slotIndex=e,this.attachment=t}getFrameEntries(){return cl.ENTRIES}getSlotIndex(){return this.slotIndex}getAttachment(){return this.attachment}setFrame(n,e,t,r,i){let s=this.frames;n*=cl.ENTRIES,s[n]=e,s[n+cl.MODE]=t|r<<4,s[n+cl.DELAY]=i}apply(n,e,t,r,i,s,a){let l=n.slots[this.slotIndex];if(!l.bone.active)return;let o=l.attachment,c=this.attachment;if(o!=c&&(!(o instanceof fn)||o.timelineAttachment!=c))return;let u=this.frames;if(t<u[0]){(s==I.setup||s==I.first)&&(l.sequenceIndex=-1);return}let h=_t.search(u,t,cl.ENTRIES),d=u[h],f=u[h+cl.MODE],p=u[h+cl.DELAY];if(!this.attachment.sequence)return;let m=f>>4,g=this.attachment.sequence.regions.length,v=rf[f&15];if(v!=pi.hold)switch(m+=(t-d)/p+1e-5|0,v){case pi.once:m=Math.min(g-1,m);break;case pi.loop:m%=g;break;case pi.pingpong:{let x=(g<<1)-2;m=x==0?0:m%x,m>=g&&(m=x-m);break}case pi.onceReverse:m=Math.max(g-1-m,0);break;case pi.loopReverse:m=g-1-m%g;break;case pi.pingpongReverse:{let x=(g<<1)-2;m=x==0?0:(m+g-1)%x,m>=g&&(m=x-m)}}l.sequenceIndex=m}},ko=cl;ko.ENTRIES=3;ko.MODE=1;ko.DELAY=2;var Js=class{constructor(n){this.tracks=new Array,this.timeScale=1,this.unkeyedState=0,this.events=new Array,this.listeners=new Array,this.queue=new km(this),this.propertyIDs=new qc,this.animationsChanged=!1,this.trackEntryPool=new as(()=>new Lm),this.data=n}static emptyAnimation(){return Js._emptyAnimation}update(n){n*=this.timeScale;let e=this.tracks;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(!i)continue;i.animationLast=i.nextAnimationLast,i.trackLast=i.nextTrackLast;let s=n*i.timeScale;if(i.delay>0){if(i.delay-=s,i.delay>0)continue;s=-i.delay,i.delay=0}let a=i.next;if(a){let l=i.trackLast-a.delay;if(l>=0){for(a.delay=0,a.trackTime+=i.timeScale==0?0:(l/i.timeScale+n)*a.timeScale,i.trackTime+=s,this.setCurrent(t,a,!0);a.mixingFrom;)a.mixTime+=n,a=a.mixingFrom;continue}}else if(i.trackLast>=i.trackEnd&&!i.mixingFrom){e[t]=null,this.queue.end(i),this.clearNext(i);continue}if(i.mixingFrom&&this.updateMixingFrom(i,n)){let l=i.mixingFrom;for(i.mixingFrom=null,l&&(l.mixingTo=null);l;)this.queue.end(l),l=l.mixingFrom}i.trackTime+=s}this.queue.drain()}updateMixingFrom(n,e){let t=n.mixingFrom;if(!t)return!0;let r=this.updateMixingFrom(t,e);return t.animationLast=t.nextAnimationLast,t.trackLast=t.nextTrackLast,n.mixTime>0&&n.mixTime>=n.mixDuration?((t.totalAlpha==0||n.mixDuration==0)&&(n.mixingFrom=t.mixingFrom,t.mixingFrom&&(t.mixingFrom.mixingTo=n),n.interruptAlpha=t.interruptAlpha,this.queue.end(t)),r):(t.trackTime+=e*t.timeScale,n.mixTime+=e,!1)}apply(n){if(!n)throw new Error("skeleton cannot be null.");this.animationsChanged&&this._animationsChanged();let e=this.events,t=this.tracks,r=!1;for(let a=0,l=t.length;a<l;a++){let o=t[a];if(!o||o.delay>0)continue;r=!0;let c=a==0?I.first:o.mixBlend,u=o.alpha;o.mixingFrom?u*=this.applyMixingFrom(o,n,c):o.trackTime>=o.trackEnd&&!o.next&&(u=0);let h=o.animationLast,d=o.getAnimationTime(),f=d,p=e;o.reverse&&(f=o.animation.duration-f,p=null);let m=o.animation.timelines,g=m.length;if(a==0&&u==1||c==I.add)for(let v=0;v<g;v++){F.webkit602BugfixHelper(u,c);let x=m[v];x instanceof mi?this.applyAttachmentTimeline(x,n,f,c,!0):x.apply(n,h,f,p,u,c,_e.mixIn)}else{let v=o.timelineMode,x=o.shortestRotation,y=!x&&o.timelinesRotation.length!=g<<1;y&&(o.timelinesRotation.length=g<<1);for(let _=0;_<g;_++){let b=m[_],w=v[_]==QC?c:I.setup;!x&&b instanceof gs?this.applyRotateTimeline(b,n,f,u,w,o.timelinesRotation,_<<1,y):b instanceof mi?this.applyAttachmentTimeline(b,n,f,c,!0):(F.webkit602BugfixHelper(u,c),b.apply(n,h,f,p,u,w,_e.mixIn))}}this.queueEvents(o,d),e.length=0,o.nextAnimationLast=d,o.nextTrackLast=o.trackTime}let i=this.unkeyedState+ok,s=n.slots;for(let a=0,l=n.slots.length;a<l;a++){let o=s[a];if(o.attachmentState==i){let c=o.data.attachmentName;o.setAttachment(c?n.getAttachment(o.data.index,c):null)}}return this.unkeyedState+=2,this.queue.drain(),r}applyMixingFrom(n,e,t){let r=n.mixingFrom;r.mixingFrom&&this.applyMixingFrom(r,e,t);let i=0;n.mixDuration==0?(i=1,t==I.first&&(t=I.setup)):(i=n.mixTime/n.mixDuration,i>1&&(i=1),t!=I.first&&(t=r.mixBlend));let s=i<r.attachmentThreshold,a=i<r.drawOrderThreshold,l=r.animation.timelines,o=l.length,c=r.alpha*n.interruptAlpha,u=c*(1-i),h=r.animationLast,d=r.getAnimationTime(),f=d,p=null;if(r.reverse?f=r.animation.duration-f:i<r.eventThreshold&&(p=this.events),t==I.add)for(let m=0;m<o;m++)l[m].apply(e,h,f,p,u,t,_e.mixOut);else{let m=r.timelineMode,g=r.timelineHoldMix,v=r.shortestRotation,x=!v&&r.timelinesRotation.length!=o<<1;x&&(r.timelinesRotation.length=o<<1),r.totalAlpha=0;for(let y=0;y<o;y++){let _=l[y],b=_e.mixOut,w,E=0;switch(m[y]){case QC:if(!a&&_ instanceof ys)continue;w=t,E=u;break;case ik:w=I.setup,E=u;break;case sk:w=t,E=c;break;case KC:w=I.setup,E=c;break;default:w=I.setup;let S=g[y];E=c*Math.max(0,1-S.mixTime/S.mixDuration);break}r.totalAlpha+=E,!v&&_ instanceof gs?this.applyRotateTimeline(_,e,f,E,w,r.timelinesRotation,y<<1,x):_ instanceof mi?this.applyAttachmentTimeline(_,e,f,w,s):(F.webkit602BugfixHelper(E,t),a&&_ instanceof ys&&w==I.setup&&(b=_e.mixIn),_.apply(e,h,f,p,E,w,b))}}return n.mixDuration>0&&this.queueEvents(r,d),this.events.length=0,r.nextAnimationLast=d,r.nextTrackLast=r.trackTime,i}applyAttachmentTimeline(n,e,t,r,i){let s=e.slots[n.slotIndex];s.bone.active&&(t<n.frames[0]?(r==I.setup||r==I.first)&&this.setAttachment(e,s,s.data.attachmentName,i):this.setAttachment(e,s,n.attachmentNames[_t.search1(n.frames,t)],i),s.attachmentState<=this.unkeyedState&&(s.attachmentState=this.unkeyedState+ok))}setAttachment(n,e,t,r){e.setAttachment(t?n.getAttachment(e.data.index,t):null),r&&(e.attachmentState=this.unkeyedState+L5)}applyRotateTimeline(n,e,t,r,i,s,a,l){if(l&&(s[a]=0),r==1){n.apply(e,0,t,null,1,i,_e.mixIn);return}let o=e.bones[n.boneIndex];if(!o.active)return;let c=n.frames,u=0,h=0;if(t<c[0])switch(i){case I.setup:o.rotation=o.data.rotation;default:return;case I.first:u=o.rotation,h=o.data.rotation}else u=i==I.setup?o.data.rotation:o.rotation,h=o.data.rotation+n.getCurveValue(t);let d=0,f=h-u;if(f-=(16384-(16384.499999999996-f/360|0))*360,f==0)d=s[a];else{let p=0,m=0;l?(p=0,m=f):(p=s[a],m=s[a+1]);let g=f>0,v=p>=0;D.signum(m)!=D.signum(f)&&Math.abs(m)<=90&&(Math.abs(p)>180&&(p+=360*D.signum(p)),v=g),d=f+p-p%360,v!=g&&(d+=360*D.signum(p)),s[a]=d}s[a+1]=f,o.rotation=u+d*r}queueEvents(n,e){let t=n.animationStart,r=n.animationEnd,i=r-t,s=n.trackLast%i,a=this.events,l=0,o=a.length;for(;l<o;l++){let u=a[l];if(u.time<s)break;u.time>r||this.queue.event(n,u)}let c=!1;for(n.loop?c=i==0||s>n.trackTime%i:c=e>=r&&n.animationLast<r,c&&this.queue.complete(n);l<o;l++){let u=a[l];u.time<t||this.queue.event(n,u)}}clearTracks(){let n=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let e=0,t=this.tracks.length;e<t;e++)this.clearTrack(e);this.tracks.length=0,this.queue.drainDisabled=n,this.queue.drain()}clearTrack(n){if(n>=this.tracks.length)return;let e=this.tracks[n];if(!e)return;this.queue.end(e),this.clearNext(e);let t=e;for(;;){let r=t.mixingFrom;if(!r)break;this.queue.end(r),t.mixingFrom=null,t.mixingTo=null,t=r}this.tracks[e.trackIndex]=null,this.queue.drain()}setCurrent(n,e,t){let r=this.expandToIndex(n);this.tracks[n]=e,e.previous=null,r&&(t&&this.queue.interrupt(r),e.mixingFrom=r,r.mixingTo=e,e.mixTime=0,r.mixingFrom&&r.mixDuration>0&&(e.interruptAlpha*=Math.min(1,r.mixTime/r.mixDuration)),r.timelinesRotation.length=0),this.queue.start(e)}setAnimation(n,e,t=!1){let r=this.data.skeletonData.findAnimation(e);if(!r)throw new Error(`Animation not found: ${e}`);return this.setAnimationWith(n,r,t)}setAnimationWith(n,e,t=!1){if(!e)throw new Error("animation cannot be null.");let r=!0,i=this.expandToIndex(n);i&&(i.nextTrackLast==-1?(this.tracks[n]=i.mixingFrom,this.queue.interrupt(i),this.queue.end(i),this.clearNext(i),i=i.mixingFrom,r=!1):this.clearNext(i));let s=this.trackEntry(n,e,t,i);return this.setCurrent(n,s,r),this.queue.drain(),s}addAnimation(n,e,t=!1,r=0){let i=this.data.skeletonData.findAnimation(e);if(!i)throw new Error(`Animation not found: ${e}`);return this.addAnimationWith(n,i,t,r)}addAnimationWith(n,e,t=!1,r=0){if(!e)throw new Error("animation cannot be null.");let i=this.expandToIndex(n);if(i)for(;i.next;)i=i.next;let s=this.trackEntry(n,e,t,i);return i?(i.next=s,s.previous=i,r<=0&&(r+=i.getTrackComplete()-s.mixDuration)):(this.setCurrent(n,s,!0),this.queue.drain()),s.delay=r,s}setEmptyAnimation(n,e=0){let t=this.setAnimationWith(n,Js.emptyAnimation(),!1);return t.mixDuration=e,t.trackEnd=e,t}addEmptyAnimation(n,e=0,t=0){let r=this.addAnimationWith(n,Js.emptyAnimation(),!1,t);return t<=0&&(r.delay+=r.mixDuration-e),r.mixDuration=e,r.trackEnd=e,r}setEmptyAnimations(n=0){let e=this.queue.drainDisabled;this.queue.drainDisabled=!0;for(let t=0,r=this.tracks.length;t<r;t++){let i=this.tracks[t];i&&this.setEmptyAnimation(i.trackIndex,n)}this.queue.drainDisabled=e,this.queue.drain()}expandToIndex(n){return n<this.tracks.length?this.tracks[n]:(F.ensureArrayCapacity(this.tracks,n+1,null),this.tracks.length=n+1,null)}trackEntry(n,e,t,r){let i=this.trackEntryPool.obtain();return i.reset(),i.trackIndex=n,i.animation=e,i.loop=t,i.holdPrevious=!1,i.reverse=!1,i.shortestRotation=!1,i.eventThreshold=0,i.attachmentThreshold=0,i.drawOrderThreshold=0,i.animationStart=0,i.animationEnd=e.duration,i.animationLast=-1,i.nextAnimationLast=-1,i.delay=0,i.trackTime=0,i.trackLast=-1,i.nextTrackLast=-1,i.trackEnd=Number.MAX_VALUE,i.timeScale=1,i.alpha=1,i.mixTime=0,i.mixDuration=r?this.data.getMix(r.animation,e):0,i.interruptAlpha=1,i.totalAlpha=0,i.mixBlend=I.replace,i}clearNext(n){let e=n.next;for(;e;)this.queue.dispose(e),e=e.next;n.next=null}_animationsChanged(){this.animationsChanged=!1,this.propertyIDs.clear();let n=this.tracks;for(let e=0,t=n.length;e<t;e++){let r=n[e];if(r){for(;r.mixingFrom;)r=r.mixingFrom;do(!r.mixingTo||r.mixBlend!=I.add)&&this.computeHold(r),r=r.mixingTo;while(r)}}}computeHold(n){let e=n.mixingTo,t=n.animation.timelines,r=n.animation.timelines.length,i=n.timelineMode;i.length=r;let s=n.timelineHoldMix;s.length=0;let a=this.propertyIDs;if(e&&e.holdPrevious){for(let l=0;l<r;l++)i[l]=a.addAll(t[l].getPropertyIds())?KC:sk;return}e:for(let l=0;l<r;l++){let o=t[l],c=o.getPropertyIds();if(!a.addAll(c))i[l]=QC;else if(!e||o instanceof mi||o instanceof ys||o instanceof Fo||!e.animation.hasTimeline(c))i[l]=ik;else{for(let u=e.mixingTo;u;u=u.mixingTo)if(!u.animation.hasTimeline(c)){if(n.mixDuration>0){i[l]=k5,s[l]=u;continue e}break}i[l]=KC}}}getCurrent(n){return n>=this.tracks.length?null:this.tracks[n]}addListener(n){if(!n)throw new Error("listener cannot be null.");this.listeners.push(n)}removeListener(n){let e=this.listeners.indexOf(n);e>=0&&this.listeners.splice(e,1)}clearListeners(){this.listeners.length=0}clearListenerNotifications(){this.queue.clear()}setAnimationByName(n,e,t){Js.deprecatedWarning1||(Js.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: AnimationState.setAnimationByName is deprecated, please use setAnimation from now on.")),this.setAnimation(n,e,t)}addAnimationByName(n,e,t,r){Js.deprecatedWarning2||(Js.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: AnimationState.addAnimationByName is deprecated, please use addAnimation from now on.")),this.addAnimation(n,e,t,r)}hasAnimation(n){return this.data.skeletonData.findAnimation(n)!==null}hasAnimationByName(n){return Js.deprecatedWarning3||(Js.deprecatedWarning3=!0,console.warn("Spine Deprecation Warning: AnimationState.hasAnimationByName is deprecated, please use hasAnimation from now on.")),this.hasAnimation(n)}},Dl=Js;Dl._emptyAnimation=new Ks("<empty>",[],0);Dl.deprecatedWarning1=!1;Dl.deprecatedWarning2=!1;Dl.deprecatedWarning3=!1;var Lo=class{constructor(){this.animation=null,this.previous=null,this.next=null,this.mixingFrom=null,this.mixingTo=null,this.listener=null,this.trackIndex=0,this.loop=!1,this.holdPrevious=!1,this.reverse=!1,this.shortestRotation=!1,this.eventThreshold=0,this.attachmentThreshold=0,this.drawOrderThreshold=0,this.animationStart=0,this.animationEnd=0,this.animationLast=0,this.nextAnimationLast=0,this.delay=0,this.trackTime=0,this.trackLast=0,this.nextTrackLast=0,this.trackEnd=0,this.timeScale=0,this.alpha=0,this.mixTime=0,this.mixDuration=0,this.interruptAlpha=0,this.totalAlpha=0,this.mixBlend=I.replace,this.timelineMode=new Array,this.timelineHoldMix=new Array,this.timelinesRotation=new Array}reset(){this.next=null,this.previous=null,this.mixingFrom=null,this.mixingTo=null,this.animation=null,this.listener=null,this.timelineMode.length=0,this.timelineHoldMix.length=0,this.timelinesRotation.length=0}getAnimationTime(){if(this.loop){let n=this.animationEnd-this.animationStart;return n==0?this.animationStart:this.trackTime%n+this.animationStart}return Math.min(this.trackTime+this.animationStart,this.animationEnd)}setAnimationLast(n){this.animationLast=n,this.nextAnimationLast=n}isComplete(){return this.trackTime>=this.animationEnd-this.animationStart}resetRotationDirections(){this.timelinesRotation.length=0}getTrackComplete(){let n=this.animationEnd-this.animationStart;if(n!=0){if(this.loop)return n*(1+(this.trackTime/n|0));if(this.trackTime<n)return n}return this.trackTime}get time(){return Lo.deprecatedWarning1||(Lo.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime}set time(n){Lo.deprecatedWarning1||(Lo.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: TrackEntry.time is deprecated, please use trackTime from now on.")),this.trackTime=n}get endTime(){return Lo.deprecatedWarning2||(Lo.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime}set endTime(n){Lo.deprecatedWarning2||(Lo.deprecatedWarning2=!0,console.warn("Spine Deprecation Warning: TrackEntry.endTime is deprecated, please use trackEnd from now on.")),this.trackTime=n}loopsCount(){return Math.floor(this.trackTime/this.trackEnd)}},Lm=Lo;Lm.deprecatedWarning1=!1;Lm.deprecatedWarning2=!1;var km=class{constructor(e){this.objects=[],this.drainDisabled=!1,this.animState=e}start(e){this.objects.push(wr.start),this.objects.push(e),this.animState.animationsChanged=!0}interrupt(e){this.objects.push(wr.interrupt),this.objects.push(e)}end(e){this.objects.push(wr.end),this.objects.push(e),this.animState.animationsChanged=!0}dispose(e){this.objects.push(wr.dispose),this.objects.push(e)}complete(e){this.objects.push(wr.complete),this.objects.push(e)}event(e,t){this.objects.push(wr.event),this.objects.push(e),this.objects.push(t)}drain(){if(this.drainDisabled)return;this.drainDisabled=!0;let e=this.objects,t=this.animState.listeners;for(let r=0;r<e.length;r+=2){let i=e[r],s=e[r+1];switch(i){case wr.start:s.listener&&s.listener.start&&s.listener.start(s);for(let l=0;l<t.length;l++){let o=t[l];o.start&&o.start(s)}break;case wr.interrupt:s.listener&&s.listener.interrupt&&s.listener.interrupt(s);for(let l=0;l<t.length;l++){let o=t[l];o.interrupt&&o.interrupt(s)}break;case wr.end:s.listener&&s.listener.end&&s.listener.end(s);for(let l=0;l<t.length;l++){let o=t[l];o.end&&o.end(s)}case wr.dispose:s.listener&&s.listener.dispose&&s.listener.dispose(s);for(let l=0;l<t.length;l++){let o=t[l];o.dispose&&o.dispose(s)}this.animState.trackEntryPool.free(s);break;case wr.complete:s.listener&&s.listener.complete&&s.listener.complete(s);for(let l=0;l<t.length;l++){let o=t[l];o.complete&&o.complete(s)}break;case wr.event:let a=e[r+++2];s.listener&&s.listener.event&&s.listener.event(s,a);for(let l=0;l<t.length;l++){let o=t[l];o.event&&o.event(s,a)}break}}this.clear(),this.drainDisabled=!1}clear(){this.objects.length=0}},wr=(n=>(n[n.start=0]="start",n[n.interrupt=1]="interrupt",n[n.end=2]="end",n[n.dispose=3]="dispose",n[n.complete=4]="complete",n[n.event=5]="event",n))(wr||{}),tv=class{start(e){}interrupt(e){}end(e){}dispose(e){}complete(e){}event(e,t){}},QC=0,ik=1,sk=2,KC=3,k5=4,ok=1,L5=2;var sf=class{constructor(e){if(this.animationToMixTime={},this.defaultMix=0,!e)throw new Error("skeletonData cannot be null.");this.skeletonData=e}setMix(e,t,r){let i=this.skeletonData.findAnimation(e);if(!i)throw new Error(`Animation not found: ${e}`);let s=this.skeletonData.findAnimation(t);if(!s)throw new Error(`Animation not found: ${t}`);this.setMixWith(i,s,r)}setMixWith(e,t,r){if(!e)throw new Error("from cannot be null.");if(!t)throw new Error("to cannot be null.");let i=`${e.name}.${t.name}`;this.animationToMixTime[i]=r}getMix(e,t){let r=`${e.name}.${t.name}`,i=this.animationToMixTime[r];return i===void 0?this.defaultMix:i}};var pu=class{constructor(e){this.atlas=e}loadSequence(e,t,r){let i=r.regions;for(let s=0,a=i.length;s<a;s++){let l=r.getPath(t,s),o=this.atlas.findRegion(l);if(o==null)throw new Error(`Region not found in atlas: ${l} (sequence: ${e})`);i[s]=o,i[s].renderObject=i[s]}}newRegionAttachment(e,t,r,i){let s=new Ue(t,r);if(i!=null)this.loadSequence(t,r,i);else{let a=this.atlas.findRegion(r);if(!a)throw new Error(`Region not found in atlas: ${r} (region attachment: ${t})`);a.renderObject=a,s.region=a}return s}newMeshAttachment(e,t,r,i){let s=new Qs(t,r);if(i!=null)this.loadSequence(t,r,i);else{let a=this.atlas.findRegion(r);if(!a)throw new Error(`Region not found in atlas: ${r} (mesh attachment: ${t})`);a.renderObject=a,s.region=a}return s}newBoundingBoxAttachment(e,t){return new ef(t)}newPathAttachment(e,t){return new ms(t)}newPointAttachment(e,t){return new nf(t)}newClippingAttachment(e,t){return new tf(t)}};var mu=class{constructor(e,t,r){if(this.matrix=new ke,this.parent=null,this.children=new Array,this.x=0,this.y=0,this.rotation=0,this.scaleX=0,this.scaleY=0,this.shearX=0,this.shearY=0,this.ax=0,this.ay=0,this.arotation=0,this.ascaleX=0,this.ascaleY=0,this.ashearX=0,this.ashearY=0,this.sorted=!1,this.active=!1,!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.skeleton=t,this.parent=r,this.setToSetupPose()}get worldX(){return this.matrix.tx}get worldY(){return this.matrix.ty}isActive(){return this.active}update(){this.updateWorldTransformWith(this.ax,this.ay,this.arotation,this.ascaleX,this.ascaleY,this.ashearX,this.ashearY)}updateWorldTransform(){this.updateWorldTransformWith(this.x,this.y,this.rotation,this.scaleX,this.scaleY,this.shearX,this.shearY)}updateWorldTransformWith(e,t,r,i,s,a,l){this.ax=e,this.ay=t,this.arotation=r,this.ascaleX=i,this.ascaleY=s,this.ashearX=a,this.ashearY=l;let o=this.parent,c=this.matrix,u=this.skeleton.scaleX,h=Ct.yDown?-this.skeleton.scaleY:this.skeleton.scaleY;if(!o){let g=this.skeleton,v=r+90+l;c.a=D.cosDeg(r+a)*i*u,c.c=D.cosDeg(v)*s*u,c.b=D.sinDeg(r+a)*i*h,c.d=D.sinDeg(v)*s*h,c.tx=e*u+g.x,c.ty=t*h+g.y;return}let d=o.matrix.a,f=o.matrix.c,p=o.matrix.b,m=o.matrix.d;switch(c.tx=d*e+f*t+o.matrix.tx,c.ty=p*e+m*t+o.matrix.ty,this.data.transformMode){case ce.Normal:{let g=r+90+l,v=D.cosDeg(r+a)*i,x=D.cosDeg(g)*s,y=D.sinDeg(r+a)*i,_=D.sinDeg(g)*s;c.a=d*v+f*y,c.c=d*x+f*_,c.b=p*v+m*y,c.d=p*x+m*_;return}case ce.OnlyTranslation:{let g=r+90+l;c.a=D.cosDeg(r+a)*i,c.c=D.cosDeg(g)*s,c.b=D.sinDeg(r+a)*i,c.d=D.sinDeg(g)*s;break}case ce.NoRotationOrReflection:{let g=d*d+p*p,v=0;g>1e-4?(g=Math.abs(d*m-f*p)/g,d/=u,p/=h,f=p*g,m=d*g,v=Math.atan2(p,d)*D.radDeg):(d=0,p=0,v=90-Math.atan2(m,f)*D.radDeg);let x=r+a-v,y=r+l-v+90,_=D.cosDeg(x)*i,b=D.cosDeg(y)*s,w=D.sinDeg(x)*i,E=D.sinDeg(y)*s;c.a=d*_-f*w,c.c=d*b-f*E,c.b=p*_+m*w,c.d=p*b+m*E;break}case ce.NoScale:case ce.NoScaleOrReflection:{let g=D.cosDeg(r),v=D.sinDeg(r),x=(d*g+f*v)/u,y=(p*g+m*v)/h,_=Math.sqrt(x*x+y*y);_>1e-5&&(_=1/_),x*=_,y*=_,_=Math.sqrt(x*x+y*y),this.data.transformMode==ce.NoScale&&d*m-f*p<0!=(u<0!=h<0)&&(_=-_);let b=Math.PI/2+Math.atan2(y,x),w=Math.cos(b)*_,E=Math.sin(b)*_,S=D.cosDeg(a)*i,C=D.cosDeg(90+l)*s,R=D.sinDeg(a)*i,P=D.sinDeg(90+l)*s;c.a=x*S+w*R,c.c=x*C+w*P,c.b=y*S+E*R,c.d=y*C+E*P;break}}c.a*=u,c.c*=u,c.b*=h,c.d*=h}setToSetupPose(){let e=this.data;this.x=e.x,this.y=e.y,this.rotation=e.rotation,this.scaleX=e.scaleX,this.scaleY=e.scaleY,this.shearX=e.shearX,this.shearY=e.shearY}getWorldRotationX(){return Math.atan2(this.matrix.b,this.matrix.a)*D.radDeg}getWorldRotationY(){return Math.atan2(this.matrix.d,this.matrix.c)*D.radDeg}getWorldScaleX(){let e=this.matrix;return Math.sqrt(e.a*e.a+e.b*e.b)}getWorldScaleY(){let e=this.matrix;return Math.sqrt(e.c*e.c+e.d*e.d)}updateAppliedTransform(){let e=this.parent,t=this.matrix;if(!e){this.ax=t.tx-this.skeleton.x,this.ay=t.ty-this.skeleton.y,this.arotation=Math.atan2(t.b,t.a)*D.radDeg,this.ascaleX=Math.sqrt(t.a*t.a+t.b*t.b),this.ascaleY=Math.sqrt(t.c*t.c+t.d*t.d),this.ashearX=0,this.ashearY=Math.atan2(t.a*t.c+t.b*t.d,t.a*t.d-t.b*t.c)*D.radDeg;return}let r=e.matrix,i=1/(r.a*r.d-r.b*r.c),s=t.tx-r.tx,a=t.ty-r.ty;this.ax=s*r.d*i-a*r.c*i,this.ay=a*r.a*i-s*r.b*i;let l=i*r.d,o=i*r.a,c=i*r.c,u=i*r.b,h=l*t.a-c*t.b,d=l*t.c-c*t.d,f=o*t.b-u*t.a,p=o*t.d-u*t.c;if(this.ashearX=0,this.ascaleX=Math.sqrt(h*h+f*f),this.ascaleX>1e-4){let m=h*p-d*f;this.ascaleY=m/this.ascaleX,this.ashearY=Math.atan2(h*d+f*p,m)*D.radDeg,this.arotation=Math.atan2(f,h)*D.radDeg}else this.ascaleX=0,this.ascaleY=Math.sqrt(d*d+p*p),this.ashearY=0,this.arotation=90-Math.atan2(p,d)*D.radDeg}worldToLocal(e){let t=this.matrix,r=t.a,i=t.c,s=t.b,a=t.d,l=1/(r*a-i*s),o=e.x-t.tx,c=e.y-t.ty;return e.x=o*a*l-c*i*l,e.y=c*r*l-o*s*l,e}localToWorld(e){let t=this.matrix,r=e.x,i=e.y;return e.x=r*t.a+i*t.c+t.tx,e.y=r*t.b+i*t.d+t.ty,e}worldToLocalRotation(e){let t=D.sinDeg(e),r=D.cosDeg(e),i=this.matrix;return Math.atan2(i.a*t-i.b*r,i.d*r-i.c*t)*D.radDeg}localToWorldRotation(e){e-=this.rotation-this.shearX;let t=D.sinDeg(e),r=D.cosDeg(e),i=this.matrix;return Math.atan2(r*i.b+t*i.d,r*i.a+t*i.c)*D.radDeg}rotateWorld(e){let t=this.matrix,r=t.a,i=t.c,s=t.b,a=t.d,l=D.cosDeg(e),o=D.sinDeg(e);t.a=l*r-o*s,t.c=l*i-o*a,t.b=o*r+l*s,t.d=o*i+l*a}};var Rl=class{constructor(e,t,r){if(this.index=0,this.parent=null,this.length=0,this.x=0,this.y=0,this.rotation=0,this.scaleX=1,this.scaleY=1,this.shearX=0,this.shearY=0,this.transformMode=ce.Normal,this.skinRequired=!1,this.color=new X,e<0)throw new Error("index must be >= 0.");if(!t)throw new Error("name cannot be null.");this.index=e,this.name=t,this.parent=r}};var eo=class{constructor(e,t,r){this.name=e,this.order=t,this.skinRequired=r}};var Pl=class{constructor(e,t){if(this.intValue=0,this.floatValue=0,this.stringValue=null,this.time=0,this.volume=0,this.balance=0,!t)throw new Error("data cannot be null.");this.time=e,this.data=t}};var Ol=class{constructor(e){this.intValue=0,this.floatValue=0,this.stringValue=null,this.audioPath=null,this.volume=0,this.balance=0,this.name=e}};var of=class{constructor(e,t){if(this.bendDirection=0,this.compress=!1,this.stretch=!1,this.mix=1,this.softness=0,this.active=!1,!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.mix=e.mix,this.softness=e.softness,this.bendDirection=e.bendDirection,this.compress=e.compress,this.stretch=e.stretch,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let s=t.findBone(e.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${e.bones[i].name}`);this.bones.push(s)}let r=t.findBone(e.target.name);if(!r)throw new Error(`Couldn't find bone ${e.target.name}`);this.target=r}isActive(){return this.active}update(){if(this.mix==0)return;let e=this.target,t=this.bones;switch(t.length){case 1:this.apply1(t[0],e.worldX,e.worldY,this.compress,this.stretch,this.data.uniform,this.mix);break;case 2:this.apply2(t[0],t[1],e.worldX,e.worldY,this.bendDirection,this.stretch,this.data.uniform,this.softness,this.mix);break}}apply1(e,t,r,i,s,a,l){let o=e.parent.matrix;if(!o)throw new Error("IK bone must have parent.");let c=o.a,u=o.c,h=o.b,d=o.d,f=-e.ashearX-e.arotation,p=0,m=0,g=e.skeleton.scaleX,v=Ct.yDown?-e.skeleton.scaleY:e.skeleton.scaleY;switch(e.data.transformMode){case ce.OnlyTranslation:p=(t-e.worldX)*D.signum(g),m=(r-e.worldY)*D.signum(v);break;case ce.NoRotationOrReflection:let _=Math.abs(c*d-u*h)/(c*c+h*h),b=c/g,w=h/v;u=-w*_*g,d=b*_*v,f+=Math.atan2(w,b)*D.radDeg;default:let E=t-o.tx,S=r-o.ty,C=c*d-u*h;p=(E*d-S*u)/C-e.ax,m=(S*c-E*h)/C-e.ay}f+=Math.atan2(m,p)*D.radDeg,e.ascaleX<0&&(f+=180),f>180?f-=360:f<-180&&(f+=360);let x=e.ascaleX,y=e.ascaleY;if(i||s){switch(e.data.transformMode){case ce.NoScale:case ce.NoScaleOrReflection:p=t-e.worldX,m=r-e.worldY}let _=e.data.length*x,b=Math.sqrt(p*p+m*m);if(i&&b<_||s&&b>_&&_>1e-4){let w=(b/_-1)*l+1;x*=w,a&&(y*=w)}}e.updateWorldTransformWith(e.ax,e.ay,e.arotation+f*l,x,y,e.ashearX,e.ashearY)}apply2(e,t,r,i,s,a,l,o,c){let u=e.ax,h=e.ay,d=e.ascaleX,f=e.ascaleY,p=d,m=f,g=t.ascaleX,v=e.matrix,x=0,y=0,_=0;d<0?(d=-d,x=180,_=-1):(x=0,_=1),f<0&&(f=-f,_=-_),g<0?(g=-g,y=180):y=0;let b=t.ax,w=0,E=0,S=0,C=v.a,R=v.c,P=v.b,k=v.d,N=Math.abs(d-f)<=1e-4;!N||a?(w=0,E=C*b+v.tx,S=P*b+v.ty):(w=t.ay,E=C*b+R*w+v.tx,S=P*b+k*w+v.ty);let O=e.parent.matrix;if(!O)throw new Error("IK parent must itself have a parent.");C=O.a,R=O.c,P=O.b,k=O.d;let G=1/(C*k-R*P),q=E-O.tx,H=S-O.ty,L=(q*k-H*R)*G-u,U=(H*C-q*P)*G-h,V=Math.sqrt(L*L+U*U),Z=t.data.length*g,z,Y;if(V<1e-4){this.apply1(e,r,i,!1,a,!1,c),t.updateWorldTransformWith(b,w,0,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY);return}q=r-O.tx,H=i-O.ty;let $=(q*k-H*R)*G-u,ae=(H*C-q*P)*G-h,me=$*$+ae*ae;if(o!=0){o*=d*(g+1)*.5;let ge=Math.sqrt(me),Le=ge-V-Z*d+o;if(Le>0){let He=Math.min(1,Le/(o*2))-1;He=(Le-o*(1-He*He))/ge,$-=He*$,ae-=He*ae,me=$*$+ae*ae}}e:if(N){Z*=d;let ge=(me-V*V-Z*Z)/(2*V*Z);ge<-1?(ge=-1,Y=Math.PI*s):ge>1?(ge=1,Y=0,a&&(C=(Math.sqrt(me)/(V+Z)-1)*c+1,p*=C,l&&(m*=C))):Y=Math.acos(ge)*s,C=V+Z*ge,R=Z*Math.sin(Y),z=Math.atan2(ae*C-$*R,$*C+ae*R)}else{C=d*Z,R=f*Z;let ge=C*C,Le=R*R,He=Math.atan2(ae,$);P=Le*V*V+ge*me-ge*Le;let at=-2*Le*V,dt=Le-ge;if(k=at*at-4*dt*P,k>=0){let Ln=Math.sqrt(k);at<0&&(Ln=-Ln),Ln=-(at+Ln)*.5;let no=Ln/dt,aA=P/Ln,xu=Math.abs(no)<Math.abs(aA)?no:aA;if(xu*xu<=me){H=Math.sqrt(me-xu*xu)*s,z=He-Math.atan2(H,xu),Y=Math.atan2(H/f,(xu-V)/d);break e}}let Kn=D.PI,Wr=V-C,Yr=Wr*Wr,Xr=0,Sr=0,Cr=V+C,zr=Cr*Cr,jo=0;P=-C*V/(ge-Le),P>=-1&&P<=1&&(P=Math.acos(P),q=C*Math.cos(P)+V,H=R*Math.sin(P),k=q*q+H*H,k<Yr&&(Kn=P,Yr=k,Wr=q,Xr=H),k>zr&&(Sr=P,zr=k,Cr=q,jo=H)),me<=(Yr+zr)*.5?(z=He-Math.atan2(Xr*s,Wr),Y=Kn*s):(z=He-Math.atan2(jo*s,Cr),Y=Sr*s)}let Oe=Math.atan2(w,b)*_,qe=e.arotation;z=(z-Oe)*D.radDeg+x-qe,z>180?z-=360:z<-180&&(z+=360),e.updateWorldTransformWith(u,h,qe+z*c,p,m,0,0),qe=t.arotation,Y=((Y+Oe)*D.radDeg-t.ashearX)*_+y-qe,Y>180?Y-=360:Y<-180&&(Y+=360),t.updateWorldTransformWith(b,w,qe+Y*c,t.ascaleX,t.ascaleY,t.ashearX,t.ashearY)}};var Nl=class extends eo{constructor(e){super(e,0,!1),this.bones=new Array,this._target=null,this.bendDirection=1,this.compress=!1,this.stretch=!1,this.uniform=!1,this.mix=1,this.softness=0}set target(e){this._target=e}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}};var Fl=class extends eo{constructor(e){super(e,0,!1),this.bones=new Array,this._target=null,this.positionMode=Je.Fixed,this.spacingMode=kt.Fixed,this.rotateMode=ot.Chain,this.offsetRotation=0,this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0}set target(e){this._target=e}get target(){if(this._target)return this._target;throw new Error("SlotData not set.")}},kt=(n=>(n[n.Length=0]="Length",n[n.Fixed=1]="Fixed",n[n.Percent=2]="Percent",n[n.Proportional=3]="Proportional",n))(kt||{});var Bo=class{constructor(n,e){if(this.position=0,this.spacing=0,this.mixRotate=0,this.mixX=0,this.mixY=0,this.spaces=new Array,this.positions=new Array,this.world=new Array,this.curves=new Array,this.lengths=new Array,this.segments=new Array,this.active=!1,!n)throw new Error("data cannot be null.");if(!e)throw new Error("skeleton cannot be null.");this.data=n,this.bones=new Array;for(let r=0,i=n.bones.length;r<i;r++){let s=e.findBone(n.bones[r].name);if(!s)throw new Error(`Couldn't find bone ${n.bones[r].name}.`);this.bones.push(s)}let t=e.findSlot(n.target.name);if(!t)throw new Error(`Couldn't find target bone ${n.target.name}`);this.target=t,this.position=n.position,this.spacing=n.spacing,this.mixRotate=n.mixRotate,this.mixX=n.mixX,this.mixY=n.mixY}isActive(){return this.active}update(){let n=this.target.getAttachment();if(!(n instanceof ms))return;let e=this.mixRotate,t=this.mixX,r=this.mixY;if(e==0&&t==0&&r==0)return;let i=this.data,s=i.rotateMode==ot.Tangent,a=i.rotateMode==ot.ChainScale,l=this.bones,o=l.length,c=s?o:o+1,u=F.setArraySize(this.spaces,c),h=a?this.lengths=F.setArraySize(this.lengths,o):[],d=this.spacing;switch(i.spacingMode){case kt.Percent:if(a)for(let _=0,b=c-1;_<b;_++){let w=l[_],E=w.data.length;if(E<Bo.epsilon)h[_]=0;else{let S=E*w.matrix.a,C=E*w.matrix.b;h[_]=Math.sqrt(S*S+C*C)}}F.arrayFill(u,1,c,d);break;case kt.Proportional:let x=0;for(let _=0,b=c-1;_<b;){let w=l[_],E=w.data.length;if(E<Bo.epsilon)a&&(h[_]=0),u[++_]=d;else{let S=E*w.matrix.a,C=E*w.matrix.b,R=Math.sqrt(S*S+C*C);a&&(h[_]=R),u[++_]=R,x+=R}}if(x>0){x=c/x*d;for(let _=1;_<c;_++)u[_]*=x}break;default:let y=i.spacingMode==kt.Length;for(let _=0,b=c-1;_<b;){let w=l[_],E=w.data.length;if(E<Bo.epsilon)a&&(h[_]=0),u[++_]=d;else{let S=E*w.matrix.a,C=E*w.matrix.b,R=Math.sqrt(S*S+C*C);a&&(h[_]=R),u[++_]=(y?E+d:d)*R/E}}}let f=this.computeWorldPositions(n,c,s),p=f[0],m=f[1],g=i.offsetRotation,v=!1;if(g==0)v=i.rotateMode==ot.Chain;else{v=!1;let x=this.target.bone.matrix;g*=x.a*x.d-x.b*x.c>0?D.degRad:-D.degRad}for(let x=0,y=3;x<o;x++,y+=3){let _=l[x],b=_.matrix;b.tx+=(p-b.tx)*t,b.ty+=(m-b.ty)*r;let w=f[y],E=f[y+1],S=w-p,C=E-m;if(a){let R=h[x];if(R!=0){let P=(Math.sqrt(S*S+C*C)/R-1)*e+1;b.a*=P,b.b*=P}}if(p=w,m=E,e>0){let R=b.a,P=b.c,k=b.b,N=b.d,O=0,G=0,q=0;if(s?O=f[y-1]:u[x+1]==0?O=f[y+2]:O=Math.atan2(C,S),O-=Math.atan2(k,R),v){G=Math.cos(O),q=Math.sin(O);let H=_.data.length;p+=(H*(G*R-q*k)-S)*e,m+=(H*(q*R+G*k)-C)*e}else O+=g;O>D.PI?O-=D.PI2:O<-D.PI&&(O+=D.PI2),O*=e,G=Math.cos(O),q=Math.sin(O),b.a=G*R-q*k,b.c=G*P-q*N,b.b=q*R+G*k,b.d=q*P+G*N}_.updateAppliedTransform()}}computeWorldPositions(n,e,t){let r=this.target,i=this.position,s=this.spaces,a=F.setArraySize(this.positions,e*3+2),l=this.world,o=n.closed,c=n.worldVerticesLength,u=c/6,h=Bo.NONE;if(!n.constantSpeed){let H=n.lengths;u-=o?1:2;let L=H[u];this.data.positionMode==Je.Percent&&(i*=L);let U;switch(this.data.spacingMode){case kt.Percent:U=L;break;case kt.Proportional:U=L/e;break;default:U=1}l=F.setArraySize(this.world,8);for(let V=0,Z=0,z=0;V<e;V++,Z+=3){let Y=s[V]*U;i+=Y;let $=i;if(o)$%=L,$<0&&($+=L),z=0;else if($<0){h!=Bo.BEFORE&&(h=Bo.BEFORE,n.computeWorldVertices(r,2,4,l,0,2)),this.addBeforePosition($,l,0,a,Z);continue}else if($>L){h!=Bo.AFTER&&(h=Bo.AFTER,n.computeWorldVertices(r,c-6,4,l,0,2)),this.addAfterPosition($-L,l,0,a,Z);continue}for(;;z++){let ae=H[z];if(!($>ae)){if(z==0)$/=ae;else{let me=H[z-1];$=($-me)/(ae-me)}break}}z!=h&&(h=z,o&&z==u?(n.computeWorldVertices(r,c-4,4,l,0,2),n.computeWorldVertices(r,0,4,l,4,2)):n.computeWorldVertices(r,z*6+2,8,l,0,2)),this.addCurvePosition($,l[0],l[1],l[2],l[3],l[4],l[5],l[6],l[7],a,Z,t||V>0&&Y==0)}return a}o?(c+=2,l=F.setArraySize(this.world,c),n.computeWorldVertices(r,2,c-4,l,0,2),n.computeWorldVertices(r,0,2,l,c-4,2),l[c-2]=l[0],l[c-1]=l[1]):(u--,c-=4,l=F.setArraySize(this.world,c),n.computeWorldVertices(r,2,c,l,0,2));let d=F.setArraySize(this.curves,u),f=0,p=l[0],m=l[1],g=0,v=0,x=0,y=0,_=0,b=0,w=0,E=0,S=0,C=0,R=0,P=0,k=0,N=0;for(let H=0,L=2;H<u;H++,L+=6)g=l[L],v=l[L+1],x=l[L+2],y=l[L+3],_=l[L+4],b=l[L+5],w=(p-g*2+x)*.1875,E=(m-v*2+y)*.1875,S=((g-x)*3-p+_)*.09375,C=((v-y)*3-m+b)*.09375,R=w*2+S,P=E*2+C,k=(g-p)*.75+w+S*.16666667,N=(v-m)*.75+E+C*.16666667,f+=Math.sqrt(k*k+N*N),k+=R,N+=P,R+=S,P+=C,f+=Math.sqrt(k*k+N*N),k+=R,N+=P,f+=Math.sqrt(k*k+N*N),k+=R+S,N+=P+C,f+=Math.sqrt(k*k+N*N),d[H]=f,p=_,m=b;this.data.positionMode==Je.Percent&&(i*=f);let O;switch(this.data.spacingMode){case kt.Percent:O=f;break;case kt.Proportional:O=f/e;break;default:O=1}let G=this.segments,q=0;for(let H=0,L=0,U=0,V=0;H<e;H++,L+=3){let Z=s[H]*O;i+=Z;let z=i;if(o)z%=f,z<0&&(z+=f),U=0;else if(z<0){this.addBeforePosition(z,l,0,a,L);continue}else if(z>f){this.addAfterPosition(z-f,l,c-4,a,L);continue}for(;;U++){let Y=d[U];if(!(z>Y)){if(U==0)z/=Y;else{let $=d[U-1];z=(z-$)/(Y-$)}break}}if(U!=h){h=U;let Y=U*6;for(p=l[Y],m=l[Y+1],g=l[Y+2],v=l[Y+3],x=l[Y+4],y=l[Y+5],_=l[Y+6],b=l[Y+7],w=(p-g*2+x)*.03,E=(m-v*2+y)*.03,S=((g-x)*3-p+_)*.006,C=((v-y)*3-m+b)*.006,R=w*2+S,P=E*2+C,k=(g-p)*.3+w+S*.16666667,N=(v-m)*.3+E+C*.16666667,q=Math.sqrt(k*k+N*N),G[0]=q,Y=1;Y<8;Y++)k+=R,N+=P,R+=S,P+=C,q+=Math.sqrt(k*k+N*N),G[Y]=q;k+=R,N+=P,q+=Math.sqrt(k*k+N*N),G[8]=q,k+=R+S,N+=P+C,q+=Math.sqrt(k*k+N*N),G[9]=q,V=0}for(z*=q;;V++){let Y=G[V];if(!(z>Y)){if(V==0)z/=Y;else{let $=G[V-1];z=V+(z-$)/(Y-$)}break}}this.addCurvePosition(z*.1,p,m,g,v,x,y,_,b,a,L,t||H>0&&Z==0)}return a}addBeforePosition(n,e,t,r,i){let s=e[t],a=e[t+1],l=e[t+2]-s,o=e[t+3]-a,c=Math.atan2(o,l);r[i]=s+n*Math.cos(c),r[i+1]=a+n*Math.sin(c),r[i+2]=c}addAfterPosition(n,e,t,r,i){let s=e[t+2],a=e[t+3],l=s-e[t],o=a-e[t+1],c=Math.atan2(o,l);r[i]=s+n*Math.cos(c),r[i+1]=a+n*Math.sin(c),r[i+2]=c}addCurvePosition(n,e,t,r,i,s,a,l,o,c,u,h){if(n==0||isNaN(n)){c[u]=e,c[u+1]=t,c[u+2]=Math.atan2(i-t,r-e);return}let d=n*n,f=d*n,p=1-n,m=p*p,g=m*p,v=p*n,x=v*3,y=p*x,_=x*n,b=e*g+r*y+s*_+l*f,w=t*g+i*y+a*_+o*f;c[u]=b,c[u+1]=w,h&&(n<.001?c[u+2]=Math.atan2(i-t,r-e):c[u+2]=Math.atan2(w-(t*m+i*v*2+a*d),b-(e*m+r*v*2+s*d)))}},kl=Bo;kl.NONE=-1;kl.BEFORE=-2;kl.AFTER=-3;kl.epsilon=1e-5;var af=class{constructor(e,t){if(this.darkColor=null,this.attachment=null,this.attachmentState=0,this.sequenceIndex=-1,this.deform=new Array,!e)throw new Error("data cannot be null.");if(!t)throw new Error("bone cannot be null.");this.data=e,this.bone=t,this.color=new X,this.darkColor=e.darkColor?new X:null,this.setToSetupPose(),this.blendMode=this.data.blendMode}getSkeleton(){return this.bone.skeleton}getAttachment(){return this.attachment}setAttachment(e){this.attachment!=e&&((!(e instanceof fn)||!(this.attachment instanceof fn)||e.timelineAttachment!=this.attachment.timelineAttachment)&&(this.deform.length=0),this.attachment=e,this.sequenceIndex=-1)}setToSetupPose(){this.color.setFromColor(this.data.color),this.darkColor&&this.darkColor.setFromColor(this.data.darkColor),this.data.attachmentName?(this.attachment=null,this.setAttachment(this.bone.skeleton.getAttachment(this.data.index,this.data.attachmentName))):this.attachment=null}};var lf=class{constructor(e,t){if(this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.temp=new Li,this.active=!1,!e)throw new Error("data cannot be null.");if(!t)throw new Error("skeleton cannot be null.");this.data=e,this.mixRotate=e.mixRotate,this.mixX=e.mixX,this.mixY=e.mixY,this.mixScaleX=e.mixScaleX,this.mixScaleY=e.mixScaleY,this.mixShearY=e.mixShearY,this.bones=new Array;for(let i=0;i<e.bones.length;i++){let s=t.findBone(e.bones[i].name);if(!s)throw new Error(`Couldn't find bone ${e.bones[i].name}.`);this.bones.push(s)}let r=t.findBone(e.target.name);if(!r)throw new Error(`Couldn't find target bone ${e.target.name}.`);this.target=r}isActive(){return this.active}update(){this.mixRotate==0&&this.mixX==0&&this.mixY==0&&this.mixScaleX==0&&this.mixScaleX==0&&this.mixShearY==0||(this.data.local?this.data.relative?this.applyRelativeLocal():this.applyAbsoluteLocal():this.data.relative?this.applyRelativeWorld():this.applyAbsoluteWorld())}applyAbsoluteWorld(){let e=this.mixRotate,t=this.mixX,r=this.mixY,i=this.mixScaleX,s=this.mixScaleY,a=this.mixShearY,l=t!=0||r!=0,o=this.target,c=o.matrix,u=c.a,h=c.c,d=c.b,f=c.d,p=u*f-h*d>0?D.degRad:-D.degRad,m=this.data.offsetRotation*p,g=this.data.offsetShearY*p,v=this.bones;for(let x=0,y=v.length;x<y;x++){let _=v[x],b=_.matrix;if(e!=0){let w=b.a,E=b.c,S=b.b,C=b.d,R=Math.atan2(d,u)-Math.atan2(S,w)+m;R>D.PI?R-=D.PI2:R<-D.PI&&(R+=D.PI2),R*=e;let P=Math.cos(R),k=Math.sin(R);b.a=P*w-k*S,b.c=P*E-k*C,b.b=k*w+P*S,b.d=k*E+P*C}if(l){let w=this.temp;o.localToWorld(w.set(this.data.offsetX,this.data.offsetY)),b.tx+=(w.x-b.tx)*t,b.ty+=(w.y-b.ty)*r}if(i!=0){let w=Math.sqrt(b.a*b.a+b.b*b.b);w!=0&&(w=(w+(Math.sqrt(u*u+d*d)-w+this.data.offsetScaleX)*i)/w),b.a*=w,b.b*=w}if(s!=0){let w=Math.sqrt(b.c*b.c+b.d*b.d);w!=0&&(w=(w+(Math.sqrt(h*h+f*f)-w+this.data.offsetScaleY)*s)/w),b.c*=w,b.d*=w}if(a>0){let w=b.c,E=b.d,S=Math.atan2(E,w),C=Math.atan2(f,h)-Math.atan2(d,u)-(S-Math.atan2(b.b,b.a));C>D.PI?C-=D.PI2:C<-D.PI&&(C+=D.PI2),C=S+(C+g)*a;let R=Math.sqrt(w*w+E*E);b.c=Math.cos(C)*R,b.d=Math.sin(C)*R}_.updateAppliedTransform()}}applyRelativeWorld(){let e=this.mixRotate,t=this.mixX,r=this.mixY,i=this.mixScaleX,s=this.mixScaleY,a=this.mixShearY,l=t!=0||r!=0,o=this.target,c=o.matrix,u=c.a,h=c.c,d=c.b,f=c.d,p=u*f-h*d>0?D.degRad:-D.degRad,m=this.data.offsetRotation*p,g=this.data.offsetShearY*p,v=this.bones;for(let x=0,y=v.length;x<y;x++){let _=v[x],b=_.matrix;if(e!=0){let w=b.a,E=b.c,S=b.b,C=b.d,R=Math.atan2(d,u)+m;R>D.PI?R-=D.PI2:R<-D.PI&&(R+=D.PI2),R*=e;let P=Math.cos(R),k=Math.sin(R);b.a=P*w-k*S,b.c=P*E-k*C,b.b=k*w+P*S,b.d=k*E+P*C}if(l){let w=this.temp;o.localToWorld(w.set(this.data.offsetX,this.data.offsetY)),b.tx+=w.x*t,b.ty+=w.y*r}if(i!=0){let w=(Math.sqrt(u*u+d*d)-1+this.data.offsetScaleX)*i+1;b.a*=w,b.b*=w}if(s!=0){let w=(Math.sqrt(h*h+f*f)-1+this.data.offsetScaleY)*s+1;b.c*=w,b.d*=w}if(a>0){let w=Math.atan2(f,h)-Math.atan2(d,u);w>D.PI?w-=D.PI2:w<-D.PI&&(w+=D.PI2);let E=b.c,S=b.d;w=Math.atan2(S,E)+(w-D.PI/2+g)*a;let C=Math.sqrt(E*E+S*S);b.c=Math.cos(w)*C,b.d=Math.sin(w)*C}_.updateAppliedTransform()}}applyAbsoluteLocal(){let e=this.mixRotate,t=this.mixX,r=this.mixY,i=this.mixScaleX,s=this.mixScaleY,a=this.mixShearY,l=this.target,o=this.bones;for(let c=0,u=o.length;c<u;c++){let h=o[c],d=h.arotation;if(e!=0){let x=l.arotation-d+this.data.offsetRotation;x-=(16384-(16384.499999999996-x/360|0))*360,d+=x*e}let f=h.ax,p=h.ay;f+=(l.ax-f+this.data.offsetX)*t,p+=(l.ay-p+this.data.offsetY)*r;let m=h.ascaleX,g=h.ascaleY;i!=0&&m!=0&&(m=(m+(l.ascaleX-m+this.data.offsetScaleX)*i)/m),s!=0&&g!=0&&(g=(g+(l.ascaleY-g+this.data.offsetScaleY)*s)/g);let v=h.ashearY;if(a!=0){let x=l.ashearY-v+this.data.offsetShearY;x-=(16384-(16384.499999999996-x/360|0))*360,v+=x*a}h.updateWorldTransformWith(f,p,d,m,g,h.ashearX,v)}}applyRelativeLocal(){let e=this.mixRotate,t=this.mixX,r=this.mixY,i=this.mixScaleX,s=this.mixScaleY,a=this.mixShearY,l=this.target,o=this.bones;for(let c=0,u=o.length;c<u;c++){let h=o[c],d=h.arotation+(l.arotation+this.data.offsetRotation)*e,f=h.ax+(l.ax+this.data.offsetX)*t,p=h.ay+(l.ay+this.data.offsetY)*r,m=h.ascaleX*((l.ascaleX-1+this.data.offsetScaleX)*i+1),g=h.ascaleY*((l.ascaleY-1+this.data.offsetScaleY)*s+1),v=h.ashearY+(l.ashearY+this.data.offsetShearY)*a;h.updateWorldTransformWith(f,p,d,m,g,h.ashearX,v)}}};var Bm=class{constructor(n){if(this._updateCache=new Array,this.skin=null,this.scaleX=1,this.scaleY=1,this.x=0,this.y=0,!n)throw new Error("data cannot be null.");this.data=n,this.bones=new Array;for(let e=0;e<n.bones.length;e++){let t=n.bones[e],r;if(!t.parent)r=new mu(t,this,null);else{let i=this.bones[t.parent.index];r=new mu(t,this,i),i.children.push(r)}this.bones.push(r)}this.slots=new Array,this.drawOrder=new Array;for(let e=0;e<n.slots.length;e++){let t=n.slots[e],r=this.bones[t.boneData.index],i=new af(t,r);this.slots.push(i),this.drawOrder.push(i)}this.ikConstraints=new Array;for(let e=0;e<n.ikConstraints.length;e++){let t=n.ikConstraints[e];this.ikConstraints.push(new of(t,this))}this.transformConstraints=new Array;for(let e=0;e<n.transformConstraints.length;e++){let t=n.transformConstraints[e];this.transformConstraints.push(new lf(t,this))}this.pathConstraints=new Array;for(let e=0;e<n.pathConstraints.length;e++){let t=n.pathConstraints[e];this.pathConstraints.push(new kl(t,this))}this.color=new X(1,1,1,1),this.updateCache()}updateCache(){let n=this._updateCache;n.length=0;let e=this.bones;for(let c=0,u=e.length;c<u;c++){let h=e[c];h.sorted=h.data.skinRequired,h.active=!h.sorted}if(this.skin){let c=this.skin.bones;for(let u=0,h=this.skin.bones.length;u<h;u++){let d=this.bones[c[u].index];do d.sorted=!1,d.active=!0,d=d.parent;while(d)}}let t=this.ikConstraints,r=this.transformConstraints,i=this.pathConstraints,s=t.length,a=r.length,l=i.length,o=s+a+l;e:for(let c=0;c<o;c++){for(let u=0;u<s;u++){let h=t[u];if(h.data.order==c){this.sortIkConstraint(h);continue e}}for(let u=0;u<a;u++){let h=r[u];if(h.data.order==c){this.sortTransformConstraint(h);continue e}}for(let u=0;u<l;u++){let h=i[u];if(h.data.order==c){this.sortPathConstraint(h);continue e}}}for(let c=0,u=e.length;c<u;c++)this.sortBone(e[c])}sortIkConstraint(n){if(n.active=n.target.isActive()&&(!n.data.skinRequired||this.skin&&F.contains(this.skin.constraints,n.data,!0)),!n.active)return;let e=n.target;this.sortBone(e);let t=n.bones,r=t[0];if(this.sortBone(r),t.length==1)this._updateCache.push(n),this.sortReset(r.children);else{let i=t[t.length-1];this.sortBone(i),this._updateCache.push(n),this.sortReset(r.children),i.sorted=!0}}sortPathConstraint(n){if(n.active=n.target.bone.isActive()&&(!n.data.skinRequired||this.skin&&F.contains(this.skin.constraints,n.data,!0)),!n.active)return;let e=n.target,t=e.data.index,r=e.bone;this.skin&&this.sortPathConstraintAttachment(this.skin,t,r),this.data.defaultSkin&&this.data.defaultSkin!=this.skin&&this.sortPathConstraintAttachment(this.data.defaultSkin,t,r);for(let l=0,o=this.data.skins.length;l<o;l++)this.sortPathConstraintAttachment(this.data.skins[l],t,r);let i=e.getAttachment();i instanceof ms&&this.sortPathConstraintAttachmentWith(i,r);let s=n.bones,a=s.length;for(let l=0;l<a;l++)this.sortBone(s[l]);this._updateCache.push(n);for(let l=0;l<a;l++)this.sortReset(s[l].children);for(let l=0;l<a;l++)s[l].sorted=!0}sortTransformConstraint(n){if(n.active=n.target.isActive()&&(!n.data.skinRequired||this.skin&&F.contains(this.skin.constraints,n.data,!0)),!n.active)return;this.sortBone(n.target);let e=n.bones,t=e.length;if(n.data.local)for(let r=0;r<t;r++){let i=e[r];this.sortBone(i.parent),this.sortBone(i)}else for(let r=0;r<t;r++)this.sortBone(e[r]);this._updateCache.push(n);for(let r=0;r<t;r++)this.sortReset(e[r].children);for(let r=0;r<t;r++)e[r].sorted=!0}sortPathConstraintAttachment(n,e,t){let r=n.attachments[e];if(r)for(let i in r)this.sortPathConstraintAttachmentWith(r[i],t)}sortPathConstraintAttachmentWith(n,e){if(!(n instanceof ms))return;let t=n.bones;if(!t)this.sortBone(e);else{let r=this.bones;for(let i=0,s=t.length;i<s;){let a=t[i++];for(a+=i;i<a;)this.sortBone(r[t[i++]])}}}sortBone(n){if(!n||n.sorted)return;let e=n.parent;e&&this.sortBone(e),n.sorted=!0,this._updateCache.push(n)}sortReset(n){for(let e=0,t=n.length;e<t;e++){let r=n[e];r.active&&(r.sorted&&this.sortReset(r.children),r.sorted=!1)}}updateWorldTransform(){let n=this.bones;for(let t=0,r=n.length;t<r;t++){let i=n[t];i.ax=i.x,i.ay=i.y,i.arotation=i.rotation,i.ascaleX=i.scaleX,i.ascaleY=i.scaleY,i.ashearX=i.shearX,i.ashearY=i.shearY}let e=this._updateCache;for(let t=0,r=e.length;t<r;t++)e[t].update()}updateWorldTransformWith(n){let e=this.getRootBone(),t=n.matrix.a,r=n.matrix.c,i=n.matrix.b,s=n.matrix.d;e.matrix.tx=t*this.x+r*this.y+n.worldX,e.matrix.ty=i*this.x+s*this.y+n.worldY;let a=e.rotation+90+e.shearY,l=D.cosDeg(e.rotation+e.shearX)*e.scaleX,o=D.cosDeg(a)*e.scaleY,c=D.sinDeg(e.rotation+e.shearX)*e.scaleX,u=D.sinDeg(a)*e.scaleY,h=this.scaleX,d=Ct.yDown?-this.scaleY:this.scaleY;e.matrix.a=(t*l+r*c)*h,e.matrix.c=(t*o+r*u)*h,e.matrix.b=(i*l+s*c)*d,e.matrix.d=(i*o+s*u)*d;let f=this._updateCache;for(let p=0,m=f.length;p<m;p++){let g=f[p];g!=e&&g.update()}}setToSetupPose(){this.setBonesToSetupPose(),this.setSlotsToSetupPose()}setBonesToSetupPose(){let n=this.bones;for(let i=0,s=n.length;i<s;i++)n[i].setToSetupPose();let e=this.ikConstraints;for(let i=0,s=e.length;i<s;i++){let a=e[i];a.mix=a.data.mix,a.softness=a.data.softness,a.bendDirection=a.data.bendDirection,a.compress=a.data.compress,a.stretch=a.data.stretch}let t=this.transformConstraints;for(let i=0,s=t.length;i<s;i++){let a=t[i],l=a.data;a.mixRotate=l.mixRotate,a.mixX=l.mixX,a.mixY=l.mixY,a.mixScaleX=l.mixScaleX,a.mixScaleY=l.mixScaleY,a.mixShearY=l.mixShearY}let r=this.pathConstraints;for(let i=0,s=r.length;i<s;i++){let a=r[i],l=a.data;a.position=l.position,a.spacing=l.spacing,a.mixRotate=l.mixRotate,a.mixX=l.mixX,a.mixY=l.mixY}}setSlotsToSetupPose(){let n=this.slots;F.arrayCopy(n,0,this.drawOrder,0,n.length);for(let e=0,t=n.length;e<t;e++)n[e].setToSetupPose()}getRootBone(){return this.bones.length==0?null:this.bones[0]}findBone(n){if(!n)throw new Error("boneName cannot be null.");let e=this.bones;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findBoneIndex(n){if(!n)throw new Error("boneName cannot be null.");let e=this.bones;for(let t=0,r=e.length;t<r;t++)if(e[t].data.name==n)return t;return-1}findSlot(n){if(!n)throw new Error("slotName cannot be null.");let e=this.slots;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findSlotIndex(n){if(!n)throw new Error("slotName cannot be null.");let e=this.slots;for(let t=0,r=e.length;t<r;t++)if(e[t].data.name==n)return t;return-1}setSkinByName(n){let e=this.data.findSkin(n);if(!e)throw new Error(`Skin not found: ${n}`);this.setSkin(e)}setSkin(n){if(n!=this.skin){if(n)if(this.skin)n.attachAll(this,this.skin);else{let e=this.slots;for(let t=0,r=e.length;t<r;t++){let i=e[t],s=i.data.attachmentName;if(s){let a=n.getAttachment(t,s);a&&i.setAttachment(a)}}}this.skin=n,this.updateCache()}}getAttachmentByName(n,e){let t=this.data.findSlot(n);if(!t)throw new Error(`Can't find slot with name ${n}`);return this.getAttachment(t.index,e)}getAttachment(n,e){if(!e)throw new Error("attachmentName cannot be null.");if(this.skin){let t=this.skin.getAttachment(n,e);if(t)return t}return this.data.defaultSkin?this.data.defaultSkin.getAttachment(n,e):null}setAttachment(n,e){if(!n)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.data.name==n){let a=null;if(e&&(a=this.getAttachment(r,e),!a))throw new Error(`Attachment not found: ${e}, for slot: ${n}`);s.setAttachment(a);return}}throw new Error(`Slot not found: ${n}`)}findIkConstraint(n){if(!n)throw new Error("constraintName cannot be null.");let e=this.ikConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findTransformConstraint(n){if(!n)throw new Error("constraintName cannot be null.");let e=this.transformConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}findPathConstraint(n){if(!n)throw new Error("constraintName cannot be null.");let e=this.pathConstraints;for(let t=0,r=e.length;t<r;t++){let i=e[t];if(i.data.name==n)return i}return null}getBoundsRect(){let n=new Li,e=new Li;return this.getBounds(n,e),{x:n.x,y:n.y,width:e.x,height:e.y}}getBounds(n,e,t=new Array(2)){if(!n)throw new Error("offset cannot be null.");if(!e)throw new Error("size cannot be null.");let r=this.drawOrder,i=Number.POSITIVE_INFINITY,s=Number.POSITIVE_INFINITY,a=Number.NEGATIVE_INFINITY,l=Number.NEGATIVE_INFINITY;for(let o=0,c=r.length;o<c;o++){let u=r[o];if(!u.bone.active)continue;let h=0,d=null,f=u.getAttachment();if(f instanceof Ue)h=8,d=F.setArraySize(t,h,0),f.computeWorldVertices(u,d,0,2);else if(f instanceof Qs){let p=f;h=p.worldVerticesLength,d=F.setArraySize(t,h,0),p.computeWorldVertices(u,0,h,d,0,2)}if(d)for(let p=0,m=d.length;p<m;p+=2){let g=d[p],v=d[p+1];i=Math.min(i,g),s=Math.min(s,v),a=Math.max(a,g),l=Math.max(l,v)}}n.set(i,s),e.set(a-i,l-s)}get flipX(){return this.scaleX==-1}set flipX(n){Bm.deprecatedWarning1||(Bm.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleX=n?1:-1}get flipY(){return this.scaleY==-1}set flipY(n){Bm.deprecatedWarning1||(Bm.deprecatedWarning1=!0,console.warn("Spine Deprecation Warning: `Skeleton.flipX/flipY` was deprecated, please use scaleX/scaleY")),this.scaleY=n?1:-1}},Vm=Bm;Vm.deprecatedWarning1=!1;var Ll=class{constructor(){this.name=null,this.bones=new Array,this.slots=new Array,this.skins=new Array,this.defaultSkin=null,this.events=new Array,this.animations=new Array,this.ikConstraints=new Array,this.transformConstraints=new Array,this.pathConstraints=new Array,this.x=0,this.y=0,this.width=0,this.height=0,this.version=null,this.hash=null,this.fps=0,this.imagesPath=null,this.audioPath=null}findBone(e){if(!e)throw new Error("boneName cannot be null.");let t=this.bones;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findBoneIndex(e){if(!e)throw new Error("boneName cannot be null.");let t=this.bones;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}findSlot(e){if(!e)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findSlotIndex(e){if(!e)throw new Error("slotName cannot be null.");let t=this.slots;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}findSkin(e){if(!e)throw new Error("skinName cannot be null.");let t=this.skins;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findEvent(e){if(!e)throw new Error("eventDataName cannot be null.");let t=this.events;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findAnimation(e){if(!e)throw new Error("animationName cannot be null.");let t=this.animations;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findIkConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.ikConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findTransformConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.transformConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findPathConstraint(e){if(!e)throw new Error("constraintName cannot be null.");let t=this.pathConstraints;for(let r=0,i=t.length;r<i;r++){let s=t[r];if(s.name==e)return s}return null}findPathConstraintIndex(e){if(e==null)throw new Error("pathConstraintName cannot be null.");let t=this.pathConstraints;for(let r=0,i=t.length;r<i;r++)if(t[r].name==e)return r;return-1}};var Bl=class{constructor(e,t,r){if(this.index=0,this.color=new X(1,1,1,1),this.darkColor=null,this.attachmentName=null,this.blendMode=ne.NORMAL,e<0)throw new Error("index must be >= 0.");if(!t)throw new Error("name cannot be null.");if(!r)throw new Error("boneData cannot be null.");this.index=e,this.name=t,this.boneData=r}};var Vl=class extends eo{constructor(e){super(e,0,!1),this.bones=new Array,this._target=null,this.mixRotate=0,this.mixX=0,this.mixY=0,this.mixScaleX=0,this.mixScaleY=0,this.mixShearY=0,this.offsetRotation=0,this.offsetX=0,this.offsetY=0,this.offsetScaleX=0,this.offsetScaleY=0,this.offsetShearY=0,this.relative=!1,this.local=!1}set target(e){this._target=e}get target(){if(this._target)return this._target;throw new Error("BoneData not set.")}};var cf=class{constructor(e,t,r){this.slotIndex=e,this.name=t,this.attachment=r}},Vo=class{constructor(e){if(this.attachments=new Array,this.bones=Array(),this.constraints=new Array,!e)throw new Error("name cannot be null.");this.name=e}setAttachment(e,t,r){if(!r)throw new Error("attachment cannot be null.");let i=this.attachments;e>=i.length&&(i.length=e+1),i[e]||(i[e]={}),i[e][t]=r}addSkin(e){for(let r=0;r<e.bones.length;r++){let i=e.bones[r],s=!1;for(let a=0;a<this.bones.length;a++)if(this.bones[a]==i){s=!0;break}s||this.bones.push(i)}for(let r=0;r<e.constraints.length;r++){let i=e.constraints[r],s=!1;for(let a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){s=!0;break}s||this.constraints.push(i)}let t=e.getAttachments();for(let r=0;r<t.length;r++){let i=t[r];this.setAttachment(i.slotIndex,i.name,i.attachment)}}copySkin(e){for(let r=0;r<e.bones.length;r++){let i=e.bones[r],s=!1;for(let a=0;a<this.bones.length;a++)if(this.bones[a]==i){s=!0;break}s||this.bones.push(i)}for(let r=0;r<e.constraints.length;r++){let i=e.constraints[r],s=!1;for(let a=0;a<this.constraints.length;a++)if(this.constraints[a]==i){s=!0;break}s||this.constraints.push(i)}let t=e.getAttachments();for(let r=0;r<t.length;r++){let i=t[r];i.attachment&&(i.attachment instanceof Qs?(i.attachment=i.attachment.newLinkedMesh(),this.setAttachment(i.slotIndex,i.name,i.attachment)):(i.attachment=i.attachment.copy(),this.setAttachment(i.slotIndex,i.name,i.attachment)))}}getAttachment(e,t){let r=this.attachments[e];return r?r[t]:null}removeAttachment(e,t){let r=this.attachments[e];r&&delete r[t]}getAttachments(){let e=new Array;for(let t=0;t<this.attachments.length;t++){let r=this.attachments[t];if(r)for(let i in r){let s=r[i];s&&e.push(new cf(t,i,s))}}return e}getAttachmentsForSlot(e,t){let r=this.attachments[e];if(r)for(let i in r){let s=r[i];s&&t.push(new cf(e,i,s))}}clear(){this.attachments.length=0,this.bones.length=0,this.constraints.length=0}attachAll(e,t){let r=0;for(let i=0;i<e.slots.length;i++){let s=e.slots[i],a=s.getAttachment();if(a&&r<t.attachments.length){let l=t.attachments[r];for(let o in l){let c=l[o];if(a==c){let u=this.getAttachment(r,o);u&&s.setAttachment(u);break}}}r++}}};var gu=class{constructor(e){this.ver40=!1,this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,r=new Ll;r.name="";let i=new Ls(e),s=i.readInt32(),a=i.readInt32();r.hash=a==0&&s==0?null:a.toString(16)+s.toString(16),r.version=i.readString();let l=r.version.substr(0,3);if(l!=="4.0"&&l!=="4.1"){let h=`Spine 4.1 loader cant load version ${r.version}. Please configure your pixi-spine bundle`;console.error(h)}this.ver40=l==="4.0",r.x=i.readFloat(),r.y=i.readFloat(),r.width=i.readFloat(),r.height=i.readFloat();let o=i.readBoolean();o&&(r.fps=i.readFloat(),r.imagesPath=i.readString(),r.audioPath=i.readString());let c=0;c=i.readInt(!0);for(let h=0;h<c;h++){let d=i.readString();if(!d)throw new Error("String in string table must not be null.");i.strings.push(d)}c=i.readInt(!0);for(let h=0;h<c;h++){let d=i.readString();if(!d)throw new Error("Bone name must not be null.");let f=h==0?null:r.bones[i.readInt(!0)],p=new Rl(h,d,f);p.rotation=i.readFloat(),p.x=i.readFloat()*t,p.y=i.readFloat()*t,p.scaleX=i.readFloat(),p.scaleY=i.readFloat(),p.shearX=i.readFloat(),p.shearY=i.readFloat(),p.length=i.readFloat()*t,p.transformMode=i.readInt(!0),p.skinRequired=i.readBoolean(),o&&X.rgba8888ToColor(p.color,i.readInt32()),r.bones.push(p)}c=i.readInt(!0);for(let h=0;h<c;h++){let d=i.readString();if(!d)throw new Error("Slot name must not be null.");let f=r.bones[i.readInt(!0)],p=new Bl(h,d,f);X.rgba8888ToColor(p.color,i.readInt32());let m=i.readInt32();m!=-1&&X.rgb888ToColor(p.darkColor=new X,m),p.attachmentName=i.readStringRef(),p.blendMode=i.readInt(!0),r.slots.push(p)}c=i.readInt(!0);for(let h=0,d;h<c;h++){let f=i.readString();if(!f)throw new Error("IK constraint data name must not be null.");let p=new Nl(f);p.order=i.readInt(!0),p.skinRequired=i.readBoolean(),d=i.readInt(!0);for(let m=0;m<d;m++)p.bones.push(r.bones[i.readInt(!0)]);p.target=r.bones[i.readInt(!0)],p.mix=i.readFloat(),p.softness=i.readFloat()*t,p.bendDirection=i.readByte(),p.compress=i.readBoolean(),p.stretch=i.readBoolean(),p.uniform=i.readBoolean(),r.ikConstraints.push(p)}c=i.readInt(!0);for(let h=0,d;h<c;h++){let f=i.readString();if(!f)throw new Error("Transform constraint data name must not be null.");let p=new Vl(f);p.order=i.readInt(!0),p.skinRequired=i.readBoolean(),d=i.readInt(!0);for(let m=0;m<d;m++)p.bones.push(r.bones[i.readInt(!0)]);p.target=r.bones[i.readInt(!0)],p.local=i.readBoolean(),p.relative=i.readBoolean(),p.offsetRotation=i.readFloat(),p.offsetX=i.readFloat()*t,p.offsetY=i.readFloat()*t,p.offsetScaleX=i.readFloat(),p.offsetScaleY=i.readFloat(),p.offsetShearY=i.readFloat(),p.mixRotate=i.readFloat(),p.mixX=i.readFloat(),p.mixY=i.readFloat(),p.mixScaleX=i.readFloat(),p.mixScaleY=i.readFloat(),p.mixShearY=i.readFloat(),r.transformConstraints.push(p)}c=i.readInt(!0);for(let h=0,d;h<c;h++){let f=i.readString();if(!f)throw new Error("Path constraint data name must not be null.");let p=new Fl(f);p.order=i.readInt(!0),p.skinRequired=i.readBoolean(),d=i.readInt(!0);for(let m=0;m<d;m++)p.bones.push(r.bones[i.readInt(!0)]);p.target=r.slots[i.readInt(!0)],p.positionMode=i.readInt(!0),p.spacingMode=i.readInt(!0),p.rotateMode=i.readInt(!0),p.offsetRotation=i.readFloat(),p.position=i.readFloat(),p.positionMode==Je.Fixed&&(p.position*=t),p.spacing=i.readFloat(),(p.spacingMode==kt.Length||p.spacingMode==kt.Fixed)&&(p.spacing*=t),p.mixRotate=i.readFloat(),p.mixX=i.readFloat(),p.mixY=i.readFloat(),r.pathConstraints.push(p)}let u=this.readSkin(i,r,!0,o);u&&(r.defaultSkin=u,r.skins.push(u));{let h=r.skins.length;for(F.setArraySize(r.skins,c=h+i.readInt(!0));h<c;h++){let d=this.readSkin(i,r,!1,o);if(!d)throw new Error("readSkin() should not have returned null.");r.skins[h]=d}}c=this.linkedMeshes.length;for(let h=0;h<c;h++){let d=this.linkedMeshes[h],f=d.skin?r.findSkin(d.skin):r.defaultSkin;if(!f)throw new Error("Not skin found for linked mesh.");if(!d.parent)throw new Error("Linked mesh parent must not be null");let p=f.getAttachment(d.slotIndex,d.parent);if(!p)throw new Error(`Parent mesh not found: ${d.parent}`);d.mesh.timelineAttachment=d.inheritTimeline?p:d.mesh,d.mesh.setParentMesh(p)}this.linkedMeshes.length=0,c=i.readInt(!0);for(let h=0;h<c;h++){let d=i.readStringRef();if(!d)throw new Error;let f=new Ol(d);f.intValue=i.readInt(!1),f.floatValue=i.readFloat(),f.stringValue=i.readString(),f.audioPath=i.readString(),f.audioPath&&(f.volume=i.readFloat(),f.balance=i.readFloat()),r.events.push(f)}c=i.readInt(!0);for(let h=0;h<c;h++){let d=i.readString();if(!d)throw new Error("Animatio name must not be null.");r.animations.push(this.readAnimation(i,d,r))}return r}readSkin(e,t,r,i){let s=null,a=0;if(r){if(a=e.readInt(!0),a==0)return null;s=new Vo("default")}else{let l=e.readStringRef();if(!l)throw new Error("Skin name must not be null.");s=new Vo(l),s.bones.length=e.readInt(!0);for(let o=0,c=s.bones.length;o<c;o++)s.bones[o]=t.bones[e.readInt(!0)];for(let o=0,c=e.readInt(!0);o<c;o++)s.constraints.push(t.ikConstraints[e.readInt(!0)]);for(let o=0,c=e.readInt(!0);o<c;o++)s.constraints.push(t.transformConstraints[e.readInt(!0)]);for(let o=0,c=e.readInt(!0);o<c;o++)s.constraints.push(t.pathConstraints[e.readInt(!0)]);a=e.readInt(!0)}for(let l=0;l<a;l++){let o=e.readInt(!0);for(let c=0,u=e.readInt(!0);c<u;c++){let h=e.readStringRef();if(!h)throw new Error("Attachment name must not be null");let d=this.readAttachment(e,t,s,o,h,i);d&&s.setAttachment(o,h,d)}}return s}readAttachment(e,t,r,i,s,a){let l=this.scale,o=e.readStringRef();switch(o||(o=s),e.readByte()){case le.Region:{let c=e.readStringRef(),u=e.readFloat(),h=e.readFloat(),d=e.readFloat(),f=e.readFloat(),p=e.readFloat(),m=e.readFloat(),g=e.readFloat(),v=e.readInt32(),x=this.readSequence(e);c||(c=o);let y=this.attachmentLoader.newRegionAttachment(r,o,c,x);return y?(y.path=c,y.x=h*l,y.y=d*l,y.scaleX=f,y.scaleY=p,y.rotation=u,y.width=m*l,y.height=g*l,X.rgba8888ToColor(y.color,v),y.sequence=x,x==null&&y.updateRegion(),y):null}case le.BoundingBox:{let c=e.readInt(!0),u=this.readVertices(e,c),h=a?e.readInt32():0,d=this.attachmentLoader.newBoundingBoxAttachment(r,o);return d?(d.worldVerticesLength=c<<1,d.vertices=u.vertices,d.bones=u.bones,a&&X.rgba8888ToColor(d.color,h),d):null}case le.Mesh:{let c=e.readStringRef(),u=e.readInt32(),h=e.readInt(!0),d=this.readFloatArray(e,h<<1,1),f=this.readShortArray(e),p=this.readVertices(e,h),m=e.readInt(!0),g=this.readSequence(e),v=[],x=0,y=0;a&&(v=this.readShortArray(e),x=e.readFloat(),y=e.readFloat()),c||(c=o);let _=this.attachmentLoader.newMeshAttachment(r,o,c,g);return _?(_.path=c,X.rgba8888ToColor(_.color,u),_.bones=p.bones,_.vertices=p.vertices,_.worldVerticesLength=h<<1,_.triangles=f,_.regionUVs=new Float32Array(d),_.hullLength=m<<1,_.sequence=g,a&&(_.edges=v,_.width=x*l,_.height=y*l),_):null}case le.LinkedMesh:{let c=e.readStringRef(),u=e.readInt32(),h=e.readStringRef(),d=e.readStringRef(),f=e.readBoolean(),p=this.readSequence(e),m=0,g=0;a&&(m=e.readFloat(),g=e.readFloat()),c||(c=o);let v=this.attachmentLoader.newMeshAttachment(r,o,c,p);return v?(v.path=c,X.rgba8888ToColor(v.color,u),v.sequence=p,a&&(v.width=m*l,v.height=g*l),this.linkedMeshes.push(new eA(v,h,i,d,f)),v):null}case le.Path:{let c=e.readBoolean(),u=e.readBoolean(),h=e.readInt(!0),d=this.readVertices(e,h),f=F.newArray(h/3,0);for(let g=0,v=f.length;g<v;g++)f[g]=e.readFloat()*l;let p=a?e.readInt32():0,m=this.attachmentLoader.newPathAttachment(r,o);return m?(m.closed=c,m.constantSpeed=u,m.worldVerticesLength=h<<1,m.vertices=d.vertices,m.bones=d.bones,m.lengths=f,a&&X.rgba8888ToColor(m.color,p),m):null}case le.Point:{let c=e.readFloat(),u=e.readFloat(),h=e.readFloat(),d=a?e.readInt32():0,f=this.attachmentLoader.newPointAttachment(r,o);return f?(f.x=u*l,f.y=h*l,f.rotation=c,a&&X.rgba8888ToColor(f.color,d),f):null}case le.Clipping:{let c=e.readInt(!0),u=e.readInt(!0),h=this.readVertices(e,u),d=a?e.readInt32():0,f=this.attachmentLoader.newClippingAttachment(r,o);return f?(f.endSlot=t.slots[c],f.worldVerticesLength=u<<1,f.vertices=h.vertices,f.bones=h.bones,a&&X.rgba8888ToColor(f.color,d),f):null}}return null}readSequence(e){if(this.ver40||!e.readBoolean())return null;let t=new du(e.readInt(!0));return t.start=e.readInt(!0),t.digits=e.readInt(!0),t.setupIndex=e.readInt(!0),t}readDeformTimelineType(e){return this.ver40?ak:e.readByte()}readVertices(e,t){let r=this.scale,i=t<<1,s=new tA;if(!e.readBoolean())return s.vertices=this.readFloatArray(e,i,r),s;let a=new Array,l=new Array;for(let o=0;o<t;o++){let c=e.readInt(!0);l.push(c);for(let u=0;u<c;u++)l.push(e.readInt(!0)),a.push(e.readFloat()*r),a.push(e.readFloat()*r),a.push(e.readFloat())}return s.vertices=F.toFloatArray(a),s.bones=l,s}readFloatArray(e,t,r){let i=new Array(t);if(r==1)for(let s=0;s<t;s++)i[s]=e.readFloat();else for(let s=0;s<t;s++)i[s]=e.readFloat()*r;return i}readShortArray(e){let t=e.readInt(!0),r=new Array(t);for(let i=0;i<t;i++)r[i]=e.readShort();return r}readAnimation(e,t,r){e.readInt(!0);let i=new Array,s=this.scale;for(let c=0,u=e.readInt(!0);c<u;c++){let h=e.readInt(!0);for(let d=0,f=e.readInt(!0);d<f;d++){let p=e.readByte(),m=e.readInt(!0),g=m-1;switch(p){case z5:{let v=new mi(m,h);for(let x=0;x<m;x++)v.setFrame(x,e.readFloat(),e.readStringRef());i.push(v);break}case q5:{let v=e.readInt(!0),x=new vl(m,v,h),y=e.readFloat(),_=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255;for(let S=0,C=0;x.setFrame(S,y,_,b,w,E),S!=g;S++){let R=e.readFloat(),P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255,N=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255;switch(e.readByte()){case xs:x.setStepped(S);break;case vs:$e(e,x,C++,S,0,y,R,_,P,1),$e(e,x,C++,S,1,y,R,b,k,1),$e(e,x,C++,S,2,y,R,w,N,1),$e(e,x,C++,S,3,y,R,E,O,1)}y=R,_=P,b=k,w=N,E=O}i.push(x);break}case Z5:{let v=e.readInt(!0),x=new _l(m,v,h),y=e.readFloat(),_=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255;for(let E=0,S=0;x.setFrame(E,y,_,b,w),E!=g;E++){let C=e.readFloat(),R=e.readUnsignedByte()/255,P=e.readUnsignedByte()/255,k=e.readUnsignedByte()/255;switch(e.readByte()){case xs:x.setStepped(E);break;case vs:$e(e,x,S++,E,0,y,C,_,R,1),$e(e,x,S++,E,1,y,C,b,P,1),$e(e,x,S++,E,2,y,C,w,k,1)}y=C,_=R,b=P,w=k}i.push(x);break}case Q5:{let v=e.readInt(!0),x=new wl(m,v,h),y=e.readFloat(),_=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255,R=e.readUnsignedByte()/255;for(let P=0,k=0;x.setFrame(P,y,_,b,w,E,S,C,R),P!=g;P++){let N=e.readFloat(),O=e.readUnsignedByte()/255,G=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255,U=e.readUnsignedByte()/255,V=e.readUnsignedByte()/255;switch(e.readByte()){case xs:x.setStepped(P);break;case vs:$e(e,x,k++,P,0,y,N,_,O,1),$e(e,x,k++,P,1,y,N,b,G,1),$e(e,x,k++,P,2,y,N,w,q,1),$e(e,x,k++,P,3,y,N,E,H,1),$e(e,x,k++,P,4,y,N,S,L,1),$e(e,x,k++,P,5,y,N,C,U,1),$e(e,x,k++,P,6,y,N,R,V,1)}y=N,_=O,b=G,w=q,E=H,S=L,C=U,R=V}i.push(x);break}case K5:{let v=e.readInt(!0),x=new El(m,v,h),y=e.readFloat(),_=e.readUnsignedByte()/255,b=e.readUnsignedByte()/255,w=e.readUnsignedByte()/255,E=e.readUnsignedByte()/255,S=e.readUnsignedByte()/255,C=e.readUnsignedByte()/255;for(let R=0,P=0;x.setFrame(R,y,_,b,w,E,S,C),R!=g;R++){let k=e.readFloat(),N=e.readUnsignedByte()/255,O=e.readUnsignedByte()/255,G=e.readUnsignedByte()/255,q=e.readUnsignedByte()/255,H=e.readUnsignedByte()/255,L=e.readUnsignedByte()/255;switch(e.readByte()){case xs:x.setStepped(R);break;case vs:$e(e,x,P++,R,0,y,k,_,N,1),$e(e,x,P++,R,1,y,k,b,O,1),$e(e,x,P++,R,2,y,k,w,G,1),$e(e,x,P++,R,3,y,k,E,q,1),$e(e,x,P++,R,4,y,k,S,H,1),$e(e,x,P++,R,5,y,k,C,L,1)}y=k,_=N,b=O,w=G,E=q,S=H,C=L}i.push(x);break}case J5:{let v=new bl(m,e.readInt(!0),h),x=e.readFloat(),y=e.readUnsignedByte()/255;for(let _=0,b=0;v.setFrame(_,x,y),_!=g;_++){let w=e.readFloat(),E=e.readUnsignedByte()/255;switch(e.readByte()){case xs:v.setStepped(_);break;case vs:$e(e,v,b++,_,0,x,w,y,E,1)}x=w,y=E}i.push(v)}}}}for(let c=0,u=e.readInt(!0);c<u;c++){let h=e.readInt(!0);for(let d=0,f=e.readInt(!0);d<f;d++){let p=e.readByte(),m=e.readInt(!0),g=e.readInt(!0);switch(p){case B5:i.push(Uo(e,new gs(m,g,h),1));break;case V5:i.push(JC(e,new ul(m,g,h),s));break;case U5:i.push(Uo(e,new hl(m,g,h),s));break;case j5:i.push(Uo(e,new dl(m,g,h),s));break;case G5:i.push(JC(e,new fl(m,g,h),1));break;case $5:i.push(Uo(e,new pl(m,g,h),1));break;case H5:i.push(Uo(e,new ml(m,g,h),1));break;case W5:i.push(JC(e,new gl(m,g,h),1));break;case Y5:i.push(Uo(e,new yl(m,g,h),1));break;case X5:i.push(Uo(e,new xl(m,g,h),1))}}}for(let c=0,u=e.readInt(!0);c<u;c++){let h=e.readInt(!0),d=e.readInt(!0),f=d-1,p=new Cl(d,e.readInt(!0),h),m=e.readFloat(),g=e.readFloat(),v=e.readFloat()*s;for(let x=0,y=0;p.setFrame(x,m,g,v,e.readByte(),e.readBoolean(),e.readBoolean()),x!=f;x++){let _=e.readFloat(),b=e.readFloat(),w=e.readFloat()*s;switch(e.readByte()){case xs:p.setStepped(x);break;case vs:$e(e,p,y++,x,0,m,_,g,b,1),$e(e,p,y++,x,1,m,_,v,w,s)}m=_,g=b,v=w}i.push(p)}for(let c=0,u=e.readInt(!0);c<u;c++){let h=e.readInt(!0),d=e.readInt(!0),f=d-1,p=new Al(d,e.readInt(!0),h),m=e.readFloat(),g=e.readFloat(),v=e.readFloat(),x=e.readFloat(),y=e.readFloat(),_=e.readFloat(),b=e.readFloat();for(let w=0,E=0;p.setFrame(w,m,g,v,x,y,_,b),w!=f;w++){let S=e.readFloat(),C=e.readFloat(),R=e.readFloat(),P=e.readFloat(),k=e.readFloat(),N=e.readFloat(),O=e.readFloat();switch(e.readByte()){case xs:p.setStepped(w);break;case vs:$e(e,p,E++,w,0,m,S,g,C,1),$e(e,p,E++,w,1,m,S,v,R,1),$e(e,p,E++,w,2,m,S,x,P,1),$e(e,p,E++,w,3,m,S,y,k,1),$e(e,p,E++,w,4,m,S,_,N,1),$e(e,p,E++,w,5,m,S,b,O,1)}m=S,g=C,v=R,x=P,y=k,_=N,b=O}i.push(p)}for(let c=0,u=e.readInt(!0);c<u;c++){let h=e.readInt(!0),d=r.pathConstraints[h];for(let f=0,p=e.readInt(!0);f<p;f++)switch(e.readByte()){case tW:i.push(Uo(e,new Tl(e.readInt(!0),e.readInt(!0),h),d.positionMode==Je.Fixed?s:1));break;case nW:i.push(Uo(e,new Ml(e.readInt(!0),e.readInt(!0),h),d.spacingMode==kt.Length||d.spacingMode==kt.Fixed?s:1));break;case rW:let m=new Il(e.readInt(!0),e.readInt(!0),h),g=e.readFloat(),v=e.readFloat(),x=e.readFloat(),y=e.readFloat();for(let _=0,b=0,w=m.getFrameCount()-1;m.setFrame(_,g,v,x,y),_!=w;_++){let E=e.readFloat(),S=e.readFloat(),C=e.readFloat(),R=e.readFloat();switch(e.readByte()){case xs:m.setStepped(_);break;case vs:$e(e,m,b++,_,0,g,E,v,S,1),$e(e,m,b++,_,1,g,E,x,C,1),$e(e,m,b++,_,2,g,E,y,R,1)}g=E,v=S,x=C,y=R}i.push(m)}}for(let c=0,u=e.readInt(!0);c<u;c++){let h=r.skins[e.readInt(!0)];for(let d=0,f=e.readInt(!0);d<f;d++){let p=e.readInt(!0);for(let m=0,g=e.readInt(!0);m<g;m++){let v=e.readStringRef();if(!v)throw new Error("attachmentName must not be null.");let x=h.getAttachment(p,v),y=this.readDeformTimelineType(e),_=e.readInt(!0),b=_-1;switch(y){case ak:{let w=x,E=w.bones,S=w.vertices,C=E?S.length/3*2:S.length,R=e.readInt(!0),P=new Sl(_,R,p,w),k=e.readFloat();for(let N=0,O=0;;N++){let G,q=e.readInt(!0);if(q==0)G=E?F.newFloatArray(C):S;else{G=F.newFloatArray(C);let L=e.readInt(!0);if(q+=L,s==1)for(let U=L;U<q;U++)G[U]=e.readFloat();else for(let U=L;U<q;U++)G[U]=e.readFloat()*s;if(!E)for(let U=0,V=G.length;U<V;U++)G[U]+=S[U]}if(P.setFrame(N,k,G),N==b)break;let H=e.readFloat();switch(e.readByte()){case xs:P.setStepped(N);break;case vs:$e(e,P,O++,N,0,k,H,0,1,1)}k=H}i.push(P);break}case eW:{let w=new ko(_,p,x);for(let E=0;E<_;E++){let S=e.readFloat(),C=e.readInt32();w.setFrame(E,S,rf[C&15],C>>4,e.readFloat())}i.push(w);break}}}}}let a=e.readInt(!0);if(a>0){let c=new ys(a),u=r.slots.length;for(let h=0;h<a;h++){let d=e.readFloat(),f=e.readInt(!0),p=F.newArray(u,0);for(let x=u-1;x>=0;x--)p[x]=-1;let m=F.newArray(u-f,0),g=0,v=0;for(let x=0;x<f;x++){let y=e.readInt(!0);for(;g!=y;)m[v++]=g++;p[g+e.readInt(!0)]=g++}for(;g<u;)m[v++]=g++;for(let x=u-1;x>=0;x--)p[x]==-1&&(p[x]=m[--v]);c.setFrame(h,d,p)}i.push(c)}let l=e.readInt(!0);if(l>0){let c=new Fo(l);for(let u=0;u<l;u++){let h=e.readFloat(),d=r.events[e.readInt(!0)],f=new Pl(h,d);f.intValue=e.readInt(!1),f.floatValue=e.readFloat(),f.stringValue=e.readBoolean()?e.readString():d.stringValue,f.data.audioPath&&(f.volume=e.readFloat(),f.balance=e.readFloat()),c.setFrame(u,f)}i.push(c)}let o=0;for(let c=0,u=i.length;c<u;c++)o=Math.max(o,i[c].getDuration());return new Ks(t,i,o)}};gu.BlendModeValues=[ne.NORMAL,ne.ADD,ne.MULTIPLY,ne.SCREEN];var eA=class{constructor(e,t,r,i,s){this.mesh=e,this.skin=t,this.slotIndex=r,this.parent=i,this.inheritTimeline=s}},tA=class{constructor(e=null,t=null){this.bones=e,this.vertices=t}};function Uo(n,e,t){let r=n.readFloat(),i=n.readFloat()*t;for(let s=0,a=0,l=e.getFrameCount()-1;e.setFrame(s,r,i),s!=l;s++){let o=n.readFloat(),c=n.readFloat()*t;switch(n.readByte()){case xs:e.setStepped(s);break;case vs:$e(n,e,a++,s,0,r,o,i,c,t)}r=o,i=c}return e}function JC(n,e,t){let r=n.readFloat(),i=n.readFloat()*t,s=n.readFloat()*t;for(let a=0,l=0,o=e.getFrameCount()-1;e.setFrame(a,r,i,s),a!=o;a++){let c=n.readFloat(),u=n.readFloat()*t,h=n.readFloat()*t;switch(n.readByte()){case xs:e.setStepped(a);break;case vs:$e(n,e,l++,a,0,r,c,i,u,t),$e(n,e,l++,a,1,r,c,s,h,t)}r=c,i=u,s=h}return e}function $e(n,e,t,r,i,s,a,l,o,c){e.setBezier(t,r,i,s,l,n.readFloat(),n.readFloat()*c,n.readFloat(),n.readFloat()*c,a,o)}var B5=0,V5=1,U5=2,j5=3,G5=4,$5=5,H5=6,W5=7,Y5=8,X5=9,z5=0,q5=1,Z5=2,Q5=3,K5=4,J5=5,ak=0,eW=1,tW=0,nW=1,rW=2,xs=1,vs=2;var Um=class extends Ws{};var uf=class n{constructor(e){this.scale=1,this.linkedMeshes=new Array,this.attachmentLoader=e}readSkeletonData(e){let t=this.scale,r=new Ll,i=typeof e=="string"?JSON.parse(e):e,s=i.skeleton;if(s){r.hash=s.hash,r.version=s.spine;let a=r.version.substr(0,3);if(a!=="4.0"&&a!=="4.1"){let l=`Spine 4.1 loader cant load version ${s.spine}. Please configure your pixi-spine bundle`;console.error(l)}r.x=s.x,r.y=s.y,r.width=s.width,r.height=s.height,r.fps=s.fps,r.imagesPath=s.images}if(i.bones)for(let a=0;a<i.bones.length;a++){let l=i.bones[a],o=null,c=j(l,"parent",null);if(c!=null&&(o=r.findBone(c),o==null))throw new Error(`Parent bone not found: ${c}`);let u=new Rl(r.bones.length,l.name,o);u.length=j(l,"length",0)*t,u.x=j(l,"x",0)*t,u.y=j(l,"y",0)*t,u.rotation=j(l,"rotation",0),u.scaleX=j(l,"scaleX",1),u.scaleY=j(l,"scaleY",1),u.shearX=j(l,"shearX",0),u.shearY=j(l,"shearY",0),u.transformMode=F.enumValue(ce,j(l,"transform","Normal")),u.skinRequired=j(l,"skin",!1);let h=j(l,"color",null);h&&u.color.setFromString(h),r.bones.push(u)}if(i.slots)for(let a=0;a<i.slots.length;a++){let l=i.slots[a],o=r.findBone(l.bone);if(!o)throw new Error(`Couldn't find bone ${l.bone} for slot ${l.name}`);let c=new Bl(r.slots.length,l.name,o),u=j(l,"color",null);u&&c.color.setFromString(u);let h=j(l,"dark",null);h&&(c.darkColor=X.fromString(h)),c.attachmentName=j(l,"attachment",null),c.blendMode=n.blendModeFromString(j(l,"blend","normal")),r.slots.push(c)}if(i.ik)for(let a=0;a<i.ik.length;a++){let l=i.ik[a],o=new Nl(l.name);o.order=j(l,"order",0),o.skinRequired=j(l,"skin",!1);for(let c=0;c<l.bones.length;c++){let u=l.bones[c],h=r.findBone(u);if(h==null)throw new Error(`IK bone not found: ${u}`);o.bones.push(h)}o.target=r.findBone(l.target),o.mix=j(l,"mix",1),o.softness=j(l,"softness",0)*t,o.bendDirection=j(l,"bendPositive",!0)?1:-1,o.compress=j(l,"compress",!1),o.stretch=j(l,"stretch",!1),o.uniform=j(l,"uniform",!1),r.ikConstraints.push(o)}if(i.transform)for(let a=0;a<i.transform.length;a++){let l=i.transform[a],o=new Vl(l.name);o.order=j(l,"order",0),o.skinRequired=j(l,"skin",!1);for(let h=0;h<l.bones.length;h++){let d=l.bones[h],f=r.findBone(d);if(!f)throw new Error(`Couldn't find bone ${d} for transform constraint ${l.name}.`);o.bones.push(f)}let c=l.target,u=r.findBone(c);if(!u)throw new Error(`Couldn't find target bone ${c} for transform constraint ${l.name}.`);o.target=u,o.local=j(l,"local",!1),o.relative=j(l,"relative",!1),o.offsetRotation=j(l,"rotation",0),o.offsetX=j(l,"x",0)*t,o.offsetY=j(l,"y",0)*t,o.offsetScaleX=j(l,"scaleX",0),o.offsetScaleY=j(l,"scaleY",0),o.offsetShearY=j(l,"shearY",0),o.mixRotate=j(l,"mixRotate",1),o.mixX=j(l,"mixX",1),o.mixY=j(l,"mixY",o.mixX),o.mixScaleX=j(l,"mixScaleX",1),o.mixScaleY=j(l,"mixScaleY",o.mixScaleX),o.mixShearY=j(l,"mixShearY",1),r.transformConstraints.push(o)}if(i.path)for(let a=0;a<i.path.length;a++){let l=i.path[a],o=new Fl(l.name);o.order=j(l,"order",0),o.skinRequired=j(l,"skin",!1);for(let h=0;h<l.bones.length;h++){let d=l.bones[h],f=r.findBone(d);if(!f)throw new Error(`Couldn't find bone ${d} for path constraint ${l.name}.`);o.bones.push(f)}let c=l.target,u=r.findSlot(c);if(!u)throw new Error(`Couldn't find target slot ${c} for path constraint ${l.name}.`);o.target=u,o.positionMode=F.enumValue(Je,j(l,"positionMode","Percent")),o.spacingMode=F.enumValue(kt,j(l,"spacingMode","Length")),o.rotateMode=F.enumValue(ot,j(l,"rotateMode","Tangent")),o.offsetRotation=j(l,"rotation",0),o.position=j(l,"position",0),o.positionMode==Je.Fixed&&(o.position*=t),o.spacing=j(l,"spacing",0),(o.spacingMode==kt.Length||o.spacingMode==kt.Fixed)&&(o.spacing*=t),o.mixRotate=j(l,"mixRotate",1),o.mixX=j(l,"mixX",1),o.mixY=j(l,"mixY",o.mixX),r.pathConstraints.push(o)}if(i.skins)for(let a=0;a<i.skins.length;a++){let l=i.skins[a],o=new Vo(l.name);if(l.bones)for(let c=0;c<l.bones.length;c++){let u=l.bones[c],h=r.findBone(u);if(!h)throw new Error(`Couldn't find bone ${u} for skin ${l.name}.`);o.bones.push(h)}if(l.ik)for(let c=0;c<l.ik.length;c++){let u=l.ik[c],h=r.findIkConstraint(u);if(!h)throw new Error(`Couldn't find IK constraint ${u} for skin ${l.name}.`);o.constraints.push(h)}if(l.transform)for(let c=0;c<l.transform.length;c++){let u=l.transform[c],h=r.findTransformConstraint(u);if(!h)throw new Error(`Couldn't find transform constraint ${u} for skin ${l.name}.`);o.constraints.push(h)}if(l.path)for(let c=0;c<l.path.length;c++){let u=l.path[c],h=r.findPathConstraint(u);if(!h)throw new Error(`Couldn't find path constraint ${u} for skin ${l.name}.`);o.constraints.push(h)}for(let c in l.attachments){let u=r.findSlot(c);if(!u)throw new Error(`Couldn't find slot ${c} for skin ${l.name}.`);let h=l.attachments[c];for(let d in h){let f=this.readAttachment(h[d],o,u.index,d,r);f&&o.setAttachment(u.index,d,f)}}r.skins.push(o),o.name=="default"&&(r.defaultSkin=o)}for(let a=0,l=this.linkedMeshes.length;a<l;a++){let o=this.linkedMeshes[a],c=o.skin?r.findSkin(o.skin):r.defaultSkin;if(!c)throw new Error(`Skin not found: ${o.skin}`);let u=c.getAttachment(o.slotIndex,o.parent);if(!u)throw new Error(`Parent mesh not found: ${o.parent}`);o.mesh.timelineAttachment=o.inheritTimeline?u:o.mesh,o.mesh.setParentMesh(u)}if(this.linkedMeshes.length=0,i.events)for(let a in i.events){let l=i.events[a],o=new Ol(a);o.intValue=j(l,"int",0),o.floatValue=j(l,"float",0),o.stringValue=j(l,"string",""),o.audioPath=j(l,"audio",null),o.audioPath&&(o.volume=j(l,"volume",1),o.balance=j(l,"balance",0)),r.events.push(o)}if(i.animations)for(let a in i.animations){let l=i.animations[a];this.readAnimation(l,a,r)}return r}readAttachment(e,t,r,i,s){let a=this.scale;switch(i=j(e,"name",i),j(e,"type","region")){case"region":{let l=j(e,"path",i),o=this.readSequence(j(e,"sequence",null)),c=this.attachmentLoader.newRegionAttachment(t,i,l,o);if(!c)return null;c.path=l,c.x=j(e,"x",0)*a,c.y=j(e,"y",0)*a,c.scaleX=j(e,"scaleX",1),c.scaleY=j(e,"scaleY",1),c.rotation=j(e,"rotation",0),c.width=e.width*a,c.height=e.height*a,c.sequence=o;let u=j(e,"color",null);return u&&c.color.setFromString(u),c}case"boundingbox":{let l=this.attachmentLoader.newBoundingBoxAttachment(t,i);if(!l)return null;this.readVertices(e,l,e.vertexCount<<1);let o=j(e,"color",null);return o&&l.color.setFromString(o),l}case"mesh":case"linkedmesh":{let l=j(e,"path",i),o=this.readSequence(j(e,"sequence",null)),c=this.attachmentLoader.newMeshAttachment(t,i,l,o);if(!c)return null;c.path=l;let u=j(e,"color",null);u&&c.color.setFromString(u),c.width=j(e,"width",0)*a,c.height=j(e,"height",0)*a,c.sequence=o;let h=j(e,"parent",null);if(h)return this.linkedMeshes.push(new rA(c,j(e,"skin",null),r,h,j(e,"timelines",!0))),c;let d=e.uvs;return this.readVertices(e,c,d.length),c.triangles=e.triangles,c.regionUVs=new Float32Array(d),c.edges=j(e,"edges",null),c.hullLength=j(e,"hull",0)*2,c}case"path":{let l=this.attachmentLoader.newPathAttachment(t,i);if(!l)return null;l.closed=j(e,"closed",!1),l.constantSpeed=j(e,"constantSpeed",!0);let o=e.vertexCount;this.readVertices(e,l,o<<1);let c=F.newArray(o/3,0);for(let h=0;h<e.lengths.length;h++)c[h]=e.lengths[h]*a;l.lengths=c;let u=j(e,"color",null);return u&&l.color.setFromString(u),l}case"point":{let l=this.attachmentLoader.newPointAttachment(t,i);if(!l)return null;l.x=j(e,"x",0)*a,l.y=j(e,"y",0)*a,l.rotation=j(e,"rotation",0);let o=j(e,"color",null);return o&&l.color.setFromString(o),l}case"clipping":{let l=this.attachmentLoader.newClippingAttachment(t,i);if(!l)return null;let o=j(e,"end",null);if(o!=null){let h=s.findSlot(o);if(h==null)throw new Error(`Clipping end slot not found: ${o}`);l.endSlot=h}let c=e.vertexCount;this.readVertices(e,l,c<<1);let u=j(e,"color",null);return u&&l.color.setFromString(u),l}}return null}readSequence(e){if(e==null)return null;let t=new du(j(e,"count",0));return t.start=j(e,"start",1),t.digits=j(e,"digits",0),t.setupIndex=j(e,"setup",0),t}readVertices(e,t,r){let i=this.scale;t.worldVerticesLength=r;let s=e.vertices;if(r==s.length){let o=F.toFloatArray(s);if(i!=1)for(let c=0,u=s.length;c<u;c++)o[c]*=i;t.vertices=o;return}let a=new Array,l=new Array;for(let o=0,c=s.length;o<c;){let u=s[o++];l.push(u);for(let h=o+u*4;o<h;o+=4)l.push(s[o]),a.push(s[o+1]*i),a.push(s[o+2]*i),a.push(s[o+3])}t.bones=l,t.vertices=F.toFloatArray(a)}readAnimation(e,t,r){let i=this.scale,s=new Array;if(e.slots)for(let l in e.slots){let o=e.slots[l],c=r.findSlot(l);if(!c)throw new Error(`Slot not found: ${l}`);let u=c.index;for(let h in o){let d=o[h];if(!d)continue;let f=d.length;if(h=="attachment"){let p=new mi(f,u);for(let m=0;m<f;m++){let g=d[m];p.setFrame(m,j(g,"time",0),j(g,"name",null))}s.push(p)}else if(h=="rgba"){let p=new vl(f,f<<2,u),m=d[0],g=j(m,"time",0),v=X.fromString(m.color);for(let x=0,y=0;;x++){p.setFrame(x,g,v.r,v.g,v.b,v.a);let _=d[x+1];if(!_){p.shrink(y);break}let b=j(_,"time",0),w=X.fromString(_.color),E=m.curve;E&&(y=ze(E,p,y,x,0,g,b,v.r,w.r,1),y=ze(E,p,y,x,1,g,b,v.g,w.g,1),y=ze(E,p,y,x,2,g,b,v.b,w.b,1),y=ze(E,p,y,x,3,g,b,v.a,w.a,1)),g=b,v=w,m=_}s.push(p)}else if(h=="rgb"){let p=new _l(f,f*3,u),m=d[0],g=j(m,"time",0),v=X.fromString(m.color);for(let x=0,y=0;;x++){p.setFrame(x,g,v.r,v.g,v.b);let _=d[x+1];if(!_){p.shrink(y);break}let b=j(_,"time",0),w=X.fromString(_.color),E=m.curve;E&&(y=ze(E,p,y,x,0,g,b,v.r,w.r,1),y=ze(E,p,y,x,1,g,b,v.g,w.g,1),y=ze(E,p,y,x,2,g,b,v.b,w.b,1)),g=b,v=w,m=_}s.push(p)}else if(h=="alpha")s.push(to(d,new bl(f,f,u),0,1));else if(h=="rgba2"){let p=new wl(f,f*7,u),m=d[0],g=j(m,"time",0),v=X.fromString(m.light),x=X.fromString(m.dark);for(let y=0,_=0;;y++){p.setFrame(y,g,v.r,v.g,v.b,v.a,x.r,x.g,x.b);let b=d[y+1];if(!b){p.shrink(_);break}let w=j(b,"time",0),E=X.fromString(b.light),S=X.fromString(b.dark),C=m.curve;C&&(_=ze(C,p,_,y,0,g,w,v.r,E.r,1),_=ze(C,p,_,y,1,g,w,v.g,E.g,1),_=ze(C,p,_,y,2,g,w,v.b,E.b,1),_=ze(C,p,_,y,3,g,w,v.a,E.a,1),_=ze(C,p,_,y,4,g,w,x.r,S.r,1),_=ze(C,p,_,y,5,g,w,x.g,S.g,1),_=ze(C,p,_,y,6,g,w,x.b,S.b,1)),g=w,v=E,x=S,m=b}s.push(p)}else if(h=="rgb2"){let p=new El(f,f*6,u),m=d[0],g=j(m,"time",0),v=X.fromString(m.light),x=X.fromString(m.dark);for(let y=0,_=0;;y++){p.setFrame(y,g,v.r,v.g,v.b,x.r,x.g,x.b);let b=d[y+1];if(!b){p.shrink(_);break}let w=j(b,"time",0),E=X.fromString(b.light),S=X.fromString(b.dark),C=m.curve;C&&(_=ze(C,p,_,y,0,g,w,v.r,E.r,1),_=ze(C,p,_,y,1,g,w,v.g,E.g,1),_=ze(C,p,_,y,2,g,w,v.b,E.b,1),_=ze(C,p,_,y,3,g,w,x.r,S.r,1),_=ze(C,p,_,y,4,g,w,x.g,S.g,1),_=ze(C,p,_,y,5,g,w,x.b,S.b,1)),g=w,v=E,x=S,m=b}s.push(p)}}}if(e.bones)for(let l in e.bones){let o=e.bones[l],c=r.findBone(l);if(!c)throw new Error(`Bone not found: ${l}`);let u=c.index;for(let h in o){let d=o[h],f=d.length;if(f!=0){if(h==="rotate")s.push(to(d,new gs(f,f,u),0,1));else if(h==="translate"){let p=new ul(f,f<<1,u);s.push(nA(d,p,"x","y",0,i))}else if(h==="translatex"){let p=new hl(f,f,u);s.push(to(d,p,0,i))}else if(h==="translatey"){let p=new dl(f,f,u);s.push(to(d,p,0,i))}else if(h==="scale"){let p=new fl(f,f<<1,u);s.push(nA(d,p,"x","y",1,1))}else if(h==="scalex"){let p=new pl(f,f,u);s.push(to(d,p,1,1))}else if(h==="scaley"){let p=new ml(f,f,u);s.push(to(d,p,1,1))}else if(h==="shear"){let p=new gl(f,f<<1,u);s.push(nA(d,p,"x","y",0,1))}else if(h==="shearx"){let p=new yl(f,f,u);s.push(to(d,p,0,1))}else if(h==="sheary"){let p=new xl(f,f,u);s.push(to(d,p,0,1))}}}}if(e.ik)for(let l in e.ik){let o=e.ik[l],c=o[0];if(!c)continue;let u=r.findIkConstraint(l);if(!u)throw new Error(`IK Constraint not found: ${l}`);let h=r.ikConstraints.indexOf(u),d=new Cl(o.length,o.length<<1,h),f=j(c,"time",0),p=j(c,"mix",1),m=j(c,"softness",0)*i;for(let g=0,v=0;;g++){d.setFrame(g,f,p,m,j(c,"bendPositive",!0)?1:-1,j(c,"compress",!1),j(c,"stretch",!1));let x=o[g+1];if(!x){d.shrink(v);break}let y=j(x,"time",0),_=j(x,"mix",1),b=j(x,"softness",0)*i,w=c.curve;w&&(v=ze(w,d,v,g,0,f,y,p,_,1),v=ze(w,d,v,g,1,f,y,m,b,i)),f=y,p=_,m=b,c=x}s.push(d)}if(e.transform)for(let l in e.transform){let o=e.transform[l],c=o[0];if(!c)continue;let u=r.findTransformConstraint(l);if(!u)throw new Error(`Transform constraint not found: ${l}`);let h=r.transformConstraints.indexOf(u),d=new Al(o.length,o.length*6,h),f=j(c,"time",0),p=j(c,"mixRotate",1),m=j(c,"mixX",1),g=j(c,"mixY",m),v=j(c,"mixScaleX",1),x=j(c,"mixScaleY",v),y=j(c,"mixShearY",1);for(let _=0,b=0;;_++){d.setFrame(_,f,p,m,g,v,x,y);let w=o[_+1];if(!w){d.shrink(b);break}let E=j(w,"time",0),S=j(w,"mixRotate",1),C=j(w,"mixX",1),R=j(w,"mixY",C),P=j(w,"mixScaleX",1),k=j(w,"mixScaleY",P),N=j(w,"mixShearY",1),O=c.curve;O&&(b=ze(O,d,b,_,0,f,E,p,S,1),b=ze(O,d,b,_,1,f,E,m,C,1),b=ze(O,d,b,_,2,f,E,g,R,1),b=ze(O,d,b,_,3,f,E,v,P,1),b=ze(O,d,b,_,4,f,E,x,k,1),b=ze(O,d,b,_,5,f,E,y,N,1)),f=E,p=S,m=C,g=R,v=P,x=k,v=P,c=w}s.push(d)}if(e.path)for(let l in e.path){let o=e.path[l],c=r.findPathConstraint(l);if(!c)throw new Error(`Path constraint not found: ${l}`);let u=r.pathConstraints.indexOf(c);for(let h in o){let d=o[h],f=d[0];if(!f)continue;let p=d.length;if(h==="position"){let m=new Tl(p,p,u);s.push(to(d,m,0,c.positionMode==Je.Fixed?i:1))}else if(h==="spacing"){let m=new Ml(p,p,u);s.push(to(d,m,0,c.spacingMode==kt.Length||c.spacingMode==kt.Fixed?i:1))}else if(h==="mix"){let m=new Il(p,p*3,u),g=j(f,"time",0),v=j(f,"mixRotate",1),x=j(f,"mixX",1),y=j(f,"mixY",x);for(let _=0,b=0;;_++){m.setFrame(_,g,v,x,y);let w=d[_+1];if(!w){m.shrink(b);break}let E=j(w,"time",0),S=j(w,"mixRotate",1),C=j(w,"mixX",1),R=j(w,"mixY",C),P=f.curve;P&&(b=ze(P,m,b,_,0,g,E,v,S,1),b=ze(P,m,b,_,1,g,E,x,C,1),b=ze(P,m,b,_,2,g,E,y,R,1)),g=E,v=S,x=C,y=R,f=w}s.push(m)}}}if(e.deform){e.attachments={};for(let l in e.deform){let o=e.deform[l],c=e.attachments[l]={};for(let u in o){let h=o[u],d=c[u]={};for(let f in h)d[f]={deform:h[f]}}}}if(e.attachments)for(let l in e.attachments){let o=e.attachments[l],c=r.findSkin(l);if(c==null){if(Ct.FAIL_ON_NON_EXISTING_SKIN)throw new Error(`Skin not found: ${l}`);continue}for(let u in o){let h=o[u],d=r.findSlot(u);if(!d)throw new Error(`Slot not found: ${u}`);let f=d.index;for(let p in h){let m=h[p],g=c.getAttachment(f,p);for(let v in m){let x=m[v],y=x[0];if(y){if(v=="deform"){let _=g.bones,b=g.vertices,w=_?b.length/3*2:b.length,E=new Sl(x.length,x.length,f,g),S=j(y,"time",0);for(let C=0,R=0;;C++){let P,k=j(y,"vertices",null);if(!k)P=_?F.newFloatArray(w):b;else{P=F.newFloatArray(w);let q=j(y,"offset",0);if(F.arrayCopy(k,0,P,q,k.length),i!=1)for(let H=q,L=H+k.length;H<L;H++)P[H]*=i;if(!_)for(let H=0;H<w;H++)P[H]+=b[H]}E.setFrame(C,S,P);let N=x[C+1];if(!N){E.shrink(R);break}let O=j(N,"time",0),G=y.curve;G&&(R=ze(G,E,R,C,0,S,O,0,1,1)),S=O,y=N}s.push(E)}else if(v=="sequence"){let _=new ko(x.length,f,g),b=0;for(let w=0;w<x.length;w++){let E=j(y,"delay",b),S=j(y,"time",0),C=pi[j(y,"mode","hold")],R=j(y,"index",0);_.setFrame(w,S,C,R,E),b=E,y=x[w+1]}s.push(_)}}}}}}if(e.drawOrder){let l=new ys(e.drawOrder.length),o=r.slots.length,c=0;for(let u=0;u<e.drawOrder.length;u++,c++){let h=e.drawOrder[u],d=null,f=j(h,"offsets",null);if(f){d=F.newArray(o,-1);let p=F.newArray(o-f.length,0),m=0,g=0;for(let v=0;v<f.length;v++){let x=f[v],y=r.findSlot(x.slot);if(!y)throw new Error(`Slot not found: ${y}`);let _=y.index;for(;m!=_;)p[g++]=m++;d[m+x.offset]=m++}for(;m<o;)p[g++]=m++;for(let v=o-1;v>=0;v--)d[v]==-1&&(d[v]=p[--g])}l.setFrame(c,j(h,"time",0),d)}s.push(l)}if(e.events){let l=new Fo(e.events.length),o=0;for(let c=0;c<e.events.length;c++,o++){let u=e.events[c],h=r.findEvent(u.name);if(!h)throw new Error(`Event not found: ${u.name}`);let d=new Pl(F.toSinglePrecision(j(u,"time",0)),h);d.intValue=j(u,"int",h.intValue),d.floatValue=j(u,"float",h.floatValue),d.stringValue=j(u,"string",h.stringValue),d.data.audioPath&&(d.volume=j(u,"volume",1),d.balance=j(u,"balance",0)),l.setFrame(o,d)}s.push(l)}let a=0;for(let l=0,o=s.length;l<o;l++)a=Math.max(a,s[l].getDuration());if(isNaN(a))throw new Error("Error while parsing animation, duration is NaN");r.animations.push(new Ks(t,s,a))}static blendModeFromString(e){if(e=e.toLowerCase(),e=="normal")return ne.NORMAL;if(e=="additive")return ne.ADD;if(e=="multiply")return ne.MULTIPLY;if(e=="screen")return ne.SCREEN;throw new Error(`Unknown blend mode: ${e}`)}},rA=class{constructor(e,t,r,i,s){this.mesh=e,this.skin=t,this.slotIndex=r,this.parent=i,this.inheritTimeline=s}};function to(n,e,t,r){let i=n[0],s=j(i,"time",0),a=j(i,"value",t)*r,l=0;for(let o=0;;o++){e.setFrame(o,s,a);let c=n[o+1];if(!c)return e.shrink(l),e;let u=j(c,"time",0),h=j(c,"value",t)*r;i.curve&&(l=ze(i.curve,e,l,o,0,s,u,a,h,r)),s=u,a=h,i=c}}function nA(n,e,t,r,i,s){let a=n[0],l=j(a,"time",0),o=j(a,t,i)*s,c=j(a,r,i)*s,u=0;for(let h=0;;h++){e.setFrame(h,l,o,c);let d=n[h+1];if(!d)return e.shrink(u),e;let f=j(d,"time",0),p=j(d,t,i)*s,m=j(d,r,i)*s,g=a.curve;g&&(u=ze(g,e,u,h,0,l,f,o,p,s),u=ze(g,e,u,h,1,l,f,c,m,s)),l=f,o=p,c=m,a=d}}function ze(n,e,t,r,i,s,a,l,o,c){if(n=="stepped")return e.setStepped(r),t;let u=i<<2,h=n[u],d=n[u+1]*c,f=n[u+2],p=n[u+3]*c;return e.setBezier(t,r,i,s,l,h,d,f,p,a,o),t+1}function j(n,e,t){return n[e]!==void 0?n[e]:t}var nv=class extends ls{createSkeleton(e){this.skeleton=new Vm(e),this.skeleton.updateWorldTransform(),this.stateData=new sf(e),this.state=new Dl(this.stateData)}};var Er=(n=>(n[n.UNKNOWN=0]="UNKNOWN",n[n.VER37=37]="VER37",n[n.VER38=38]="VER38",n[n.VER40=40]="VER40",n[n.VER41=41]="VER41",n))(Er||{});function yu(n){let e=n.substr(0,3),t=Math.floor(Number(e)*10+.001);return e==="3.7"?37:e==="3.8"?38:e==="4.0"?40:e==="4.1"?41:t<37?37:0}var iA=class{constructor(){this.scale=1}readSkeletonData(e,t){let r=null,i=this.readVersionOldFormat(t),s=yu(i);if(s===Er.VER38&&(r=new Ot(new su(e))),i=this.readVersionNewFormat(t),s=yu(i),(s===Er.VER40||s===Er.VER41)&&(r=new gu(new pu(e))),!r){let a=`Unsupported version of spine model ${i}, please update pixi-spine`;console.error(a)}return r.scale=this.scale,r.readSkeletonData(t)}readVersionOldFormat(e){let t=new Ls(e),r;try{t.readString(),r=t.readString()}catch{r=""}return r||""}readVersionNewFormat(e){let t=new Ls(e);t.readInt32(),t.readInt32();let r;try{r=t.readString()}catch{r=""}return r||""}},sA=class{constructor(){this.scale=1}readSkeletonData(e,t){let r=t.skeleton.spine,i=yu(r),s=null;if(i===Er.VER37&&(s=new Jd(new jd(e))),i===Er.VER38&&(s=new Pd(new su(e))),(i===Er.VER40||i===Er.VER41)&&(s=new uf(new pu(e))),!s){let a=`Unsupported version of spine model ${r}, please update pixi-spine`;console.error(a)}return s.scale=this.scale,s.readSkeletonData(t)}},iv=class extends Tm{createBinaryParser(){return new iA}createJsonParser(){return new sA}parseData(e,t,r){return{spineData:e.readSkeletonData(t,r),spineAtlas:t}}};var hf=class extends ls{createSkeleton(e){let t=yu(e.version),r=null;if(t===Er.VER37&&(r=Jx),t===Er.VER38&&(r=Xx),(t===Er.VER40||t===Er.VER41)&&(r=rv),!r){let i=`Cant detect version of spine model ${e.version}`;console.error(i)}this.skeleton=new r.Skeleton(e),this.skeleton.updateWorldTransform(),this.stateData=new r.AnimationStateData(e),this.state=new r.AnimationState(this.stateData)}};new iv().installLoader();var jm=class extends De{gameService;reelBg;reelFrame;reelsContainer;winContainer;reelFrameAnim;reels=[];currentReel=0;config;gameData;reelsStopTimer;reelSpinDuration=800;reelSpinGap=300;reelWidth=0;reelHeight=0;symIndexMap={};isQuickSpin=!1;winPositions=[];bigWin;constructor(e,t,r){super(),this.gameService=r,this.config=e,this.gameData=t,this.initialize()}initialize(){this.setupSprites(),this.setupReels(),this.setupEventListeners(),this.setBigWinAnimation()}setupSprites(){let e=this.gameData.animations.frame;console.log("frameAnim :: ==> ",this.gameData.animations.frame),this.reelFrameAnim=new pc(e),this.reelFrameAnim.label="frame",this.reelFrameAnim.visible=!1,this.reelFrameAnim.stop(),this.addChild(this.reelFrameAnim),this.reelFrameAnim.position.set(-250,-100);let t=this.config.reels;this.reelBg=ue.getSpriteAdd(t.background,this),this.reelsContainer=ue.getContainer(t.container,this),this.winContainer=ue.getContainer(t.winContainer,this),this.reelFrame=ue.getSpriteAdd(t.frame,this)}setupReels(){let{columns:e,rows:t,width:r,height:i}=this.gameData.reelLayout;this.reelWidth=r*e,this.reelHeight=i*t+this.config.reels.view.gapY,this.initializeSymbolIndexMap(),this.calculateWinPositions(e,t),this.createReels(e)}initializeSymbolIndexMap(){this.symIndexMap=this.gameData.symbols.reduce((e,t,r)=>{let i=t.filename.split("/")[1];return e[i]=r,e},{})}calculateWinPositions(e,t){this.winPositions=Array.from({length:e*t},(r,i)=>({x:i%5*140+75+i%5*5,y:Math.floor(i/5)*140+75+Math.floor(i/5)*5}))}createReels(e){let t=this.reelWidth/e;for(let r=0;r<e;r++){let i=new BP(t,this.reelHeight,r,this.gameData,this.gameService);i.label=`reel${r}`,i.position.set((t+this.config.reels.view.gapX)*r,0),i.responseData=this.gameService.displayMatrix[r],i.init(),this.reelsContainer.addChild(i),this.reels.push(i),i.on("spincomplete",this.onReelSpinComplete.bind(this))}}setBigWinAnimation(){}loadAnimation(e,t,r){return B(this,null,function*(){yield ii.load([t,r]);let i=ii.get(t).spineData;this.bigWin=new hf(i),console.log("bigWin ",this.bigWin)})}setupEventListeners(){ee.on(vt.SPIN_START,()=>this.handleSpinStart()),ee.on("onSpinResponce",()=>this.handleSpinResponse()),ee.on(vt.SPIN_STOP,()=>this.stopReels()),ee.on(kr.FREE_SPINS_START,()=>{this.reelsContainer.visible=!0,this.reelsContainer.alpha=1,this.reels.forEach(e=>e.resetWinSyms()),this.winContainer.removeChildren(),this.winContainer.visible=!1,this.gameService.isReelStarted=!1,this.gameService.playBtnSound()})}handleSpinStart(){this.showFrame(!0),this.spinReels(),this.reelsContainer.visible=!0,this.reelsContainer.alpha=1,this.reels.forEach(e=>e.resetWinSyms()),this.winContainer.removeChildren(),this.winContainer.visible=!1,this.gameService.getSpinData()}handleSpinResponse(){let e=this.gameService.displayMatrix;this.reels.forEach((t,r)=>{t.responseData=e[r]})}spinReels(){this.gameService.isReelStarted=!0,this.gameService.spinBtnSound(),this.currentReel=0;let e=0;this.gameService.playSound("spinStart"),this.gameService.playSound("reelSpinning"),this.reels.forEach(t=>{setTimeout(()=>{t.spin()},e),e+=this.isQuickSpin?0:this.reelSpinGap}),this.reelsStopTimer=setTimeout(this.stopReels.bind(this),this.reelSpinDuration)}stopReels(){this.reels.length>0&&this.reels[0].stop(),clearTimeout(this.reelsStopTimer)}update(e){this.reels.forEach(t=>t.update(e))}processWinDataArrayWithDelay(e=2e3){this.gameService.winLines?.forEach((t,r)=>{setTimeout(()=>this.showWinSyms(t,r),e*r)})}showSymMoveAnim(e,t=!1,r=!1){this.winContainer.removeChildren(),this.gameService.playSound("lowPaySym");let i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],s=this.flattenMatrixColumnWise(e);for(let a=0;a<i.length;a++){let l=new Tp(this.gameData.reelLayout.width,this.reelHeight,this.gameData);l.label=`tile${a}`,l.position.set(this.winPositions[i[a]].x,this.winPositions[i[a]].y),this.winContainer.addChild(l),console.log("windata = ",s[a]);let o=this.getObjectById(this.gameData.symbols,s[a]);o!=null&&l.swap(o.animation,t,r)}}showWinSyms(e,t){let r=this.gameService.transformMatrix(JSON.parse(JSON.stringify(e.reels)));this.gameService.freeSpinModel.isFreeSpins,this.reels.forEach((i,s)=>i.updateWinSyms(r[s])),this.winContainer.removeChildren(),this.gameService.playSound("totalWin"),this.displayWinningTiles(e.reels),this.displayWinAmount(e.win),this.gameService.isAutoSpinActive&&this.gameService.isStopOnAnyWin&&this.gameService.stopAutoSpin(),this.gameService.isAutoSpinActive&&this.gameService.isWinLimit&&e.win>=this.gameService.winLimit&&this.gameService.stopAutoSpin(),t+1>=(this.gameService.winLines?.length||0)&&(e.award?setTimeout(()=>{let i=e?.award||this.gameService.freeSpinModel.award,s=i?.number;this.gameService.playSound("fsAwardPopup"),this.gameService.freeSpinModel.updateAward(i),ee.emit(kr.FREE_SPINS_SHOW,s)},2e3):this.gameService.freeSpinModel.isFreeSpins&&this.gameService.freeSpinModel.remaining>0?ee.emit(vt.FREE_SPIN_START):(ee.emit(Sa.UPDATE_WIN,e.win),this.gameService.isAutoSpinActive&&(this.gameService.autoSpinCount++,this.gameService.autoSpinCount==this.gameService.autoPlayNum-1&&this.gameService.stopAutoSpin(),ee.emit(vt.AUTO_SPIN))))}showBigWin(){console.log("showBigWin")}displayWinningTiles(e){this.flattenMatrixColumnWise(e).forEach((r,i)=>{if(r!==0){let s=new Tp(this.gameData.reelLayout.width,this.reelHeight,this.gameData);s.label=`tile${i}`,s.position.set(this.winPositions[i].x,this.winPositions[i].y),this.winContainer.addChild(s);let a=this.getObjectById(this.gameData.symbols,r);a&&s.swap(a.animation,!0,!0)}})}displayWinAmount(e){let t=new Ca(e,"",0),r=new hc({text:t.formatted,style:{fontFamily:"Desyrel",fontSize:55,align:"left"}});r.anchor.set(.5),r.position.set(360,290),this.winContainer.addChild(r)}flattenMatrixColumnWise(e){return e[0].map((t,r)=>e.map(i=>i[r])).flat()}getObjectById(e,t){return Object.values(e).find(r=>r.id==t)||null}onReelSpinComplete(){this.currentReel++,this.currentReel<this.reels.length?this.reels[this.currentReel].stop():this.handleAllReelsStopped()}showFrame(e){e?(this.reelFrameAnim.visible=!0,this.reelFrameAnim.play()):(this.reelFrameAnim.visible=!1,this.reelFrameAnim.stop())}handleAllReelsStopped(){this.gameService.isReelStarted=!1,this.winContainer.visible=!0,this.showFrame(!1),ee.emit(vt.All_SPINS_END),this.gameService.stopSound("reelSpinning"),this.gameService.winLines?.length?(this.reelsContainer.alpha=.2,this.processWinDataArrayWithDelay(2e3)):this.gameService.freeSpinModel.isFreeSpins&&this.gameService.freeSpinModel.remaining>0?ee.emit(vt.FREE_SPIN_START):this.gameService.isAutoSpinActive?(this.gameService.autoSpinCount++,this.gameService.autoSpinCount==this.gameService.autoPlayNum-1&&this.gameService.stopAutoSpin(),ee.emit(vt.AUTO_SPIN)):(this.reelsContainer.visible=!1,this.showSymMoveAnim(this.gameService.rawMatrix,!0,!1))}onResize(e,t){this.x=(e-this.width)*.5,this.y=this.config.view.y,this.reelFrame.position.set(this.config.reels.frame.prop.x,this.config.reels.frame.prop.y),ue.isMobile&&(ue.isLandscape?(this.height=t-130,this.scale.set(this.scale.y,this.scale.y),this.x=(e-this.width)*.5,this.y=40):(this.width=e-16,this.scale.set(this.scale.x,this.scale.x),this.x=(e-this.width)*.5,this.y=120))}};var sv=class extends De{gameService;autoSpinBtn;spinBtn;quickBtn;constructor(e,t){super(),this.gameService=t,this.vo=e,this.initializeButtons(),this.addEventListeners()}initializeButtons(){this.autoSpinBtn=new Ds(this.vo.autoSpinBtn,this,this.onAutoSpinBtnClick.bind(this)),this.spinBtn=new Ds(this.vo.spinBtn,this,this.onSpinBtnClick.bind(this)),this.quickBtn=new Ds(this.vo.quickBtn,this,this.onQuickSpinBtnClick.bind(this))}addEventListeners(){ee.on("onSpinResponce",this.onSpinResponse.bind(this)),ee.on(vt.All_SPINS_END,this.onAllReelsStopped.bind(this)),ee.on(vt.SPIN_STOP,this.onStopSpin.bind(this)),ee.on(vt.FREE_SPIN_START,this.onSpin.bind(this)),ee.on(vt.KEY_SPIN_START,this.onSpacebarEvent.bind(this)),ee.on(vt.AUTO_SPIN,this.onSpin.bind(this))}onSpacebarEvent(){this.gameService.isSpaceBarEnabled&&this.onSpin()}onSpin(){this.gameService.isSpinning!=!0&&(this.spinBtn.toggleBtn(!0),this.onSpinBtnClick())}onSpinResponse(e){console.debug("SpinControl:: onSpinResponce =",e),this.spinBtn.setDisable(!1)}onAllReelsStopped(e){this.gameService.isSpinning=!1,this.resetSpinButtons()}onStopSpin(e){console.debug("SpinControl:: stop spin =",e)}resetSpinButtons(){this.gameService.isAutoSpinActive?(this.autoSpinBtn.setDisable(!1),this.spinBtn.toggleBtn(!1)):(this.autoSpinBtn.setDisable(!1),this.spinBtn.toggleBtn(!1),this.spinBtn.setDisable(!1),this.quickBtn.toggleBtn(!1),this.quickBtn.setDisable(!1))}onResize(e,t){this.x=this.vo.view.x,this.y=this.vo.view.y,this.scaleBasedOnDevice(e,t)}scaleBasedOnDevice(e,t){ue.isMobile&&(this.scale.set(.8,.8),this.x=e*.5,this.y=ue.isLandscape?t-45:t-200)}onMaxBetBtnClick(){this.gameService.playBtnSound(),console.debug("onMaxBetBtnClick")}onQuickSpinBtnClick(){this.gameService.playBtnSound()}startSpin(){this.spinBtn.toggleBtn(!0),this.gameService.isSpinning=!0,this.disableButtonsDuringSpin(),ee.emit(vt.SPIN_START)}disableButtonsDuringSpin(){this.spinBtn.setDisable(!0),this.quickBtn.setDisable(!0),this.gameService.isAutoSpinActive||this.autoSpinBtn.setDisable(!0)}onAutoSpinBtnClick(){this.gameService.playBtnSound(),this.toggleAutoSpin()}toggleAutoSpin(){this.gameService.isAutoSpinActive?(this.gameService.isAutoSpinActive=!1,this.autoSpinBtn.setDisable(!0)):(this.gameService.isAutoSpinActive=!0,ee.emit(vt.AUTO_SPIN),this.autoSpinBtn.setDisable(!1))}onSpinBtnClick(){this.gameService.playBtnSound(),this.spinBtn.isOn?this.startSpin():(this.spinBtn.setDisable(!0),ee.emit(vt.SPIN_STOP))}onDestroy(){ee.off("onSpinResponce",this.onSpinResponse),ee.off(vt.All_SPINS_END,this.onAllReelsStopped),ee.off(vt.SPIN_STOP,this.onStopSpin)}};var Gm=class extends De{gameService;timeTxt;timeInterval;panel;menu;spinCtrl;constructor(e,t){super(),this.gameService=t,this.vo=e,this.panel=new PP(this.vo.panel,this.gameService),this.addChild(this.panel),this.menu=new T0(this.vo.menu,this.gameService),this.addChild(this.menu),this.spinCtrl=new sv(this.vo.spinControl,this.gameService),this.addChild(this.spinCtrl),ee.on(vt.SPIN_START,r=>{this.gameService.freeSpinModel.isFreeSpins||(this.panel.resetWin(),this.panel.handleSpinStart()),this.gameService.sendSocketMessage(this.panel.getCurrentBaseBetValue(),10)}),ee.on(Sa.UPDATE_WALLET,r=>this.panel.updateValues(r))}startTimeUpdate(){this.timeInterval=setInterval(()=>this.updateTime(),1e3)}updateTime(){let e=new Date().getHours(),t=new Date().getMinutes(),r=`${e<10?"0":""}${e} : ${t<10?"0":""}${t}`;this.timeTxt.text=r}onResize(e,t){this.spinCtrl.onResize(e,t),this.menu.onResize(e,t),this.panel.onResize(e,t)}onDestroy(){this.timeInterval&&(clearInterval(this.timeInterval),this.timeInterval=null)}};var ov=class extends De{_container;_bg;_contratulationsTxt;_countText;_winTypeTxt;_continueBtn;_data;constructor(e,t){super(),this.vo=e,this._data=t,this._container=new De,this._container.label="freespins",this.addChild(this._container),this._bg=ue.getSpriteAdd({frameId:"popup/fsBgIn"},this._container),this._bg.anchor.set(.5),this._bg.scale.set(1.5,1.5),this._contratulationsTxt=ue.getSpriteAdd({frameId:"popup/congratTxt"},this._container),this._contratulationsTxt.anchor.set(.5),this._contratulationsTxt.scale.set(.5,.5),this._contratulationsTxt.position.set(0,-90),this._countText=new hc({text:"0",style:{fontFamily:"Desyrel",fontSize:55,align:"left"}}),this._countText.anchor.set(.5),this._countText.position.set(0,-25),this._container.addChild(this._countText),this._winTypeTxt=ue.getSpriteAdd({frameId:"popup/fsTxt"},this._container),this._winTypeTxt.anchor.set(.5),this._winTypeTxt.scale.set(.8,.8),this._winTypeTxt.position.set(0,50);let r={name:"infoIcon",frameId:"popup/fsContinue/bg",icon:"",x:0,y:90,ax:.5,ay:.5,visible:!0};this._continueBtn=new De,this._continueBtn.label="continueBtn",this.addChild(this._continueBtn),new Gn(r,this._continueBtn,this.onFreeSpinsClose.bind(this)).position.set(0,90);let s={txtCode:"Continue",prop:{x:0,y:0,ax:.5,ay:.5},sty:{fontSize:20,fontFamily:"regularFont",fontWeight:"bold",fill:"#ffffff",stroke:{color:"#391400",width:0,join:"round"},letterSpacing:1}};this._continueBtn.addChild(ue.getText(s)),this._container.pivot.set(.5,.5),this._container.position.set(640,360)}onFreeSpinsClose(){this.visible=!1,ee.emit(kr.FREE_SPINS_START)}showFreespins(e){this._countText.text=e.toString(),this.visible=!0}};var $m=class extends De{_data;_bgchar;_fs;constructor(e,t){super(),this.vo=e,console.log("Overlay :: ==> ",this.vo),this._data=t;let r=this._data.animations.bgchar;this._bgchar=new pc(r),this._bgchar.label="bgchar",this.addChild(this._bgchar),this._bgchar.position.set(r.x,r.y),this._fs=new ov(this.vo,this._data),this.addChild(this._fs),this._fs.visible=!1,ee.on(kr.FREE_SPINS_SHOW,this.onFreeSpins.bind(this))}onFreeSpins(e){console.log("Overlay :: onFreeSpins ==> ",e),this._fs.showFreespins(e)}resize(e,t){console.log(e,t)}};var av=class extends fc{assetLoader;sceneService;_machine;_gameLogo;_controls;_overlay;_config;constructor(e,t,r,i){super(),this.assetLoader=r,this.sceneService=i,this._config=e;let s=e[this.device].GameScene;this._controls=new Gm(s.controls,t),this.addChild(this._controls),this._machine=new jm(s.machine,e.gameConfig,t),this.addChild(this._machine),this._gameLogo=new Mc(s.gameLogo),this.addChild(this._gameLogo),this._overlay=new $m(this._config.overlay,e.gameConfig),this.addChild(this._overlay)}update(e,t){this._machine&&this._machine.update(e)}onResize(e,t,r,i){this._gameLogo.onResize(e,t),this._machine.onResize(e,t),this._controls.onResize(e,t)}};var lk=(()=>{class n{loadedAssets=new Map;load(t,r,i){return B(this,null,function*(){let s=yield ii.load({src:r,onProgress:a=>{i&&i(a)}});this.loadedAssets.set(t,s)})}getTexture(t){let r=this.loadedAssets.get(t);if(!r)throw new Error(`Texture ${t} not loaded`);return r instanceof rn?r:rn.from(r)}getSpriteSheet(t){let r=this.loadedAssets.get(t);if(!r)throw new Error(`Sprite sheet ${t} not loaded`);return r}static \u0275fac=function(r){return new(r||n)};static \u0275prov=oe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var ck=(()=>{class n{_gameService;assetLoader;sceneServer;_config;_pixiApp;_gameBg;_curScene;eventSubs;constructor(t,r,i){this._gameService=t,this.assetLoader=r,this.sceneServer=i}ngOnInit(){this.eventSubs=this._gameService.gameListener.subscribe(t=>{this.handleEvent(t)})}handleEvent(t){switch(t.event){case rr.APP_INIT_COMPLETE:this._config=t.data,this.initPixiApp();break;case rr.APP_RESIZE:break;default:break}}initPixiApp(){let t={width:1280,height:720,background:"#333333",antialias:!0};this._pixiApp=new dp("pixiCanvas",t),this._pixiApp.initApp(),this.sceneServer.initialize(this._pixiApp),this._gameBg=new D0(this._config[this.device].Background,this._config),this._pixiApp.addChild(this._gameBg),this.initializeScenes(),this._pixiApp.addListener(st.RESIZE,this.onResize.bind(this)),this._pixiApp.addListener(st.FOCUS,this.onFocus.bind(this)),this._pixiApp.addListener(st.UPDATE,this.onUpdate.bind(this))}initializeScenes(){this.sceneServer.addScene("intro",new P0(this._config,this.sceneServer,this._gameService)),this.sceneServer.addScene("game",new av(this._config,this._gameService,this.assetLoader,this.sceneServer)),this.sceneServer.addScene("loading",new R0(this.assetLoader,this.sceneServer))}onResize(t,r,i,s){console.log("PixiCanvas:: onResize => ",t,r,i,s),this.sceneServer.onResize(t,r,i,s),this._gameService.onResize(t,r,i,s),this._gameBg.onResize(t,r)}onFocus(){}onUpdate(t,r){this.sceneServer.update(t.deltaTime,r)}get device(){return Hi.any?"mobile":"desktop"}ngOnDestroy(){this.eventSubs?.unsubscribe()}static \u0275fac=function(r){return new(r||n)(yn(rr),yn(lk),yn(LP))};static \u0275cmp=gn({type:n,selectors:[["app-pixi-canvas"]],standalone:!0,features:[xn],decls:1,vars:0,consts:[["id","pixiCanvas"]],template:function(r,i){r&1&&re(0,"div",0)},dependencies:[Dn],styles:["#pixiCanvas[_ngcontent-%COMP%]{display:flex}"]})}return n})();var oA=function(n){return n.OVERLAY_TOGGLE="overlayToggle",n}(oA||{});var sW=n=>({backgroundImage:n}),uk=(()=>{class n{route;_gameService;bgImg="";isLoading=!0;isOverlay=!0;queryParamSubscription;eventSubscription;messages=[];newMessage="";handleSpaceKeyUp(t){ee.emit(vt.KEY_SPIN_START,t)}constructor(t,r){this.route=t,this._gameService=r}ngOnInit(){this.queryParamSubscription=this.route.queryParamMap.subscribe(t=>{t.get("game_name")&&(this.eventSubscription=this._gameService.gameListener.subscribe(i=>{this.handleEvent(i)}),ee.on(oA.OVERLAY_TOGGLE,i=>{this.isOverlay=i,console.log("AppComponent:: OVERLAY_TOGGLE =",i)}),this._gameService.initService(t))})}handleEvent(t){switch(t.event){case rr.APP_INIT:this.bgImg=`url(${t.data})`;break;case rr.APP_INIT_COMPLETE:this.isLoading=!1,this.isOverlay=!1;break;case rr.APP_RESIZE:break;default:break}}ngOnDestroy(){this.queryParamSubscription?.unsubscribe(),this.eventSubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||n)(yn(da),yn(rr))};static \u0275cmp=gn({type:n,selectors:[["app-root"]],hostBindings:function(r,i){r&1&&bt("keyup.space",function(a){return i.handleSpaceKeyUp(a)},!1,iM)},standalone:!0,features:[xn],decls:6,vars:8,consts:[[1,"wrapper"],[1,"wrap-game"],[1,"wrap-bg"]],template:function(r,i){r&1&&(A(0,"div",0)(1,"div",1),re(2,"div",2)(3,"app-pixi-canvas")(4,"app-overlay"),T(),re(5,"app-loader"),T()),r&2&&(yt(2),Ju(Mr(6,sW,i.bgImg)),yt(2),kb(i.isOverlay?"":"hide"),yt(),kb(i.isLoading?"":"hide"))},dependencies:[Dn,LD,kP,ck],styles:[".wrapper[_ngcontent-%COMP%]{width:100%;height:100%;position:relative}.wrapper[_ngcontent-%COMP%]   .wrap-game[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;justify-content:center;align-items:center;position:absolute;top:0;background:#00000014}.wrapper[_ngcontent-%COMP%]   .wrap-game[_ngcontent-%COMP%]   .wrap-bg[_ngcontent-%COMP%]{width:100%;height:100%;background:no-repeat center/cover;filter:blur(5px);position:absolute;z-index:-1}.wrapper[_ngcontent-%COMP%]   app-overlay[_ngcontent-%COMP%], .wrapper[_ngcontent-%COMP%]   app-loader[_ngcontent-%COMP%]{width:100%;height:100%;position:absolute;display:flex;justify-content:center;align-items:center}.wrapper[_ngcontent-%COMP%]   app-overlay[_ngcontent-%COMP%]{z-index:1;overflow:hidden}.wrapper[_ngcontent-%COMP%]   app-loader[_ngcontent-%COMP%]{z-index:2}.wrapper[_ngcontent-%COMP%]   .hide[_ngcontent-%COMP%]{display:none}"]})}return n})();BI(uk,SD).catch(n=>console.error(n));
